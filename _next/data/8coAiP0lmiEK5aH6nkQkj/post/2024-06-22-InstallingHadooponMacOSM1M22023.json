{"pageProps":{"post":{"title":"Apple 실리콘M1M2에서 MacOS에 하둡을 설치하는 방법 2023 최신 가이드","description":"","date":"2024-06-22 16:24","slug":"2024-06-22-InstallingHadooponMacOSM1M22023","content":"\n\n이와 유사한 기사가 몇 개 있지만, 저는 여러 중요한 정보가 누락된 기사를 시도해봐서 이를 작성하게 되었습니다. 설치 과정에서 겪은 모든 문제를 다루었습니다.\n\n아래 단계를 주의 깊게 따라 주세요. 몇 가지 문제를 겪은 후에 제대로 설정하는 데 많은 시간이 걸렸습니다. 하지만 전반적인 과정은 간단합니다. 행운을 빕니다.\n\nHomebrew로 Hadoop을 설치해보세요.\n\n\n$ brew install hadoop\n\n\n<div class=\"content-ad\"></div>\n\n해당 디렉토리로 이동해주세요. 작업 중인 버전에 따라 3.3.6을 원하는 버전으로 변경해주세요.\n\n\n$ cd /opt/homebrew/Cellar/hadoop/3.3.6/libexec/etc/hadoop\n\n\n원하는 코드 에디터에서 디렉토리를 열어주세요.\n\n\n$ code .\n\n\n<div class=\"content-ad\"></div>\n\n아래 파일들에 관심이 있습니다.\n\ncore-site.xml\n\n```js\n<property>\n     <name>fs.defaultFS</name>\n     <value>hdfs://localhost:9000</value>\n     <final>true</final>\n</property>\n```\n\n<div class=\"content-ad\"></div>\n\nhdfs-site.xml\n\n```xml\n<구성>\n   <속성>\n      <이름>dfs.replication</이름>\n      <값>1</값>\n   </속성>\n</구성>\n```\n\nmapred-site.xml\n\n```xml\n<구성>\n  <속성>\n    <이름>yarn.app.mapreduce.am.env</이름>\n    <값>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop</값>\n  </속성>\n  <속성>\n    <이름>mapreduce.map.env</이름>\n    <값>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop</값>\n  </속성>\n  <속성>\n    <이름>mapreduce.reduce.env</이름>\n    <값>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop</값>\n  </속성>\n</구성>\n```\n\n<div class=\"content-ad\"></div>\n\nyarn-site.xml\n\n```xml\n<configuration>\n   <property>\n      <name>yarn.nodemanager.aux-services</name>\n      <value>mapreduce_shuffle</value> \n   </property>\n</configuration>\n```\n\nhadoop-env.sh\n\n```sh\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n```\n\n<div class=\"content-ad\"></div>\n\n참고: Mac에 더 최신 버전의 Java가 설치되어 있을 수 있지만, 하둡은 Java 11 이상과 호환되지 않습니다. 이는 제게 큰 문제였으며 adoptopenjdk8을 수동으로 설치한 후에야 문제를 해결할 수 있었습니다.\n\n설치하기 위한 brew 명령어는 다음과 같습니다.\n\n\n$ brew install --cask adoptopenjdk8\n\n\n다음으로 모든 것이 잘 작동하는지 확인해야 합니다. 터미널에 가서 다음을 입력하세요:\n\n<div class=\"content-ad\"></div>\n\n```bash\n$ start-all.sh\n\n만약 이 명령어가 다음과 같은 오류를 발생시킨다면:\n\n![InstallingHadooponMacOSM1M2](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_1.png)\n\n그렇다면, 다음 명령어를 실행해야 합니다:\n```\n\n<div class=\"content-ad\"></div>\n\n```shell\n$ stop-all.sh\n\n$ ssh-keygen -t rsa -P \"\" -f ~/.ssh/id_rsa (이미 컴퓨터에 SSH 키가 설정되어 있는 경우 이 단계를 건너뜁니다).\n\n$ cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys\n\n$ hadoop namenode -format\n```\n\n<div class=\"content-ad\"></div>\n\n이제 안전하게 $ start-all.sh를 실행할 수 있어요.\n\n이 몤령어를 사용하여 모든 프로세스가 올바르게 실행 중인지 확인할 수 있어요.\n\n$ jps\n\n![이미지](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_2.png)\n\n<div class=\"content-ad\"></div>\n\n지금 http://localhost:9870 으로 이동해주세요\n\n![이미지](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_3.png)\n\n설치가 완료되었습니다. 참여해 주셔서 감사합니다.\n\n건박.\n\n<div class=\"content-ad\"></div>\n\n별도 팁(인터넷에서 해결책을 찾기 어려운 몇 가지 귀찮은 오류가 있습니다. 그래서 여기에 올려두었습니다.):\n\n- 가끔은 하둡을 시작하고 로컬호스트:9870에서 웹 인터페이스를 열 때 \"404 사이트에 연결할 수 없음\" 오류가 발생할 수 있습니다. 이것은 매우 흔한 오류입니다. 하둡 프로세스를 정지하고 이 명령어를 실행하여 수정할 수 있습니다 - `$ hadoop namenode -format`. 이렇게 간단합니다.\n- 다음과 같은 문제가 발생할 수 있습니다:\n\n```![이미지](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_4.png)```\n\n이는 웹 인터페이스의 \"브라우저 파일 시스템\" 탭을 열 때 발생합니다.\n\n<div class=\"content-ad\"></div>\n\n```\n![](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_5.png)\n\n이 문제는 하둡에 참조된 호환되지 않는 자바 버전(`11`) 때문에 발생합니다. 자바 버전을 변경해도 작동하지 않는 경우 다음 수정 사항을 시도해보세요:\n\n- $ hadoop namenode -format\n- 컴퓨터를 다시 시작하세요 (유령 프로세스가 문제를 일으킬 수 있습니다).\n\n편집: 여기까지 읽어주셨다면 클랩(clap)을 눌러주시고 팔로우 해주시면 감사하겠습니다. 단 몇 분이면 됩니다!\n","ogImage":{"url":"/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_0.png"},"coverImage":"/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_0.png","tag":["Tech"],"readingTime":4},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>이와 유사한 기사가 몇 개 있지만, 저는 여러 중요한 정보가 누락된 기사를 시도해봐서 이를 작성하게 되었습니다. 설치 과정에서 겪은 모든 문제를 다루었습니다.</p>\n<p>아래 단계를 주의 깊게 따라 주세요. 몇 가지 문제를 겪은 후에 제대로 설정하는 데 많은 시간이 걸렸습니다. 하지만 전반적인 과정은 간단합니다. 행운을 빕니다.</p>\n<p>Homebrew로 Hadoop을 설치해보세요.</p>\n<p>$ brew install hadoop</p>\n<div class=\"content-ad\"></div>\n<p>해당 디렉토리로 이동해주세요. 작업 중인 버전에 따라 3.3.6을 원하는 버전으로 변경해주세요.</p>\n<p>$ cd /opt/homebrew/Cellar/hadoop/3.3.6/libexec/etc/hadoop</p>\n<p>원하는 코드 에디터에서 디렉토리를 열어주세요.</p>\n<p>$ code .</p>\n<div class=\"content-ad\"></div>\n<p>아래 파일들에 관심이 있습니다.</p>\n<p>core-site.xml</p>\n<pre><code class=\"hljs language-js\">&#x3C;property>\n     <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">name</span>></span>fs.defaultFS<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">name</span>></span></span>\n     <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">value</span>></span>hdfs://localhost:9000<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">value</span>></span></span>\n     <span class=\"xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">final</span>></span>true<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">final</span>></span></span>\n&#x3C;/property>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>hdfs-site.xml</p>\n<pre><code class=\"hljs language-xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">구성</span>></span>\n   <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">속성</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">이름</span>></span>dfs.replication<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">이름</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">값</span>></span>1<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">값</span>></span>\n   <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">속성</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">구성</span>></span>\n</code></pre>\n<p>mapred-site.xml</p>\n<pre><code class=\"hljs language-xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">구성</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">속성</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">이름</span>></span>yarn.app.mapreduce.am.env<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">이름</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">값</span>></span>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">값</span>></span>\n  <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">속성</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">속성</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">이름</span>></span>mapreduce.map.env<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">이름</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">값</span>></span>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">값</span>></span>\n  <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">속성</span>></span>\n  <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">속성</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">이름</span>></span>mapreduce.reduce.env<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">이름</span>></span>\n    <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">값</span>></span>HADOOP_MAPRED_HOME=/opt/homebrew/opt/hadoop<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">값</span>></span>\n  <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">속성</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">구성</span>></span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>yarn-site.xml</p>\n<pre><code class=\"hljs language-xml\"><span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">configuration</span>></span>\n   <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">property</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">name</span>></span>yarn.nodemanager.aux-services<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">name</span>></span>\n      <span class=\"hljs-tag\">&#x3C;<span class=\"hljs-name\">value</span>></span>mapreduce_shuffle<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">value</span>></span> \n   <span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">property</span>></span>\n<span class=\"hljs-tag\">&#x3C;/<span class=\"hljs-name\">configuration</span>></span>\n</code></pre>\n<p>hadoop-env.sh</p>\n<pre><code class=\"hljs language-sh\"><span class=\"hljs-built_in\">export</span> JAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>참고: Mac에 더 최신 버전의 Java가 설치되어 있을 수 있지만, 하둡은 Java 11 이상과 호환되지 않습니다. 이는 제게 큰 문제였으며 adoptopenjdk8을 수동으로 설치한 후에야 문제를 해결할 수 있었습니다.</p>\n<p>설치하기 위한 brew 명령어는 다음과 같습니다.</p>\n<p>$ brew install --cask adoptopenjdk8</p>\n<p>다음으로 모든 것이 잘 작동하는지 확인해야 합니다. 터미널에 가서 다음을 입력하세요:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-bash\">$ start-all.sh\n\n만약 이 명령어가 다음과 같은 오류를 발생시킨다면:\n\n![InstallingHadooponMacOSM1M2](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_1.png)\n\n그렇다면, 다음 명령어를 실행해야 합니다:\n</code></pre>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-shell\"><span class=\"hljs-meta prompt_\">$ </span><span class=\"bash\">stop-all.sh</span>\n<span class=\"hljs-meta prompt_\">\n$ </span><span class=\"bash\">ssh-keygen -t rsa -P <span class=\"hljs-string\">\"\"</span> -f ~/.ssh/id_rsa (이미 컴퓨터에 SSH 키가 설정되어 있는 경우 이 단계를 건너뜁니다).</span>\n<span class=\"hljs-meta prompt_\">\n$ </span><span class=\"bash\"><span class=\"hljs-built_in\">cat</span> ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys</span>\n<span class=\"hljs-meta prompt_\">\n$ </span><span class=\"bash\">hadoop namenode -format</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>이제 안전하게 $ start-all.sh를 실행할 수 있어요.</p>\n<p>이 몤령어를 사용하여 모든 프로세스가 올바르게 실행 중인지 확인할 수 있어요.</p>\n<p>$ jps</p>\n<p><img src=\"/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_2.png\" alt=\"이미지\"></p>\n<div class=\"content-ad\"></div>\n<p>지금 <a href=\"http://localhost:9870\" rel=\"nofollow\" target=\"_blank\">http://localhost:9870</a> 으로 이동해주세요</p>\n<p><img src=\"/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_3.png\" alt=\"이미지\"></p>\n<p>설치가 완료되었습니다. 참여해 주셔서 감사합니다.</p>\n<p>건박.</p>\n<div class=\"content-ad\"></div>\n<p>별도 팁(인터넷에서 해결책을 찾기 어려운 몇 가지 귀찮은 오류가 있습니다. 그래서 여기에 올려두었습니다.):</p>\n<ul>\n<li>가끔은 하둡을 시작하고 로컬호스트:9870에서 웹 인터페이스를 열 때 \"404 사이트에 연결할 수 없음\" 오류가 발생할 수 있습니다. 이것은 매우 흔한 오류입니다. 하둡 프로세스를 정지하고 이 명령어를 실행하여 수정할 수 있습니다 - <code>$ hadoop namenode -format</code>. 이렇게 간단합니다.</li>\n<li>다음과 같은 문제가 발생할 수 있습니다:</li>\n</ul>\n<p><code>![이미지](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_4.png)</code></p>\n<p>이는 웹 인터페이스의 \"브라우저 파일 시스템\" 탭을 열 때 발생합니다.</p>\n<div class=\"content-ad\"></div>\n<pre><code>![](/assets/img/2024-06-22-InstallingHadooponMacOSM1M22023_5.png)\n\n이 문제는 하둡에 참조된 호환되지 않는 자바 버전(`11`) 때문에 발생합니다. 자바 버전을 변경해도 작동하지 않는 경우 다음 수정 사항을 시도해보세요:\n\n- $ hadoop namenode -format\n- 컴퓨터를 다시 시작하세요 (유령 프로세스가 문제를 일으킬 수 있습니다).\n\n편집: 여기까지 읽어주셨다면 클랩(clap)을 눌러주시고 팔로우 해주시면 감사하겠습니다. 단 몇 분이면 됩니다!\n</code></pre>\n</body>\n</html>\n"},"__N_SSG":true}