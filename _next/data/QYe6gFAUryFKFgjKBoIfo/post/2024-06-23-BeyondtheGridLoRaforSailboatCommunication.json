{"pageProps":{"post":{"title":"해상 통신을 위한 LoRa 기술 활용법 범선에서의 새로운 가능성","description":"","date":"2024-06-23 17:37","slug":"2024-06-23-BeyondtheGridLoRaforSailboatCommunication","content":"\n\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_0.png\" />\n\n# 배경\n\n내 아내와 나는 40피트 카타마란에 살고 있으며 자주 휴대용 VHF 해양 무선기로 통하지 않는 지역에 있습니다. 휴대용 VHF 해양 무선기는 좋지만 범위가 제한되고 배터리 수명은 사용에 따라 일수보다는 시간으로 더 정확히 측정됩니다. 게다가, 해양 VHF 주파수는 156-174 MHz 사이이기 때문에 시야 통제 밖이면 신호가 빠르게 약해집니다. 일반적으로 주파수가 높을수록 건물, 언덕 또는 산과 같은 물체를 통과하거나 주위를 휘젓는 데 있어 침투하는 능력이 떨어집니다.\n\n그래서 나는 이에 대한 대안적인 통신 수단을 찾고 있었습니다. 그래서 나왔다고 하는 것이 LoRa와 Meshtastic입니다.\n\n<div class=\"content-ad\"></div>\n\n# 가능한 해결책\n\nLoRa (Long Range)은 미국에서 915MHz 주파수에서 작동하는 라디오 유형입니다. 해양용 VHF보다 훨씬 높은 주파수에서 작동하지만, CSS (chirp spread spectrum) 기술을 사용하여 신호 무결성을 유지하는 데 훨씬 효율적입니다. CSS는 915MHz 주변을 중심으로 한 주파수 범위에 퍼져있는 신호를 방송합니다.\n이로써 전파가 소음과 간섭, 도플러 이동 (신호가 이동할 때, 예를 들어 보트 딩기에서)에 민감하지 않고 수신기 성능도 더 우수합니다. 이 문장을 읽고 계시다면 트랜시버가 어떻게 작동하는지에 대한 기본적인 지식이 있거나 몇 가지 사항을 찾아보는 것이 상관 없다고 가정하겠습니다.\n\n# 우리에게 어떤 점이 도움이 될까요?\n\n첫째, 이것이 우리의 요구 사항을 충족시킬 것이라는 보장은 없지만, 시도할 가치가 있는 실험이라고 생각됩니다. 또한, 어릴 때 해머디오 라이선스를 취득했기 때문에 라디오 하드웨어와 노는 것을 즐겼던 시절로 돌아가는 향수 여행이기도 합니다.\n\n<div class=\"content-ad\"></div>\n\n다음 시나리오를 고려해 봅시다; 우리는 휴대폰 수신이 가능한 지역 가장자리에 정박해 있고, 우리 중 한 명이 보트를 타고 마을로 가서 장보러 가야 합니다. 마을은 가깝지만 몇 건물만 떨어져 있어도 휴대용 VHF 라디오를 사용할 수 없을 수 있습니다. \n우리가 리스트에 팝콘을 잊어먹었다는 걸 어떻게 알려줄까요? 이럴 때 LoRa가 필요합니다.\n\n# 장비\n\n![image](/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_1.png)\n\n저는 LoRa 보드를 아마존에서 주문했는데, 편리하게도 2개 팩키지로 판매하고 있습니다. 저는 WiFi와 블루투스가 장착된 제품을 선택했으나 GPS는 없는 제품입니다.\n\n<div class=\"content-ad\"></div>\n\nUSB-C 커넥터로 전원을 공급할 수 있는데, 동시에 내장형 LiPo 배터리 관리자가 있어서 이에 맞는 배터리를 구입했습니다. 보드의 전체 사양을 원하신다면 여기서 찾아볼 수 있어요.\n\n사알과 함께 사용할 배터리가 감쪽같이 들어가지 않아서 사례에는 맞지 않는다는 사실을 깨달았습니다. 하지만 사례가 그리 단단하지 않다고 생각해서 크게 상관하지 않았어요. muziWORKSlab에서 이 사례를 몇 개 주문했으니 곧 도착할 거예요. 거기서 일이 잘 풀리지 않는다고 느꼈기 때문에 이 같은 상황이 발생했어요. 그리고 동일한 상점에서 와이파이 안테나도 주문했어요. 사실상, 같은 상품으로 부터 공급을 받은 안테나는 최적의 성능을 내기에는 크기가 적절하지 않은 듯하더라고요. 주문한 애는 길이 등을 고려하여 계산해 보았을 때 훨씬 나아보여서, 915MHz 대역에서 전송할 때 측정된 SWR이 좋아졌어요. 이 대역은 미국의 주파수대 조건이죠.\n\n선택한 배터리는 이미 SH1.25×2 배터리 커넥터가 부착되어 있어 배터리 포트에 직접 연결할 수 있습니다. 라디오와 함께 제공된 헤더 핀들은 좋은 것 같지만, 나는 아직 신기한 하드웨어 실험을 하고 싶진 않아요. 적어도 아직은요.\n\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_2.png\" />\n\n<div class=\"content-ad\"></div>\n\n# 조각들을 모두 맞추기\n\n조그만하지만 정말 라디오인데, 모든 라디오들처럼 안테나를 사용하지 않고 방송하면 라디오 전송 회로에 손상을 입힐 수 있습니다. 그래서 장치에 전원을 공급하기 전에 안테나를 설치해야 했습니다. 이것은 실제로 시도해보기 전에는 간단한 과정처럼 보였습니다. 커넥터를 딱 맞추고 눌러야 하는데, 제 뚱뚱한 소세지 손가락은 작은 OLED 디스플레이의 정확한 가장자리와 싸우고 있었습니다. 이미지에서 얼마나 간격이 좁은지 볼 수 있습니다.\n수정하는 데 몇 분이 걸렸지만, 마침내 제대로 끼울 수 있었습니다. 진짜 안테나가 이번 주에 도착할 때 신경 쓰이지 않기를 바랍니다.\n\n![이미지](/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_3.png)\n\n# 라디오 설정\n\n<div class=\"content-ad\"></div>\n\n안테나가 설치되어 있어 라디오를 설정해야 했습니다. USB-C 커넥터를 사용하는 라디오와 노트북 및 USB 케이블이 있어 전원을 공급하는 것은 쉬웠어요. 부팅 시퀀스가 완료되면 위의 화면이 표시됩니다. 이제 메스타스틱 플랫폼을 장치에 플래시해야 했어요. 메스타스틱은 장치를 메쉬 네트워크의 노드로 변환하는 소프트웨어 및 하드웨어 통신 프로토콜을 제공합니다.\n\n복잡성 수준이 다른 몇 가지 방법으로 이 작업을 수행할 수 있지만, 현재는 어떤 실험도 하지 않고(적어도 현재는) 게으르기 때문에 브라우저 기반의 USB 플래셔를 사용하기로 선택했습니다.\n\n다행히도 이 프로세스는 원하던 대로 매우 간단했습니다. 단순히 설치하고 싶은 메스타스틱 버전을 선택하고 플래싱하는 것으로 요약됩니다. 그것뿐이에요. 장치에 대한 많은 구성이 있지만, 플래시된 후에는 라디오가 작동하도록 장치가 작동하는 지역을 구성해야 합니다.\n\n구성은 웹 클라이언트, iOS 또는 Android 클라이언트 또는 CLI를 사용하여 설정할 수 있습니다. 블루투스, 무선 또는 시리얼 연결을 받아들입니다. 저는 간단한 텍스트 메시지를 보내기 위해 사용할 것이므로 안드로이드 클라이언트를 설치하고 블루투스로 연결했어요. 이제 첫 번째 작동하는 라디오가 준비되었습니다!\n\n<div class=\"content-ad\"></div>\n\n# 배터리와 두 번째 라디오\n\n구성 옵션을 몇 분 동안 살펴본 후, 배터리 중 하나를 꽂아 충전할 시간이라고 결정했습니다. 배터리 소켓 앞에 골치 아픈 칩이 위치해 있어서 손가락이 뚱뚱해서 귀찮은 문제를 마주했죠. 소켓 정렬하는 데 고통스러움을 겪었지만 결국 해내서 배터리를 꽂을 수 있었습니다. USB 케이블을 다시 연결하고 완전히 충전될 때까지 약 2시간 동안 충전한 후 검을 뽑고 전원을 끄었습니다.\n\n![이미지](/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_6.png)\n\n이제 두 번째 라디오에 대한 라디오 설정을 반복해야 했습니다. 두 번째 시도 때는 확실히 빨랐어요. 금방 충전했습니다. 두 장치 간에 작은 텍스트 메시지를 주고받도록 실험한 뒤 결국 핸드폰의 GPS 위치를 라디오와 공유하는 방법을 찾았습니다. 그래서 통신하는 노드와의 거리를 나타내는 작은 화살표가 보이게 했습니다. 정확하지는 않지만 귀엽고, 내가 배에서 얼마나 떨어져 있는지 알고 싶을 때 유용할 것 같았습니다.\n\n<div class=\"content-ad\"></div>\n\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_7.png\" />\n\n# 실험 시간입니다\n\n집 안에서 간단히 살펴 보았지만, 실제 실험이 시작되는 것은 케이스가 도착하고 범위 테스트를 시작할 수 있는 때입니다. 희망적으로 케이스가 도착하면 다음 주에 그에 대한 보고를 할 수 있을 것입니다.\n데이터가 있으면 설정과 설명에 대해 자세히 이야기할 예정입니다.","ogImage":{"url":"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_0.png"},"coverImage":"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_0.png","tag":["Tech"],"readingTime":5},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_0.png\">\n<h1>배경</h1>\n<p>내 아내와 나는 40피트 카타마란에 살고 있으며 자주 휴대용 VHF 해양 무선기로 통하지 않는 지역에 있습니다. 휴대용 VHF 해양 무선기는 좋지만 범위가 제한되고 배터리 수명은 사용에 따라 일수보다는 시간으로 더 정확히 측정됩니다. 게다가, 해양 VHF 주파수는 156-174 MHz 사이이기 때문에 시야 통제 밖이면 신호가 빠르게 약해집니다. 일반적으로 주파수가 높을수록 건물, 언덕 또는 산과 같은 물체를 통과하거나 주위를 휘젓는 데 있어 침투하는 능력이 떨어집니다.</p>\n<p>그래서 나는 이에 대한 대안적인 통신 수단을 찾고 있었습니다. 그래서 나왔다고 하는 것이 LoRa와 Meshtastic입니다.</p>\n<div class=\"content-ad\"></div>\n<h1>가능한 해결책</h1>\n<p>LoRa (Long Range)은 미국에서 915MHz 주파수에서 작동하는 라디오 유형입니다. 해양용 VHF보다 훨씬 높은 주파수에서 작동하지만, CSS (chirp spread spectrum) 기술을 사용하여 신호 무결성을 유지하는 데 훨씬 효율적입니다. CSS는 915MHz 주변을 중심으로 한 주파수 범위에 퍼져있는 신호를 방송합니다.\n이로써 전파가 소음과 간섭, 도플러 이동 (신호가 이동할 때, 예를 들어 보트 딩기에서)에 민감하지 않고 수신기 성능도 더 우수합니다. 이 문장을 읽고 계시다면 트랜시버가 어떻게 작동하는지에 대한 기본적인 지식이 있거나 몇 가지 사항을 찾아보는 것이 상관 없다고 가정하겠습니다.</p>\n<h1>우리에게 어떤 점이 도움이 될까요?</h1>\n<p>첫째, 이것이 우리의 요구 사항을 충족시킬 것이라는 보장은 없지만, 시도할 가치가 있는 실험이라고 생각됩니다. 또한, 어릴 때 해머디오 라이선스를 취득했기 때문에 라디오 하드웨어와 노는 것을 즐겼던 시절로 돌아가는 향수 여행이기도 합니다.</p>\n<div class=\"content-ad\"></div>\n<p>다음 시나리오를 고려해 봅시다; 우리는 휴대폰 수신이 가능한 지역 가장자리에 정박해 있고, 우리 중 한 명이 보트를 타고 마을로 가서 장보러 가야 합니다. 마을은 가깝지만 몇 건물만 떨어져 있어도 휴대용 VHF 라디오를 사용할 수 없을 수 있습니다.\n우리가 리스트에 팝콘을 잊어먹었다는 걸 어떻게 알려줄까요? 이럴 때 LoRa가 필요합니다.</p>\n<h1>장비</h1>\n<p><img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_1.png\" alt=\"image\"></p>\n<p>저는 LoRa 보드를 아마존에서 주문했는데, 편리하게도 2개 팩키지로 판매하고 있습니다. 저는 WiFi와 블루투스가 장착된 제품을 선택했으나 GPS는 없는 제품입니다.</p>\n<div class=\"content-ad\"></div>\n<p>USB-C 커넥터로 전원을 공급할 수 있는데, 동시에 내장형 LiPo 배터리 관리자가 있어서 이에 맞는 배터리를 구입했습니다. 보드의 전체 사양을 원하신다면 여기서 찾아볼 수 있어요.</p>\n<p>사알과 함께 사용할 배터리가 감쪽같이 들어가지 않아서 사례에는 맞지 않는다는 사실을 깨달았습니다. 하지만 사례가 그리 단단하지 않다고 생각해서 크게 상관하지 않았어요. muziWORKSlab에서 이 사례를 몇 개 주문했으니 곧 도착할 거예요. 거기서 일이 잘 풀리지 않는다고 느꼈기 때문에 이 같은 상황이 발생했어요. 그리고 동일한 상점에서 와이파이 안테나도 주문했어요. 사실상, 같은 상품으로 부터 공급을 받은 안테나는 최적의 성능을 내기에는 크기가 적절하지 않은 듯하더라고요. 주문한 애는 길이 등을 고려하여 계산해 보았을 때 훨씬 나아보여서, 915MHz 대역에서 전송할 때 측정된 SWR이 좋아졌어요. 이 대역은 미국의 주파수대 조건이죠.</p>\n<p>선택한 배터리는 이미 SH1.25×2 배터리 커넥터가 부착되어 있어 배터리 포트에 직접 연결할 수 있습니다. 라디오와 함께 제공된 헤더 핀들은 좋은 것 같지만, 나는 아직 신기한 하드웨어 실험을 하고 싶진 않아요. 적어도 아직은요.</p>\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_2.png\">\n<div class=\"content-ad\"></div>\n<h1>조각들을 모두 맞추기</h1>\n<p>조그만하지만 정말 라디오인데, 모든 라디오들처럼 안테나를 사용하지 않고 방송하면 라디오 전송 회로에 손상을 입힐 수 있습니다. 그래서 장치에 전원을 공급하기 전에 안테나를 설치해야 했습니다. 이것은 실제로 시도해보기 전에는 간단한 과정처럼 보였습니다. 커넥터를 딱 맞추고 눌러야 하는데, 제 뚱뚱한 소세지 손가락은 작은 OLED 디스플레이의 정확한 가장자리와 싸우고 있었습니다. 이미지에서 얼마나 간격이 좁은지 볼 수 있습니다.\n수정하는 데 몇 분이 걸렸지만, 마침내 제대로 끼울 수 있었습니다. 진짜 안테나가 이번 주에 도착할 때 신경 쓰이지 않기를 바랍니다.</p>\n<p><img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_3.png\" alt=\"이미지\"></p>\n<h1>라디오 설정</h1>\n<div class=\"content-ad\"></div>\n<p>안테나가 설치되어 있어 라디오를 설정해야 했습니다. USB-C 커넥터를 사용하는 라디오와 노트북 및 USB 케이블이 있어 전원을 공급하는 것은 쉬웠어요. 부팅 시퀀스가 완료되면 위의 화면이 표시됩니다. 이제 메스타스틱 플랫폼을 장치에 플래시해야 했어요. 메스타스틱은 장치를 메쉬 네트워크의 노드로 변환하는 소프트웨어 및 하드웨어 통신 프로토콜을 제공합니다.</p>\n<p>복잡성 수준이 다른 몇 가지 방법으로 이 작업을 수행할 수 있지만, 현재는 어떤 실험도 하지 않고(적어도 현재는) 게으르기 때문에 브라우저 기반의 USB 플래셔를 사용하기로 선택했습니다.</p>\n<p>다행히도 이 프로세스는 원하던 대로 매우 간단했습니다. 단순히 설치하고 싶은 메스타스틱 버전을 선택하고 플래싱하는 것으로 요약됩니다. 그것뿐이에요. 장치에 대한 많은 구성이 있지만, 플래시된 후에는 라디오가 작동하도록 장치가 작동하는 지역을 구성해야 합니다.</p>\n<p>구성은 웹 클라이언트, iOS 또는 Android 클라이언트 또는 CLI를 사용하여 설정할 수 있습니다. 블루투스, 무선 또는 시리얼 연결을 받아들입니다. 저는 간단한 텍스트 메시지를 보내기 위해 사용할 것이므로 안드로이드 클라이언트를 설치하고 블루투스로 연결했어요. 이제 첫 번째 작동하는 라디오가 준비되었습니다!</p>\n<div class=\"content-ad\"></div>\n<h1>배터리와 두 번째 라디오</h1>\n<p>구성 옵션을 몇 분 동안 살펴본 후, 배터리 중 하나를 꽂아 충전할 시간이라고 결정했습니다. 배터리 소켓 앞에 골치 아픈 칩이 위치해 있어서 손가락이 뚱뚱해서 귀찮은 문제를 마주했죠. 소켓 정렬하는 데 고통스러움을 겪었지만 결국 해내서 배터리를 꽂을 수 있었습니다. USB 케이블을 다시 연결하고 완전히 충전될 때까지 약 2시간 동안 충전한 후 검을 뽑고 전원을 끄었습니다.</p>\n<p><img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_6.png\" alt=\"이미지\"></p>\n<p>이제 두 번째 라디오에 대한 라디오 설정을 반복해야 했습니다. 두 번째 시도 때는 확실히 빨랐어요. 금방 충전했습니다. 두 장치 간에 작은 텍스트 메시지를 주고받도록 실험한 뒤 결국 핸드폰의 GPS 위치를 라디오와 공유하는 방법을 찾았습니다. 그래서 통신하는 노드와의 거리를 나타내는 작은 화살표가 보이게 했습니다. 정확하지는 않지만 귀엽고, 내가 배에서 얼마나 떨어져 있는지 알고 싶을 때 유용할 것 같았습니다.</p>\n<div class=\"content-ad\"></div>\n<img src=\"/assets/img/2024-06-23-BeyondtheGridLoRaforSailboatCommunication_7.png\">\n<h1>실험 시간입니다</h1>\n<p>집 안에서 간단히 살펴 보았지만, 실제 실험이 시작되는 것은 케이스가 도착하고 범위 테스트를 시작할 수 있는 때입니다. 희망적으로 케이스가 도착하면 다음 주에 그에 대한 보고를 할 수 있을 것입니다.\n데이터가 있으면 설정과 설명에 대해 자세히 이야기할 예정입니다.</p>\n</body>\n</html>\n"},"__N_SSG":true}