{"pageProps":{"post":{"title":"NASA LDAP 서버를 해킹한 방법","description":"","date":"2024-05-27 15:34","slug":"2024-05-27-HowIHackedNASALDAPServer","content":"\n<img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_0.png\" />\n\n안녕하세요, 해커 친구들,\n\n이것은 NASA의 LDAP 서버를 해킹하여 이름, 성, 직위, 직원 세부 정보와 같은 조직 민감 정보를 가져올 수 있었던 두 번째 글입니다. 시간을 낭비하지 않고 바로 시작하겠습니다.\n\nLDAP에 대해 잘 모르는 사람들을 위해 간단히 설명하겠습니다.\n\n<div class=\"content-ad\"></div>\n\nLDAP은 (Lightweight Directory Access Protocol)의 약자입니다. 이는 열린, 공급업체 중립적인, 분산 디렉터리 정보 서비스에 접근하고 유지하는 업계 표준 응용 프로그램 프로토콜으로서 인터넷 프로토콜(IP) 네트워크 상에서 사용됩니다. LDAP은 사용자 이름과 암호를 저장할 중앙 위치를 제공하고, 응용 프로그램이 이 디렉터리에 연결하여 사용자를 확인할 수 있도록 해줍니다.\n\n따라서 Shodan에서 검색을 하던 중, NASA를 해킹해보면 큰 성취감을 느낄 수 있다고 생각하여 NASA를 해킹하고 신고해보자고 생각했습니다. 그래서 Shodan을 살펴보기 시작했습니다.\n\n사용한 Dork는 (ssl:nasa.gov)이었고, 모든 결과를 검색한 후에 IP 주소를 얻었고 여기서 389번 포트에서 실행 중인 IP 주소를 확인했습니다. 기본적으로 LDAP 서비스는 636번 포트와 389번 포트를 사용하므로 389번 포트가 열려 있는지 확인하기 위해 nmap을 실행하여 연결된 개방 포트를 확인했고, 익명 바인드 상태의 개방 포트를 찾았습니다.\n\n![이미지](/assets/img/2024-05-27-HowIHackedNASALDAPServer_1.png)\n\n<div class=\"content-ad\"></div>\n\n여기서 내가 이용한 취약점은 LDAP 익명 null 바인드였고, 이 취약점을 이용하기 위해 파이썬 스크립트 코드를 사용했어.\n\n이 코드를 실행한 후에 나는 다음과 같은 네이밍 컨텍스트를 얻었어.\n\n![이미지](/assets/img/2024-05-27-HowIHackedNASALDAPServer_2.png)\n\n네이밍 컨텍스트의 결과를 얻은 후에 나는 마지막 코드를 사용하기로 결정했어.\n\n<div class=\"content-ad\"></div>\n\n\n![NASALDAPServer](/assets/img/2024-05-27-HowIHackedNASALDAPServer_3.png)\n\n그리고 결국, 조직 부서, 직원 세부 정보, 직원 지정 등 많은 정보를 얻었고 제 반응은 예에요.\n\n![reaction](https://miro.medium.com/v2/resize:fit:768/1*0j6wn-iPK5dB6G_i6FXbDg.gif)\n\n이제 여기서 멈추기로 결정했고 개인 정보 침해 및 정책 위반으로 더 이상 악용하지 않기로 하고 NASA에 보고했으며 3일 이내에 보안팀으로부터 응답을 받았어요.\n\n\n<div class=\"content-ad\"></div>\n\n그리고 마침내 감사 편지를 받았어요\n\n![Letter of appreciation](/assets/img/2024-05-27-HowIHackedNASALDAPServer_4.png)\n\n읽어 주셔서 감사합니다...\n","ogImage":{"url":"/assets/img/2024-05-27-HowIHackedNASALDAPServer_0.png"},"coverImage":"/assets/img/2024-05-27-HowIHackedNASALDAPServer_0.png","tag":["Tech"],"readingTime":2},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_0.png\">\n<p>안녕하세요, 해커 친구들,</p>\n<p>이것은 NASA의 LDAP 서버를 해킹하여 이름, 성, 직위, 직원 세부 정보와 같은 조직 민감 정보를 가져올 수 있었던 두 번째 글입니다. 시간을 낭비하지 않고 바로 시작하겠습니다.</p>\n<p>LDAP에 대해 잘 모르는 사람들을 위해 간단히 설명하겠습니다.</p>\n<div class=\"content-ad\"></div>\n<p>LDAP은 (Lightweight Directory Access Protocol)의 약자입니다. 이는 열린, 공급업체 중립적인, 분산 디렉터리 정보 서비스에 접근하고 유지하는 업계 표준 응용 프로그램 프로토콜으로서 인터넷 프로토콜(IP) 네트워크 상에서 사용됩니다. LDAP은 사용자 이름과 암호를 저장할 중앙 위치를 제공하고, 응용 프로그램이 이 디렉터리에 연결하여 사용자를 확인할 수 있도록 해줍니다.</p>\n<p>따라서 Shodan에서 검색을 하던 중, NASA를 해킹해보면 큰 성취감을 느낄 수 있다고 생각하여 NASA를 해킹하고 신고해보자고 생각했습니다. 그래서 Shodan을 살펴보기 시작했습니다.</p>\n<p>사용한 Dork는 (ssl:nasa.gov)이었고, 모든 결과를 검색한 후에 IP 주소를 얻었고 여기서 389번 포트에서 실행 중인 IP 주소를 확인했습니다. 기본적으로 LDAP 서비스는 636번 포트와 389번 포트를 사용하므로 389번 포트가 열려 있는지 확인하기 위해 nmap을 실행하여 연결된 개방 포트를 확인했고, 익명 바인드 상태의 개방 포트를 찾았습니다.</p>\n<p><img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_1.png\" alt=\"이미지\"></p>\n<div class=\"content-ad\"></div>\n<p>여기서 내가 이용한 취약점은 LDAP 익명 null 바인드였고, 이 취약점을 이용하기 위해 파이썬 스크립트 코드를 사용했어.</p>\n<p>이 코드를 실행한 후에 나는 다음과 같은 네이밍 컨텍스트를 얻었어.</p>\n<p><img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_2.png\" alt=\"이미지\"></p>\n<p>네이밍 컨텍스트의 결과를 얻은 후에 나는 마지막 코드를 사용하기로 결정했어.</p>\n<div class=\"content-ad\"></div>\n<p><img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_3.png\" alt=\"NASALDAPServer\"></p>\n<p>그리고 결국, 조직 부서, 직원 세부 정보, 직원 지정 등 많은 정보를 얻었고 제 반응은 예에요.</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:768/1*0j6wn-iPK5dB6G_i6FXbDg.gif\" alt=\"reaction\"></p>\n<p>이제 여기서 멈추기로 결정했고 개인 정보 침해 및 정책 위반으로 더 이상 악용하지 않기로 하고 NASA에 보고했으며 3일 이내에 보안팀으로부터 응답을 받았어요.</p>\n<div class=\"content-ad\"></div>\n<p>그리고 마침내 감사 편지를 받았어요</p>\n<p><img src=\"/assets/img/2024-05-27-HowIHackedNASALDAPServer_4.png\" alt=\"Letter of appreciation\"></p>\n<p>읽어 주셔서 감사합니다...</p>\n</body>\n</html>\n"},"__N_SSG":true}