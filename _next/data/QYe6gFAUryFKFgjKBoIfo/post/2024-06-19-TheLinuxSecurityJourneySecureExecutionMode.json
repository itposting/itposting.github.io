{"pageProps":{"post":{"title":"리눅스 보안 여정 - 안전한 실행 모드","description":"","date":"2024-06-19 14:57","slug":"2024-06-19-TheLinuxSecurityJourneySecureExecutionMode","content":"\n\n일반적으로 \"Secure Execution Mode\"에서는 보조 벡터의 \"AT_SECURE\" 항목에 0이 아닌 값이 포함되어 있는 경우 이진 파일이 실행됩니다. LSM(https://medium.com/@boutnaru/linux-security-lsm-linux-security-modules-907bbcf8c8b4)이 값을 설정한 경우, 작업/프로세스의 \"실제 UID\"(https://medium.com/@boutnaru/the-linux-security-journey-ruid-real-user-id-b23abcbca9c6) 및 \"유효 UID\"(https://medium.com/@boutnaru/the-linux-security-journey-euid-effective-user-id-65f351532b79)가 다른 경우(그룹 값도 동일)에도 이 값을 0이 아닌 값으로 만들 수 있습니다. 또한, 일반 사용자가 실행한 이진 파일이 프로세스에 권한을 부여했을 경우에도 이 값이 0이 아닌 값이 됩니다(https://man7.org/linux/man-pages/man8/ld.so.8.html).\n\n전반적으로, 안전한 실행 모드는 동적 링커/로더의 기능입니다. 이 모드가 활성화되어 있는 경우 특정 환경 변수가 이진 파일을 실행할 때 무시됩니다. 이러한 변수의 예로는 \"LD_LIBRARY_PATH\", \"LD_DEBUG\"(단, /etc/suid-debug가 있는 경우는 제외), \"LD_DEBUG_OUTPUT\", \"LD_DEBUG_WEAK\"(glibc 2.3.4부터), \"LD_ORIGIN_PATH\", \"LD_PROFILE\"(glibc 2.2.5부터), \"LD_SHOW_AUXV\"(glibc 2.3.4부터) 및 \"LD_AUDIT\"이 있습니다(https://manpages.ubuntu.com/manpages/focal/en/man8/ld.so.8.html) — 아래 스크린샷에서 확인할 수 있습니다.\n\n마지막으로, 안전한 실행 모드의 목표는 \"setuid\"/\"setgid\"로 실행할 수 있는 이진 파일이 임의의 코드를 로드/실행하는 능력을 차단하여 특권 상승을 수행하는 것을 방지하는 것입니다(사용자 한 명이 실행하지만 다른 사용자(루트일 수도 있음) 권한으로 실행될 때).\n\n다음 글에서 만나요 ;-) 트위터에서 제 소식을 확인하려면 @boutnaru(https://twitter.com/boutnaru)를 팔로우해주세요. 또한, 미디엄(https://medium.com/@boutnaru)에서 다른 글도 읽어볼 수 있습니다. 무료 eBook은 https://TheLearningJourneyEbooks.com에서 찾아볼 수 있습니다.\n\n<div class=\"content-ad\"></div>\n\n\n![2024-06-19-TheLinuxSecurityJourneySecureExecutionMode](/assets/img/2024-06-19-TheLinuxSecurityJourneySecureExecutionMode_0.png) \n","ogImage":{"url":"/assets/img/2024-06-19-TheLinuxSecurityJourneySecureExecutionMode_0.png"},"coverImage":"/assets/img/2024-06-19-TheLinuxSecurityJourneySecureExecutionMode_0.png","tag":["Tech"],"readingTime":2},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>일반적으로 \"Secure Execution Mode\"에서는 보조 벡터의 \"AT_SECURE\" 항목에 0이 아닌 값이 포함되어 있는 경우 이진 파일이 실행됩니다. LSM(<a href=\"https://medium.com/@boutnaru/linux-security-lsm-linux-security-modules-907bbcf8c8b4)%EC%9D%B4\" rel=\"nofollow\" target=\"_blank\">https://medium.com/@boutnaru/linux-security-lsm-linux-security-modules-907bbcf8c8b4)이</a> 값을 설정한 경우, 작업/프로세스의 \"실제 UID\"(<a href=\"https://medium.com/@boutnaru/the-linux-security-journey-ruid-real-user-id-b23abcbca9c6\" rel=\"nofollow\" target=\"_blank\">https://medium.com/@boutnaru/the-linux-security-journey-ruid-real-user-id-b23abcbca9c6</a>) 및 \"유효 UID\"(<a href=\"https://medium.com/@boutnaru/the-linux-security-journey-euid-effective-user-id-65f351532b79)%EA%B0%80\" rel=\"nofollow\" target=\"_blank\">https://medium.com/@boutnaru/the-linux-security-journey-euid-effective-user-id-65f351532b79)가</a> 다른 경우(그룹 값도 동일)에도 이 값을 0이 아닌 값으로 만들 수 있습니다. 또한, 일반 사용자가 실행한 이진 파일이 프로세스에 권한을 부여했을 경우에도 이 값이 0이 아닌 값이 됩니다(<a href=\"https://man7.org/linux/man-pages/man8/ld.so.8.html\" rel=\"nofollow\" target=\"_blank\">https://man7.org/linux/man-pages/man8/ld.so.8.html</a>).</p>\n<p>전반적으로, 안전한 실행 모드는 동적 링커/로더의 기능입니다. 이 모드가 활성화되어 있는 경우 특정 환경 변수가 이진 파일을 실행할 때 무시됩니다. 이러한 변수의 예로는 \"LD_LIBRARY_PATH\", \"LD_DEBUG\"(단, /etc/suid-debug가 있는 경우는 제외), \"LD_DEBUG_OUTPUT\", \"LD_DEBUG_WEAK\"(glibc 2.3.4부터), \"LD_ORIGIN_PATH\", \"LD_PROFILE\"(glibc 2.2.5부터), \"LD_SHOW_AUXV\"(glibc 2.3.4부터) 및 \"LD_AUDIT\"이 있습니다(<a href=\"https://manpages.ubuntu.com/manpages/focal/en/man8/ld.so.8.html\" rel=\"nofollow\" target=\"_blank\">https://manpages.ubuntu.com/manpages/focal/en/man8/ld.so.8.html</a>) — 아래 스크린샷에서 확인할 수 있습니다.</p>\n<p>마지막으로, 안전한 실행 모드의 목표는 \"setuid\"/\"setgid\"로 실행할 수 있는 이진 파일이 임의의 코드를 로드/실행하는 능력을 차단하여 특권 상승을 수행하는 것을 방지하는 것입니다(사용자 한 명이 실행하지만 다른 사용자(루트일 수도 있음) 권한으로 실행될 때).</p>\n<p>다음 글에서 만나요 ;-) 트위터에서 제 소식을 확인하려면 @boutnaru(<a href=\"https://twitter.com/boutnaru)%EB%A5%BC\" rel=\"nofollow\" target=\"_blank\">https://twitter.com/boutnaru)를</a> 팔로우해주세요. 또한, 미디엄(<a href=\"https://medium.com/@boutnaru)%EC%97%90%EC%84%9C\" rel=\"nofollow\" target=\"_blank\">https://medium.com/@boutnaru)에서</a> 다른 글도 읽어볼 수 있습니다. 무료 eBook은 <a href=\"https://TheLearningJourneyEbooks.com%EC%97%90%EC%84%9C\" rel=\"nofollow\" target=\"_blank\">https://TheLearningJourneyEbooks.com에서</a> 찾아볼 수 있습니다.</p>\n<div class=\"content-ad\"></div>\n<p><img src=\"/assets/img/2024-06-19-TheLinuxSecurityJourneySecureExecutionMode_0.png\" alt=\"2024-06-19-TheLinuxSecurityJourneySecureExecutionMode\"></p>\n</body>\n</html>\n"},"__N_SSG":true}