{"pageProps":{"post":{"title":"EC2 마스터 리눅스 인스턴스에 다른 EBS 볼륨 추가하는 방법 - 완벽 가이드","description":"","date":"2024-06-23 15:22","slug":"2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery","content":"\n\nAWS의 핵심은 EC2에 있습니다. 클라우드 서비스 제공업체를 사용하기 시작할 때 대부분 처음 배우는 서비스 중 하나입니다. 이를 염두에 둔다면, 배울 것이 많고 현재 사용 중인 use case에 다른 서비스를 통합하는 다양한 방법이 있습니다.\n\n이 새로운 시리즈인 'EC2 마스터리'에서는 EC2의 여러 실제 사용 예제를 배울 것입니다.\n\n![이미지](/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_0.png)\n\n'EC2 마스터리'의 이번 에피소드에서는 EC2 Linux 인스턴스에 추가 EBS 볼륨을 추가하는 방법을 살펴볼 것입니다.\n\n<div class=\"content-ad\"></div>\n\n# 1. 명령 줄 및 fstab 파일(Linux)을 통해 추가적인 EBS 볼륨 추가하기\n\n## 단계 1: EBS 볼륨 연결하기\n\nCloudShell 탭을 열거나 AWS 계정에 명령 줄을 통해 상호 작용합니다. 아래는 제가 입력한 명령어의 스크린샷입니다.\n\nEBS 볼륨 생성:\n\n<div class=\"content-ad\"></div>\n\n```js\n aws ec2 create-volume --availability-zone <your-az> --size <size-in-gb>\n```\n\n다음은 사용할 수 있는 다른 옵션들입니다:\n\n--volume-type: EBS 볼륨의 유형을 지정합니다 (예: gp3, io2).\n--iops: io1 또는 io2 볼륨의 IOPS 수를 설정합니다.\n--encrypted: 볼륨을 위해 암호화를 활성화합니다.\n--kms-key-id: 암호화를 위한 KMS 키를 지정합니다.\n--snapshot-id: 기존 스냅샷에서 볼륨을 생성합니다.\n--tag-specifications: 볼륨에 태그를 추가합니다.\n--multi-attach-enabled: 볼륨을 여러 인스턴스에 동시에 연결할 수 있도록 허용합니다 (io1 또는 io2용).\n\nEC2 인스턴스에 EBS 볼륨을 연결하기:\n\n<div class=\"content-ad\"></div>\n\n```js\naws ec2 attach-volume --volume-id <볼륨-id> --instance-id <인스턴스-id> --device /dev/xvdf\n```\n\n`볼륨-id`에 방금 생성한 볼륨의 ID를, `인스턴스-id`에는 EC2 인스턴스 ID를 입력해주세요.\n\n<img src=\"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_1.png\" />\n\n이제 AWS 측에서의 작업이 완료되었으니, 우리의 인스턴스 내부에서 작업을 완료해야 합니다.\n\n<div class=\"content-ad\"></div>\n\n## 단계 2: EBS 볼륨을 마운트합니다\n\n인스턴스에 SSH로 로그인하거나 콘솔을 사용하세요.\n\n볼륨 포맷:\n\n```js\nsudo mkfs -t ext4 /dev/xvdf\n```\n\n<div class=\"content-ad\"></div>\n\n마운트 지점 생성하기:\n\n```js\nsudo mkdir /mnt/data\n```\n\n볼륨 마운트하기:\n\n```js\nsudo mount /dev/xvdf /mnt/data\n```\n\n<div class=\"content-ad\"></div>\n\n아래에서 우리는 인스턴스에 10gb EBS 볼륨을 성공적으로 추가했음을 확인할 수 있습니다.\n\n<img src=\"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_2.png\" />\n\n<div class=\"content-ad\"></div>\n\n# 3. fstab 파일에 추가하여 마운트 영구화하기:\n\n어떤 시점에서든 인스턴스를 끄거나 다시 부팅하게 되면 최근에 생성하고 추가한 EBS 볼륨이 유지되지 않습니다. 그러므로 /etc/fstab 파일에 추가해주어야 합니다.\n\n```bash\nsudo bash -c 'echo \"/dev/xvdf /mnt/data ext4 defaults,nofail 0 2\" >> /etc/fstab'\n```\n\n<div class=\"content-ad\"></div>\n\n# 결론\n\n이것은 Linux EC2 인스턴스에 다른 EBS 볼륨을 추가하는 과정입니다.\n\n박수를 치고 팔로우해 주세요. EC2 마스터리 시리즈의 시작에 불과해요!","ogImage":{"url":"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_0.png"},"coverImage":"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_0.png","tag":["Tech"],"readingTime":3},"content":"<!doctype html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<meta content=\"width=device-width, initial-scale=1\" name=\"viewport\">\n</head>\n<body>\n<p>AWS의 핵심은 EC2에 있습니다. 클라우드 서비스 제공업체를 사용하기 시작할 때 대부분 처음 배우는 서비스 중 하나입니다. 이를 염두에 둔다면, 배울 것이 많고 현재 사용 중인 use case에 다른 서비스를 통합하는 다양한 방법이 있습니다.</p>\n<p>이 새로운 시리즈인 'EC2 마스터리'에서는 EC2의 여러 실제 사용 예제를 배울 것입니다.</p>\n<p><img src=\"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_0.png\" alt=\"이미지\"></p>\n<p>'EC2 마스터리'의 이번 에피소드에서는 EC2 Linux 인스턴스에 추가 EBS 볼륨을 추가하는 방법을 살펴볼 것입니다.</p>\n<div class=\"content-ad\"></div>\n<h1>1. 명령 줄 및 fstab 파일(Linux)을 통해 추가적인 EBS 볼륨 추가하기</h1>\n<h2>단계 1: EBS 볼륨 연결하기</h2>\n<p>CloudShell 탭을 열거나 AWS 계정에 명령 줄을 통해 상호 작용합니다. 아래는 제가 입력한 명령어의 스크린샷입니다.</p>\n<p>EBS 볼륨 생성:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\"> aws ec2 create-volume --availability-zone &#x3C;your-az> --size &#x3C;size-<span class=\"hljs-keyword\">in</span>-gb>\n</code></pre>\n<p>다음은 사용할 수 있는 다른 옵션들입니다:</p>\n<p>--volume-type: EBS 볼륨의 유형을 지정합니다 (예: gp3, io2).\n--iops: io1 또는 io2 볼륨의 IOPS 수를 설정합니다.\n--encrypted: 볼륨을 위해 암호화를 활성화합니다.\n--kms-key-id: 암호화를 위한 KMS 키를 지정합니다.\n--snapshot-id: 기존 스냅샷에서 볼륨을 생성합니다.\n--tag-specifications: 볼륨에 태그를 추가합니다.\n--multi-attach-enabled: 볼륨을 여러 인스턴스에 동시에 연결할 수 있도록 허용합니다 (io1 또는 io2용).</p>\n<p>EC2 인스턴스에 EBS 볼륨을 연결하기:</p>\n<div class=\"content-ad\"></div>\n<pre><code class=\"hljs language-js\">aws ec2 attach-volume --volume-id &#x3C;볼륨-id> --instance-id &#x3C;인스턴스-id> --device /dev/xvdf\n</code></pre>\n<p><code>볼륨-id</code>에 방금 생성한 볼륨의 ID를, <code>인스턴스-id</code>에는 EC2 인스턴스 ID를 입력해주세요.</p>\n<img src=\"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_1.png\">\n<p>이제 AWS 측에서의 작업이 완료되었으니, 우리의 인스턴스 내부에서 작업을 완료해야 합니다.</p>\n<div class=\"content-ad\"></div>\n<h2>단계 2: EBS 볼륨을 마운트합니다</h2>\n<p>인스턴스에 SSH로 로그인하거나 콘솔을 사용하세요.</p>\n<p>볼륨 포맷:</p>\n<pre><code class=\"hljs language-js\">sudo mkfs -t ext4 /dev/xvdf\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>마운트 지점 생성하기:</p>\n<pre><code class=\"hljs language-js\">sudo mkdir /mnt/data\n</code></pre>\n<p>볼륨 마운트하기:</p>\n<pre><code class=\"hljs language-js\">sudo mount /dev/xvdf /mnt/data\n</code></pre>\n<div class=\"content-ad\"></div>\n<p>아래에서 우리는 인스턴스에 10gb EBS 볼륨을 성공적으로 추가했음을 확인할 수 있습니다.</p>\n<img src=\"/assets/img/2024-06-23-HowtoaddanotherEBSVolumetoaLinuxinstance-EC2Mastery_2.png\">\n<div class=\"content-ad\"></div>\n<h1>3. fstab 파일에 추가하여 마운트 영구화하기:</h1>\n<p>어떤 시점에서든 인스턴스를 끄거나 다시 부팅하게 되면 최근에 생성하고 추가한 EBS 볼륨이 유지되지 않습니다. 그러므로 /etc/fstab 파일에 추가해주어야 합니다.</p>\n<pre><code class=\"hljs language-bash\">sudo bash -c <span class=\"hljs-string\">'echo \"/dev/xvdf /mnt/data ext4 defaults,nofail 0 2\" >> /etc/fstab'</span>\n</code></pre>\n<div class=\"content-ad\"></div>\n<h1>결론</h1>\n<p>이것은 Linux EC2 인스턴스에 다른 EBS 볼륨을 추가하는 과정입니다.</p>\n<p>박수를 치고 팔로우해 주세요. EC2 마스터리 시리즈의 시작에 불과해요!</p>\n</body>\n</html>\n"},"__N_SSG":true}