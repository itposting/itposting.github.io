<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>itposting</title><meta name="description" content="I develop websites, games and apps with HTML, CSS and JS."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///posts/2" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="itposting" data-gatsby-head="true"/><meta property="og:title" content="itposting" data-gatsby-head="true"/><meta property="og:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta property="og:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///posts/2" data-gatsby-head="true"/><meta name="twitter:title" content="itposting" data-gatsby-head="true"/><meta name="twitter:description" content="I develop websites, games and apps with HTML, CSS and JS." data-gatsby-head="true"/><meta name="twitter:image" content="/favicons/ms-icon-310x310.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="next-head-count" content="18"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/a22d13b8e6bc8203.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22d13b8e6bc8203.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/873-1532cbf2955c0c6a.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bpage%5D-cd321dee6458c228.js" defer=""></script><script src="/_next/static/kkckKPyxcjJp_o8wb2unW/_buildManifest.js" defer=""></script><script src="/_next/static/kkckKPyxcjJp_o8wb2unW/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="posts_container__s9Z_H posts_-list__bsl0U"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><div class="posts_inner__HIBjT"><article><h2 class="SectionTitle_section_title__HS_xr">Posts</h2><div class="posts_project_list__oDV_y"><div class="PostList_post_list__or0rl"><a class="PostList_post_item__gAdVi" aria-label="리눅스 파일 권한 설정 완벽 가이드 이해와 사용 방법" href="/post/2024-07-01-LinuxFilePermissions"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="리눅스 파일 권한 설정 완벽 가이드 이해와 사용 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-07-01-LinuxFilePermissions_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="리눅스 파일 권한 설정 완벽 가이드 이해와 사용 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">리눅스 파일 권한 설정 완벽 가이드 이해와 사용 방법</strong><div class="PostList_meta__VCFLX"><span class="date">3 hours ago</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="당신의 집을 스마트 홈으로 변신시키는 6가지 필수 기기" href="/post/2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="당신의 집을 스마트 홈으로 변신시키는 6가지 필수 기기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="당신의 집을 스마트 홈으로 변신시키는 6가지 필수 기기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">당신의 집을 스마트 홈으로 변신시키는 6가지 필수 기기</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">4<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="불가피한 불평등 산업 혁명에서 경제 격차를 극복하는 방법" href="/post/2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="불가피한 불평등 산업 혁명에서 경제 격차를 극복하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="불가피한 불평등 산업 혁명에서 경제 격차를 극복하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">불가피한 불평등 산업 혁명에서 경제 격차를 극복하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="SQL 집계 Grouping Sets와 Cube 쉽게 이해하기" href="/post/2024-06-30-SQLAggregationGroupingSetsandCubeExplained"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="SQL 집계 Grouping Sets와 Cube 쉽게 이해하기" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="SQL 집계 Grouping Sets와 Cube 쉽게 이해하기" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">SQL 집계 Grouping Sets와 Cube 쉽게 이해하기</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">8<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="DP-600 분석 엔지니어 어소시에이트 마이크로소프트 자격증에서 95 이상 득점하는 방법" href="/post/2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="DP-600 분석 엔지니어 어소시에이트 마이크로소프트 자격증에서 95 이상 득점하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="DP-600 분석 엔지니어 어소시에이트 마이크로소프트 자격증에서 95 이상 득점하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">DP-600 분석 엔지니어 어소시에이트 마이크로소프트 자격증에서 95 이상 득점하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">3<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="Ansible로 윈도우 업데이트 마스터하기 종합 가이드" href="/post/2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="Ansible로 윈도우 업데이트 마스터하기 종합 가이드" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="Ansible로 윈도우 업데이트 마스터하기 종합 가이드" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">Ansible로 윈도우 업데이트 마스터하기 종합 가이드</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="스네이크, 애플 VII  2024년 최고의 안티바이러스 프로그램 리뷰" href="/post/2024-06-30-SnakeAppleVIIAntivirus"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="스네이크, 애플 VII  2024년 최고의 안티바이러스 프로그램 리뷰" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-SnakeAppleVIIAntivirus_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="스네이크, 애플 VII  2024년 최고의 안티바이러스 프로그램 리뷰" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">스네이크, 애플 VII  2024년 최고의 안티바이러스 프로그램 리뷰</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">41<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="EC2에 Ubuntu로 Apache 2 웹 서버 설치하는 방법" href="/post/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="EC2에 Ubuntu로 Apache 2 웹 서버 설치하는 방법" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="EC2에 Ubuntu로 Apache 2 웹 서버 설치하는 방법" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">EC2에 Ubuntu로 Apache 2 웹 서버 설치하는 방법</strong><div class="PostList_meta__VCFLX"><span class="date">21 hours ago</span><span class="PostList_reading_time__6CBMQ">7<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="판매 가능한 독특한 AI 생성 카드 디자인 10가지" href="/post/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="판매 가능한 독특한 AI 생성 카드 디자인 10가지" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="판매 가능한 독특한 AI 생성 카드 디자인 10가지" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">판매 가능한 독특한 AI 생성 카드 디자인 10가지</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 30, 2024</span><span class="PostList_reading_time__6CBMQ">2<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a><a class="PostList_post_item__gAdVi" aria-label="구글의 오픈 소스 모델 Gemma 2 출시" href="/post/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere"><div class="PostList_thumbnail_wrap__YuxdB"><img alt="구글의 오픈 소스 모델 Gemma 2 출시" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="PostList_thumbnail__6_oQk" style="color:transparent" src="/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_0.png"/></div><div class="PostList_text_area__Hzd11"><div class="PostList_profile_area___aTjn"><div class="PostList_profile_image_wrap__tCTuE"><img alt="구글의 오픈 소스 모델 Gemma 2 출시" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" class="PostList_profile__VGF_a" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><span class="writer">IT Posting</span></div><strong class="PostList_title__loLkl">구글의 오픈 소스 모델 Gemma 2 출시</strong><div class="PostList_meta__VCFLX"><span class="date">Jun 30, 2024</span><span class="PostList_reading_time__6CBMQ">5<!-- --> min read</span><span class="PostList_bookmark__PCpOK"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true"><path d="M6.75 4.5h10.5a.75.75 0 01.75.75v14.357a.375.375 0 01-.575.318L12 16.523l-5.426 3.401A.375.375 0 016 19.607V5.25a.75.75 0 01.75-.75zM16.5 6h-9v11.574l4.5-2.82 4.5 2.82V6z"></path></svg></span></div></div></a></div></div></article><div class="posts_pagination__R_03T"><a class="link" href="/posts/1">1</a><a class="link posts_-active__YVJEi" href="/posts/2">2</a><a class="link" href="/posts/3">3</a><a class="link" href="/posts/4">4</a><a class="link" href="/posts/5">5</a><a class="link" href="/posts/6">6</a><a class="link" href="/posts/7">7</a><a class="link" href="/posts/8">8</a><a class="link" href="/posts/9">9</a><a class="link" href="/posts/10">10</a><a class="link" href="/posts/11">11</a><a class="link" href="/posts/12">12</a><a class="link" href="/posts/13">13</a><a class="link" href="/posts/14">14</a><a class="link" href="/posts/15">15</a><a class="link" href="/posts/16">16</a><a class="link" href="/posts/17">17</a><a class="link" href="/posts/18">18</a><a class="link" href="/posts/19">19</a><a class="link" href="/posts/20">20</a><button type="button" class="page_button -prev">&gt;</button></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"posts":[{"title":"리눅스 파일 권한 설정 완벽 가이드 이해와 사용 방법","description":"","date":"2024-07-01 17:24","slug":"2024-07-01-LinuxFilePermissions","content":"\n\n\n![이미지](/assets/img/2024-07-01-LinuxFilePermissions_0.png)\n\n본 글은 AWS에서 EC2 인스턴스를 사용하여 파일 권한 관리에 대해 설명합니다. 명령어, 출력물 및 핵심적인 기술들을 강조하며 클라우드 관련 역할에서의 중요성을 강조할 것입니다.\n\n배운 주요 기술:\n\n- 이 랩을 통해 EC2 인스턴스에 SSH를 사용하여 연결하고, chown 및 chmod 명령어를 사용하여 파일 및 폴더 권한을 관리하는 등 중요한 기술을 연습할 수 있었습니다.\n- 파일 권한을 이해하는 것은 클라우드 시스템 보안에 매우 중요합니다. 사용자 및 그룹에 적절한 액세스 권한을 부여하여 데이터의 기밀성과 무결성을 보장하는 방법을 배웠습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n현실적인 업무 시나리오:\n\n- 시스템 관리자: 기업의 클라우드 인프라 내에서 민감한 데이터에 대한 사용자 액세스를 제어하기 위해 파일 권한을 정기적으로 관리합니다.\n- 보안 전문가: 보안 모범 사례와 규정을 준수하기 위해 권한 구조를 구현하고 유지합니다.\n- 클라우드 아키텍트: 세밀한 권한 제어를 통합한 안전하고 확장 가능한 클라우드 환경을 설계합니다.\n\n시작해봅시다!\n\n아마존 리눅스 EC2 인스턴스에 연결하고 SSH 명령을 사용하여 파일 및 폴더 권한을 관리할 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Linux File Permissions](/assets/img/2024-07-01-LinuxFilePermissions_1.png)\n\nSSH 연결:\n\nEC2 인스턴스에 연결하려면 PuTTY(Windows)와 같은 SSH 클라이언트를 사용할 수 있습니다. 제공된 자격 증명(공용 IP 주소 및 키 파일)는 안전한 연결을 확립하는 데 필수적입니다.\n\n제 경우에는 SSH 클라이언트로, Chrome용으로 구성된 Secure Shell을 사용했습니다. Secure Shell은 xterm 호환 터미널 에뮬레이터 및 독립형 SSH 클라이언트입니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![LinuxFilePermissions_2](/assets/img/2024-07-01-LinuxFilePermissions_2.png)\n\nChanging Ownership:\n\n폴더의 소유권을 변경하는 방법을 살펴봅니다. chown 명령을 사용할 것입니다. 명령어는 다음과 같은 형식을 따릅니다:\n\n```bash\nsudo chown -R \u003cusername\u003e:\u003cgroupname\u003e \u003cfolder_path\u003e\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- sudo: 소유권 변경에 대한 관리자 권한을 부여합니다.\n- -R: 지정된 폴더 내의 모든 파일 및 하위 폴더에 변경을 재귀적으로 적용합니다.\n- `username`: 폴더의 새 소유자입니다.\n- `groupname`: 폴더와 관련된 새 그룹입니다.\n- `folder_path`: 소유권을 변경하려는 폴더의 경로입니다.\n\n예를 들어, \"companyA\" 폴더의 소유권을 사용자 \"mjackson\" 및 그룹 \"Personnel\"로 변경하려면 다음을 사용하면 됩니다:\n\n```js\nsudo chown -R mjackson:Personnel /home/ec2-user/companyA\n```\n\n![Linux 파일 권한 이미지](/assets/img/2024-07-01-LinuxFilePermissions_3.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo chown -R eowusu:Shipping Shipping\n```\n\n![Linux File Permissions](/assets/img/2024-07-01-LinuxFilePermissions_4.png)\n\n파일 권한 변경:\n\n이 랩은 파일 권한을 수정하는 chmod 명령어를 소개합니다. Symbolic 모드와 Absolute 모드 두 가지가 있습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nSymbolic Mode:\n\n간단한 권한 변경을 기억하기 쉽습니다.\n\n특정 작업을 나타내는 문자와 기호를 사용합니다:\n\n- r - 읽기 권한\n- w - 쓰기 권한\n- x - 실행 권한\n- + - 권한 추가\n- - - 권한 제거\n- = - 정확한 권한 설정 (기존 권한을 모두 제거하고 지정된 권한을 설정합니다)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n예시:\n\n- g+w: 그룹에 쓰기 권한 부여\n- u-x: 소유자의 실행 권한 제거\n- o=rw: 다른 사용자에 대한 정확한 권한 설정 (읽기 및 쓰기만)\n\n```js\nsudo chmod \u003c허가_모드\u003e \u003c파일_경로\u003e\n```\n\n![이미지](/assets/img/2024-07-01-LinuxFilePermissions_5.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nAbsolute Mode:\n\n- 복잡한 허가 할당에 대해 더 간결합니다.\n- 모든 권한을 표현하기 위해 세 자리의 8진수를 사용합니다.\n- 각 숫자는 특정 사용자 그룹에 해당합니다:\n    - 첫 번째 숫자 (백의 자리): 소유자의 권한\n    - 두 번째 숫자 (십의 자리): 그룹의 권한\n    - 세 번째 숫자 (일의 자리): 다른 사용자들의 권한\n\n각 숫자 자체는 권한 값을 결합한 것입니다:\n- 4: 읽기 권한\n- 2: 쓰기 권한\n- 1: 실행 권한\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n권한을 설정하려면 해당 값을 추가하십시오. 권한을 제거하려면 기존 숫자에서 해당 값을 뺍니다 (0이 됨).\n\n예시:\n\n- 764: 소유자에게 읽기, 쓰기, 실행 권한 (4+2+1)을 부여합니다 (7), 그룹에게 읽기 및 쓰기 권한 (4+2)을 설정하며, 다른 사용자에게는 읽기 전용 권한 (4)을 줍니다.\n- 600: 그룹과 다른 사용자에게 모든 권한을 제거하고, 소유자에게 읽기와 쓰기 권한만 설정합니다 (6).\n\n적절한 모드 선택:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 심볼릭 모드를 사용하여 특정 사용자 그룹에 대한 특정 권한 추가 또는 제거와 같은 간단한 조정을 하세요.\n- 절대 모드를 사용하여 복잡한 권한 설정이 필요하거나 여러 권한 변경을 더 간결하게 나타내는 방법이 필요할 때 사용하세요.\n- 궁극적으로, 선택은 개인 취향과 편안함에 달려 있습니다. 두 모드 모두 파일 권한을 수정하는 동일한 결과를 얻습니다.\n\n변경 내용 확인:\n\n폴더와 해당 내용에 대한 소유권 및 권한 세부 정보를 보려면 ls -laR 명령을 사용하시면 됩니다. 이는 권한 변경이 성공적으로 이루어졌는지 확인하는 데 도움이 됩니다.\n\n![Linux 파일 권한](/assets/img/2024-07-01-LinuxFilePermissions_6.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n결론:\n\n위 단계를 따르면 AWS EC2 인스턴스에서 파일 권한을 관리하는 실용적인 경험을 얻을 수 있습니다. 이는 클라우드에서 일하는 누구에게나 가치 있는 기술입니다, 특히 시스템 관리자, 보안 전문가, 그리고 클라우드 아키텍트들에게 유용합니다.\n\n기억하세요: 언제나 조직의 보안 정책과 데이터 접근 요구와 일치하는 권한 구조를 구현해야 합니다.","ogImage":{"url":"/assets/img/2024-07-01-LinuxFilePermissions_0.png"},"coverImage":"/assets/img/2024-07-01-LinuxFilePermissions_0.png","tag":["Tech"],"readingTime":4},{"title":"당신의 집을 스마트 홈으로 변신시키는 6가지 필수 기기","description":"","date":"2024-06-30 23:26","slug":"2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow","content":"\n\n\u003cimg src=\"/assets/img/2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow_0.png\" /\u003e\n\n당신의 집에 들어가서 빛이 자동으로 원하는 밝기로 조절되고, 온도 조절기가 이상적인 온도로 설정되어 있고, 좋아하는 음악이 배경음악으로 부드럽게 흘러나오는 상상을 해보세요. 과학 소설 영화 한 장면처럼 들리죠? 최신 스마트 홈 기술 덕분에 이 미래적인 꿈이 당신의 일상 현실이 될 수 있습니다!\n\n우리 많은 사람들은 아늑할 뿐만 아니라 효율적이고 쉽게 관리할 수 있는 집을 갈망합니다. 그러나 전통적인 집을 스마트 집으로 변신시키는 것은 압도당할 수도 있습니다. 어디서부터 시작해야 할까요? 어떤 기기들이 정말로 투자 가치가 있는지 궁금할 수 있습니다.\n\n걱정하지 마세요! 저희가 도와드리겠습니다. 이 가이드에서 **7가지 꼭 필요한 스마트 홈 기기**를 소개해드릴 것이며, 당신의 집을 스마트 하이븐으로 만들어 주어 삶이 더 쉽고 안전하며 즐거워지도록 도와드립니다. 스마트 라이프 스타일의 세계에 뛰어들어볼 준비가 되셨나요? 시작해봅시다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 1. 스마트 스피커와 음성 어시스턴트: 당신 집의 명령 센터\n\n필요한 이유: 목소리로 집 전체를 제어할 수 있다고 상상해보세요. Amazon Echo, Google Nest 또는 Apple HomePod와 같은 스마트 스피커는 음악 재생이나 알림 설정 외에도 스마트 홈 운영의 중추 역할을 합니다.\n\n작동 방식: 스마트 스피커를 사용하면 다른 스마트 장치를 제어하거나 날씨 업데이트를 요청하거나 캘린더를 관리하거나 온라인으로 식료품을 주문할 수 있습니다. 24시간 이용 가능한 개인 비서가 있는 것과 같습니다.\n\n이의 처리: 개인 정보 보호에 대해 걱정하시나요? 많은 스마트 스피커는 마이크 음소거 기능이나 특정 웨이크 워드가 필요하도록 설정되어 명령이 안전하고 개인적임을 보장합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n오픈 루프: 당신의 필요에 맞는 최고의 스마트 스피커가 궁금하신가요? 시장에서 최고의 스마트 스피커를 비교한 내용이 곧 공개될 예정이니 기대해 주세요!\n\n## 2. 스마트 조명: 완벽한 분위기 설정을 위한 스마트 조명\n\n왜 필요한가:\n\n빛 스위치를 찾던 고된 날이 사라졌습니다. 스마트 조명을 통해 앱이나 음성 명령으로 집의 조명을 제어할 수 있어, 손쉽게 완벽한 분위기를 조성할 수 있습니다.\n\n작동 방식: 필립스 휴나 LIFX와 같은 스마트 전구를 사용하면 밝기, 색상을 조절하거나 일정을 설정하거나 씬을 만들 수 있습니다. 아늑한 영화 시간을 위해 조명을 어둡게 하거나 부드러운 일출 모의에 맞춰 일어날 수도 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이의 처리: 스마트 조명이 너무 비싸다고 생각하십니까? 초기 비용은 전통적인 전구보다 비쌀 수 있지만, 스마트 조명은 에너지를 효율적으로 사용하고 수명이 더 길어 돈을 장기적으로 절약할 수 있습니다.\n\n열린 루프: 음악에 조명을 동기화하는 방법을 배우고 싶나요? 다음 기사에서 그것을 자세히 살펴보겠습니다!\n\n## 3. 스마트 온도 조절기: 편안함과 절약\n\n왜 필요한가: 집을 완벽한 온도로 유지하면서 에너지 요금을 아끼는 것은 상종이라고 생각되지 않나요? Nest Learning Thermostat나 Ecobee와 같은 스마트 온도 조절기로 그것이 가능해집니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n작동 방식: 이러한 온도 조절기는 귀하의 일정과 선호도를 학습하여 최적의 편안함과 효율성을 위해 온도를 자동으로 조절합니다. 핸드폰에서 원격으로 제어하여 완벽하게 시원하거나 따뜻한 집으로 돌아올 수 있습니다.\n\n이의 처리: 설치 과정에 대해 걱정하시나요? 대부분의 스마트 온도 조절기는 쉬운 설치를 위해 설계되었으며, 많은 회사에서 전문적인 설치 서비스를 제공합니다.\n\n오픈 루프: 곧 스마트 온도 조절기를 다른 기기와 통합하여 더 많은 가정 자동화 혜택을 누리는 방법에 대해 다룰 예정입니다.\n\n## 4. 스마트 보안 시스템: 손끝에서의 안심감\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n필요한 이유: 집과 가족을 안전하게 지켜야 합니다. Ring, Arlo 또는 SimpliSafe와 같은 스마트 보안 시스템은 어디서든 모니터링할 수 있는 종합적인 보호 기능을 제공합니다.\n\n작동 방식: 스마트 카메라, 도어벨, 및 센서를 통해 집을 감시하고 이상 활동에 대한 경고를 받을 뿐만 아니라 원격으로 방문객과 통신할 수 있습니다.\n\n이의 제기 처리: 고가의 비용이나 복잡한 설정을 두려워하시나요? 저렴한 옵션이 많이 있으며 대부분의 시스템은 쉬운 DIY 설치를 위해 설계되어 있어 모든 사람에게 집 안전이 접근 가능합니다.\n\n다가오는 상세 가이드에서 귀하의 필요에 맞는 적절한 스마트 보안 시스템을 선택하는 방법에 대해 자세히 살펴보겠습니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 5. Smart Plugs and Outlets: 모든 기기를 제어하세요\n\n필요한 이유: 스마트 플러그와 콘센트를 사용하여 일반 가전제품을 스마트 기기로 변환하세요. 이러한 편리한 장치를 사용하여 앱이나 음성 명령을 통해 콘센트에 연결된 모든 것을 제어할 수 있습니다.\n\n작동 방식: TP-Link Kasa나 Wemo와 같은 스마트 플러그에 기기를 꽂으면, 리모컨으로 켜고 끌 수 있을 뿐만 아니라, 일정을 설정하거나 전력 사용량을 모니터링할 수도 있습니다.\n\n이의 처리: 호환성을 걱정하시나요? 스마트 플러그는 다양한 기기와 호환되며, 램프부터 커피 메이커까지 다양한 기기와 함께 작동하여 스마트 홈을 확장하는 비용 효율적인 방법입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n열린 루프: 다음에는 스마트 플러그의 창의적인 사용법을 살펴보겠습니다. 생각지 못한 방법일지도 몰라요!\n\n## 6. 스마트 잠금장치: 안전하고 편리한 출입구\n\n필요한 이유: 열쇠를 헷갈리지 않아도 돼요. August Smart Lock나 Schlage Encode와 같은 스마트 잠금장치는 안전하고 열쇠 없는 집 출입을 제공해줘요. 마음의 평화와 편의를 제공해줍니다.","ogImage":{"url":"/assets/img/2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow_0.png"},"coverImage":"/assets/img/2024-06-30-TransformYourHomeintoaSmartHaven6EssentialGadgetsYouNeedNow_0.png","tag":["Tech"],"readingTime":4},{"title":"불가피한 불평등 산업 혁명에서 경제 격차를 극복하는 방법","description":"","date":"2024-06-30 23:25","slug":"2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions","content":"\n\n![2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions](/assets/img/2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions_0.png)\n\n1955년, 스웨덴 아카데미에 의해 노벨 경제학상을 수상하게 될 싸이먼 쿠즈네츠는 경제 불평등의 증가가 산업 혁명의 필연적인 결과라고 제안했습니다. 역사는 그가 옳다는 것을 증명했습니다. 첫 번째 산업 혁명은 유럽을 급격하게 변형시켰으며 당시 그곳은 농업과 시골 경제에 기초한 상태였지만 도시화되고 산업화된 사회로 변모하였습니다. 증기 기관과 기계 베틀은 영국 비즈니스를 변혁시키고 다른 유럽 경제에도 동일하게 또는 덜하게 변화를 주었습니다. 그러나 이 변화는 불평등이 없는 것은 아니었습니다. 산업 혁명은 산업 소유자들의 손에 부의 축적을 이끌었지만 프롤레타리아는 가난하고 가혹한 근로 조건에 노출되었습니다. 대략 백 년 후에는 전기, 가스 및 석유와 같은 새로운 에너지 형태와 대량 생산이 신 산업 혁명을 일으켰습니다. 두 번째 산업 혁명은 경제의 첫 번째 세계화를 이끌었습니다. 고도 산업화된 나라들은 원자재를 생산하는 국가들을 정치적으로, 군사적으로 통제하여 최저 비용으로 생산 재료를 얻는 경제적 불평등을 증가시켰습니다.\n\n제 2차 세계 대전 이후의 유럽은 새로운 열을 뿜어내며 성장했습니다. 혁신적인 기술이 다시 게임의 규칙을 바꿨습니다. 인터넷, 자동화, 극한의 글로벌화를 기본으로 한 제 3차 산업 혁명은 seemingly 무한한 번창이 끝났습니다. 그러나 현재 우리가 제 3차 산업 혁명의 부정적 영향을 겪고 있을 때라도, 다음 혁명, 즉 산업 4.0의 도래가 이미 눈 앞에 있습니다. 이 네 번째 산업 혁명에서, 쿠즈네츠의 예언이 실현된다면 - 상식과 역사가 말해주듯 - 우리는 다시 경제적 불평등의 시기를 맞닥뜨릴 것입니다.\n\n경제적 불평등에 대해 이야기하는 것은 우승자와 패자에 대해 이야기하는 것을 의미합니다. 새로운 산업 혁명의 맥락에서는 산업의 디지털화가 분명히 패자를 가질 것입니다: 숙련되지 않은 노동력입니다. 향후 몇 년 동안 새로운 기술이 기업에서 발전함에 따라 숙련되지 않은 노동자들 사이의 실업이 상당히 증가할 것입니다. 그러나 언급된 대로, 채용은 새로운 디지털 직업 및 프로필에서 증가할 것입니다. 이 맥락에서는 미래의 실업 문제에 대처하기 위해 교육 제도 내에 산업 4.0을 위해 필요한 새로운 전문 프로필을 촉진하는 것이 중요합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nIndustry 4.0은 동일 지리적 틀 내에서 사회적 불평등이 더 심화되는 것뿐만 아니라 국가 간의 불평등도 증대시킬 것입니다. 냉전 종결 이후 글로벌화와 자유무역은 경제를 형성해 왔고, 숙련 노동자가 주로 개발된 국가에 있고 숙련 노동력이 필요하지 않은 생산은 가난한 국가로 옮겨진 생산 시스템을 만들어냈습니다. 이러한 전환은 이러한 국가로 기술 발전을 가져오겠다는 약속 하에 이루어지지만 실제 목적은 연말에 수익을 극대화하는 것입니다. 이러한 상황에서, 나의 시각에서는 숙련 노동력과 새로운 전문가를 양성할 견고한 학문적 구조가 없는 가난한 국가들이 산업의 증가하는 디지털화로 인한 사회적, 경제적 변화로부터 가장 많은 고통을 겪을 것입니다.\n\n하지만 이러한 불평등을 극복할 수 있는 해결책이 있는가? 분명히, 그렇습니다. 하지만 새로운 길과 전례 없는 방안을 모색하여 물리적 노동이 더 이상 현실이 되지 않을 전례없는 미래에 직면하기 위해서는 필요합니다. 예를 들어, 기계에 대한 세금 부과나 보편적 기본소득 도입을 통해 이를 극복할 수 있습니다. 이것이 해결책이라고 주장하는 것이 아니라 오히려 영화작품에서 묘사된 것처럼 점점 디스토피아적인 미래가 되지 않도록 보장하기 위한 제안입니다. 중요한 것은 사회적 격차를 없애기 위한 토론을 열어야 한다는 것입니다. 왜냐하면 역사는 경제적 불평등이 결국 정치적 불안정으로 변화하며, 이는 미숙한, 숙련된 노동자, 가난한 이들과 부유한 사람들을 모두 영향을 미치기 때문입니다.\n\n알렌호마니아리더","ogImage":{"url":"/assets/img/2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions_0.png"},"coverImage":"/assets/img/2024-06-30-TheInevitableInequalityNavigatingtheEconomicDisparitiesofIndustrialRevolutions_0.png","tag":["Tech"],"readingTime":3},{"title":"SQL 집계 Grouping Sets와 Cube 쉽게 이해하기","description":"","date":"2024-06-30 23:24","slug":"2024-06-30-SQLAggregationGroupingSetsandCubeExplained","content":"\n\n\n![이미지](/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_0.png)\n\n# 소개\n\n데이터 분석에서 SQL의 GROUP BY 절을 사용하면 다른 카테고리에 따라 데이터를 요약하거나 합산하는 유용한 방법입니다. 그러나 몇 가지 제한 사항이 있습니다:\n\n- 한 번에 고정된 수의 열을 그룹화 할 수 있습니다.\n- 서로 다른 열의 조합으로 그룹화해야 하는 경우 쿼리가 길고 반복적인 경우가 발생할 수 있습니다.\n- 성능이 떨어질 수 있습니다. 이는 테이블을 여러 번 스캔해야 하기 때문입니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음 섹션에서는 이러한 문제를 더 자세히 살펴볼 것입니다. 그러나 먼저 데이터를 준비해 봅시다.\n\n# 데이터 준비\n\n다음은 product_sales라는 테이블을 만드는 방법입니다.\n\n```js\nCREATE TABLE product_sales (\n country VARCHAR(30)\n ,state VARCHAR(20)\n ,city VARCHAR(20)\n ,store VARCHAR(20)\n ,sales_amount DECIMAL(10, 2)\n )\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 테이블에 더미 데이터를 삽입하는 코드가 있어요. 이것을 통해 개념을 더 잘 이해할 수 있을 거예요.\n\n```js\nINSERT INTO product_sales (country, state, city, store, product, sales_date, sales_amount) VALUES\n('USA', 'California', 'Los Angeles', 'Store A', 'Product 1', '2024-01-01', 100.00),\n('USA', 'California', 'San Francisco', 'Store B', 'Product 2', '2024-01-02', 150.00),\n('USA', 'New York', 'New York', 'Store C', 'Product 1', '2024-01-03', 200.00),\n('USA', 'New York', 'New York', 'Store C2', 'Product 3', '2024-01-03',225.00),\n('USA', 'New York', 'Buffalo', 'Store D', 'Product 3', '2024-01-04', 250.00),\n('Canada', 'Ontario', 'Toronto', 'Store E', 'Product 2', '2024-01-05', 300.00),\n('Canada', 'British Columbia', 'Vancouver', 'Store F', 'Product 1', '2024-01-06', 350.00),\n('India', 'Maharashtra', 'Mumbai', 'Store G', 'Product 2', '2024-01-07', 400.00),\n('India', 'Karnataka', 'Bangalore', 'Store H', 'Product 3', '2024-01-08', 450.00),\n('India', 'Delhi', 'New Delhi', 'Store I', 'Product 1', '2024-01-09', 500.00),\n('India', 'Tamil Nadu', 'Chennai', 'Store J', 'Product 2', '2024-01-10', 550.00),\n('USA', 'Texas', 'Houston', 'Store K', 'Product 1', '2024-01-11', 600.00),\n('USA', 'Florida', 'Miami', 'Store L', 'Product 3', '2024-01-12', 650.00),\n('Canada', 'Quebec', 'Montreal', 'Store M', 'Product 2', '2024-01-13', 700.00),\n('India', 'West Bengal', 'Kolkata', 'Store N', 'Product 3', '2024-01-14', 750.00);\n```\n\nproduct_sales 테이블을 조회하면 아래와 같은 데이터가 나올 거예요.\n\n\u003cimg src=\"/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_1.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 그룹화 세트 이해하기\n\n그룹화 세트 개념을 이해하기 위한 예제를 살펴보겠습니다. 이 예제에서는 미국의 총 매출을 보고, 주(state)와 도시(city)의 다양한 조합으로 그룹화하고 싶습니다. 아래 쿼리를 사용하여 GROUP BY 절만으로 이 작업을 수행할 수 있습니다.\n\n```js\nSELECT state\n ,city\n ,SUM(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY state\n ,city\n\nUNION ALL\n\nSELECT state\n ,NULL AS city\n ,SUM(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY state\n\nUNION ALL\n\nSELECT NULL AS state\n ,city\n ,SUM(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY city\n\nUNION ALL\n\nSELECT NULL AS state\n ,NULL AS city\n ,SUM(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA';\n```\n\n쿼리는 다음과 유사한 결과를 생성합니다 -\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![2024-06-30-SQLAggregationGroupingSetsandCubeExplained_2.png](/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_2.png)\n\n이 접근 방식에는 두 가지 주요 문제가 있습니다:\n\n- 코드의 장황함: 비슷한 코드를 반복 타이핑해야 하며, 두 개의 열로는 관리할 수 있지만, 세 개 이상으로 늘어날수록 번거로워집니다. 이렇게 되면 운영 오버헤드가 증가하게 됩니다.\n- 성능: 쿼리가 테이블을 여러 번 스캔합니다(이 예시에서는 네 번). 열의 수가 늘어날수록 - 예를 들어, 세 개의 열로 할 경우 - 쿼리는 테이블을 여덟 번 스캔합니다. 이 순차적인 스캔은 특히 대형 테이블의 경우 성능에 심각한 영향을 미치며, 실행 속도가 느려질 수 있습니다.\n\n![2024-06-30-SQLAggregationGroupingSetsandCubeExplained_3.png](/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_3.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n하지만 Grouping Sets는 Group By 절의 하위 절로 해결책을 제공합니다. 이는 코드를 간소화할 뿐만 아니라 테이블을 한 번만 스캔하여 성능을 크게 향상시킵니다.\n\n```js\nSELECT state\n ,city\n ,sum(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY GROUPING SETS((state,city),(state), (city), ())\n```\n\n아래와 같이 보여지는 Grouping Sets를 사용할 때, 쿼리는 테이블을 한 번만 스캔합니다.\n\n```js\nEXPLAIN \nSELECT state\n ,city\n ,sum(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY GROUPING SETS((state,city),(state), (city), ())\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_4.png\" /\u003e\n\n이제 Grouping Sets에 세 번째 열을 포함하면, 쿼리는 다음과 같이 보일 수 있습니다 -\n\n```js\nSELECT state\n ,city\n ,sum(sales_amount) AS total_sales\nFROM product_sales\nWHERE country = 'USA'\nGROUP BY GROUPING SETS((state,city,store),(state,city), (state, store), \n(city, store), (state), (city), (store), ())\n```\n\n# CUBE 설명\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위 예제에서 8가지 조합을 볼 수 있습니다. 그루핑 세트는 열의 수가 증가함에 따라 장황하고 오류가 발생할 수 있습니다. 이를 극복하기 위해 GROUP BY의 다른 하위 절인 CUBE가 있습니다. CUBE는 열의 모든 조합을 간결하게 제공합니다.\n\n아래는 Markdown으로 서식이 지정된 쿼리 출력입니다. 빈 셀은 NULL 값을 나타냅니다.\n\n```js\n| state      | city          | total_sales |\n|------------|---------------|------------|\n|            |               | 2175.00    |\n| New York   | New York      | 225.00     |\n| New York   | New York      | 200.00     |\n| California | San Francisco | 150.00     |\n| Texas      | Houston       | 600.00     |\n| New York   | Buffalo       | 250.00     |\n| California | Los Angeles   | 100.00     |\n| Florida    | Miami         | 650.00     |\n| California | San Francisco | 150.00     |\n| New York   | New York      | 425.00     |\n| Florida    | Miami         | 650.00     |\n| New York   | Buffalo       | 250.00     |\n| Texas      | Houston       | 600.00     |\n| California | Los Angeles   | 100.00     |\n| New York   |               | 675.00     |\n| Texas      |               | 600.00     |\n| California |               | 250.00     |\n| Florida    |               | 650.00     |\n|            | Buffalo       | 250.00     |\n|            | New York      | 200.00     |\n|            | Miami         | 650.00     |\n|            | San Francisco | 150.00     |\n|            | Los Angeles   | 100.00     |\n|            | Houston       | 600.00     |\n|            | New York      | 225.00     |\n|            | New York      | 425.00     |\n|            | Houston       | 600.00     |\n|            | Buffalo       | 250.00     |\n|            | Los Angeles   | 100.00     |\n|            | Miami         | 650.00     |\n|            | San Francisco | 150.00     |\n| New York   |               | 225.00     |\n| Texas      |               | 600.00     |\n| New York   |               | 200.00     |\n| New York   |               | 250.00     |\n| California |               | 150.00     |\n| California |               | 100.00     |\n| Florida    |               | 650.00     |\n|            |               | 200.00     |\n|            |               | 150.00     |\n|            |               | 100.00     |\n|            |               | 600.00     |\n|            |               | 650.00     |\n|            |               | 250.00     |\n|            |               | 225.00     |\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 요약\n\n여기서는 Grouping Sets 및 Cube와 같은 고급 Group By 하위 절이 코드의 간결성을 향상시키는 뿐만 아니라 성능을 향상시켜 고급 데이터 분석에 가치를 더하는 방법을 살펴보았습니다. 또한 탐색할 가치가 있는 다른 하위 절은 ROLLUP입니다. \n\n또한, 이러한 기능들은 PostgreSQL에서 테스트되었으며 SQL Server에서도 지원됩니다. 이러한 개념을 적용하기 전에 귀하의 관계형 데이터베이스 관리 시스템이 이를 지원하는지 확인하십시오.","ogImage":{"url":"/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_0.png"},"coverImage":"/assets/img/2024-06-30-SQLAggregationGroupingSetsandCubeExplained_0.png","tag":["Tech"],"readingTime":8},{"title":"DP-600 분석 엔지니어 어소시에이트 마이크로소프트 자격증에서 95 이상 득점하는 방법","description":"","date":"2024-06-30 23:22","slug":"2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification","content":"\n\n`\u003cimg src=\"/assets/img/2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification_0.png\" /\u003e`\n\nMicrosoft Fabric를 미리보기 버전부터 사용해온 만큼, 드디어 이 자격증을 취득할 수 있었습니다.\n\nMicrosoft Fabric Analytics Engineer Associate 자격증을 높은 점수로 취득했다는 것을 자랑스럽게 생각합니다!\n\n당신에게도 똑같이 원합니다 🌟\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n지금 당장 어떻게 했는지에 대해 알려 드리겠습니다.\n\n## 시험 범위\n\n- 데이터 분석 솔루션을 계획, 구현 및 관리하기 (10–15%)\n- 데이터를 준비하고 제공하기 (40–45%)\n- 의미 모델을 구현하고 관리하기 (20–25%)\n- 데이터 탐색 및 분석하기 (20–25%)\n\n질문 수: 59\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n시험 시간: 100분\n\n등록 비용: $165 (시험을 할인받을 수 있는 프로모션을 활용하세요)\n\n문제 유형: 객관식, 드래그 앤 드롭, 제시된 순서에 맞추기\n\n1. Microsoft Fabric Learning Path의 모든 모듈을 완료하세요. 그들의 단계별 가이드가 훌륭합니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nAI Skill Challenge를 완료하기 위해 학습 모듈을 수행했어요. 그래도 말씀드리지만, 그 모듈들은 매우 잘 만들어졌고 포괄적이며, 훌륭한 이론적 설명과 단계별 연습이 함께 제공되어 Microsoft Fabric 모듈에 대해 실제로 경험할 수 있어요.\n\n## 함께 공부하고 싶나요?\n\n학습 경로를 따라 가는 데 동행할 누군가가 필요하다고 생각한다면, 여러 MVP 및 데이터 전문가로부터 직접 배울 수 있는 Fabric 시리즈 Learning Together를 추천해요.\n\n유튜브에서 무료로 확인하세요 👇\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 2. 윌 니들럼 DP-600 시험 대비 플레이리스트 시청하기\n\n이 플레이리스트는 황금이라고 말해도 손색이 없어요! 모두가 그것에 대해 이야기하는 것이 우연이 아닙니다.\n\n윌은 YouTube 채널에서 시험에 포함된 모든 모듈을 세밀한 설명, 훌륭한 예시 및 활용 사례와 함께 다루고 있어요. 만약 아직 몇 가지 Fabric 개념에 익숙하지 않다면, 이 마라톤을 시청해보세요 👇\n\n# 3. 니콜라 DP-600 플레이리스트\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n또 다른 훌륭한 컨텐츠는 Data Mozart YouTube 채널에 있어요. DP-600 시험의 모든 주제에 대한 전체 가이드는 아니지만, Nikola는 이 비디오에서 우리에게 알아야 할 몇 가지 개념들을 제시하며, 그들을 어떻게 적용해야 하는지에 대한 훌륭한 예시들을 보여줍니다.\n\n이 것을 놓치지 마세요 👇\n\n# 4. 매일 베이스 연습\n\n난 첫날부터 Microsoft Fabric을 쓰고 사용해왔어요! 그리고 이것은 분명히 전체 플랫폼을 이해하는 데 도움이 되었어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 자격증을 취득하려면 은행에 일정 시간의 실습 시간이 채워져 있어야 합니다.\n\n기능을 테스트하고 프로젝트를 구축하세요. 이를 통해 Microsoft Fabric을 숙달할 수 있습니다.\n\n# 5. 모의 시험 및 시험 문제 풀기\n\n솔직히 말해서, 공식 모의 시험이 없어서(찾으신 경우 알려주시면 감사하겠습니다), 제가 준비한 마지막 부분은 시험 주제의 교육 문제로 연습하는 것이었습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n실제 시험 문제의 스타일과 난이도를 모방한 포괄적인 질문 세트를 제공합니다. 다음은 이것이 도움이 된 방법입니다:\n\n- 다양한 범위의 질문: 다양한 주제를 다룬 질문들을 포함하여 시험의 모든 과목에 대해 충분히 준비되었음을 보장합니다.\n- 실제 시험 시뮬레이션: 이러한 질문들과 연습하는 것은 실제 시험을 보는 것과 같았기 때문에 시험 당일의 긴장을 크게 줄였습니다.\n- 토론: 각 질문마다 논의 탭이 있어서 어떤 답이 정답인지와 그 이유에 대해 논의할 수 있습니다. 이는 특정 답이 정답인지 아닌지를 이해하는 데 근본적인 역할을 합니다.\n\n# 시험에서의 조언\n\n내 경험으로 볼 때, 위에서 언급한 모든 것을 했던 사람으로서 시험이 잘 이루어질 수 있었다고 생각합니다 (특히 어소시에이트 시험을 준비하는 경우)!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n패브릭 기능이 어떻게 작동하는지 잘 이해하세요.\n\nOnelake 아키텍처를 잘 이해하세요, 이것이 근본입니다.\n\nDirect Lake가 어떻게 작동하는지 이해하세요, 그 부분에 몇 가지 질문이 있습니다.\n\n데이터 웨어하우징 및 데이터 엔지니어링에 대한 좋은 지식을 가지세요. 특히 T-SQL 쿼리, PySpark 및 성능에 대해요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도구에 집중할 때는 종종 사용 가능한 옵션 중에서 특정 시나리오에 사용할 기술 또는 기능성을 선택해야 할 때가 있습니다. Microsoft Fabric 시험을 준비 중이니 그에 맞게 선택하도록하세요.\n\n# Fabric 콘텐츠\n\n내 Medium 프로필을 방문해보세요! 저는 첫날부터 Fabric 주제에 대해 글을 쓰고 있으며, 여러 주제를 다룬 게시물을 찾을 수 있을 것입니다. \n\n공부하는 여정과 자격증 획득에 최상의 결과를 기원합니다!👊\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n즐겁게 이용하셨나요? 매월 $5로 Medium 멤버가 되어 Medium의 모든 걸작물에 무제한 액세스하세요. 제 글을 Medium 멤버로 읽음으로써, 단순히 제 작품에 기여하는 것뿐만 아니라 제 작품의 품질을 향상시키는 중요한 역할을 하게 됩니다. 여러분의 지원은 저에게 큰 힘이 됩니다! 😊","ogImage":{"url":"/assets/img/2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification_0.png"},"coverImage":"/assets/img/2024-06-30-HowyoucanScore95plusontheDP-600FabricAnalyticsEngineerAssociateMicrosoftCertification_0.png","tag":["Tech"],"readingTime":3},{"title":"Ansible로 윈도우 업데이트 마스터하기 종합 가이드","description":"","date":"2024-06-30 23:20","slug":"2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide","content":"\n\n윈도우 시스템에서 업데이트를 관리하는 것은 여러 대의 서버가 있는 환경에서 특히 어려울 수 있습니다. 일반적으로 윈도우 업데이트는 GUI를 통해 관리되어왔는데, 이는 시간이 많이 소요되고 오류가 발생하기 쉽습니다. 그러나 Ansible을 사용하면 전체 프로세스를 자동화하여 최소한의 노력으로 시스템이 최신 상태를 유지할 수 있습니다. 이 블로그에서는 Ansible을 사용하여 윈도우 업데이트를 설정하고 관리하는 과정을 안내해 드리겠습니다.\n\n![이미지](/assets/img/2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide_0.png)\n\n## 사전 준비 사항\n\nAnsible 구성으로 진입하기 전에 필요한 사전 준비 사항이 갖춰져 있는지 확인해 보겠습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- Ansible 제어 머신: 제어 머신에 Ansible이 설치되어 있는지 확인해주세요. 그렇지 않은 경우, 다음 명령을 사용하여 설치할 수 있습니다:\n\n```js\npip install ansible\n```\n\n2. Windows 시스템: Windows 시스템이 WinRM(Windows 원격 관리)이 활성화되어 있고 올바르게 구성되어 있는지 확인해주세요. 이는 Ansible이 Windows 호스트와 통신할 수 있게 합니다.\n\n3. Ansible Windows Collection: Windows 업데이트를 관리하기 위한 필요한 모듈이 있는지 확인하기 위해 ansible.windows 컬렉션을 설치해주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nansible-galaxy collection install ansible.windows\n```\n\n## Windows에서 WinRM 구성하기\n\nWindows 업데이트를 관리하기 위해 Ansible이 각 Windows 머신에서 올바르게 구성되어야 합니다. Windows 시스템에서 WinRM을 구성하기 위해 실행할 수 있는 스크립트가 있습니다:\n\n```js\n# PSRemoting 활성화\nEnable-PSRemoting -Force\n\n# 암호화되지 않은 트래픽 허용\nSet-Item -Path WSMan:\\localhost\\Service\\AllowUnencrypted -Value $true\n\n# 기본 인증 허용\nSet-Item -Path WSMan:\\localhost\\Service\\Auth\\Basic -Value $true\n\n# TrustedHosts 설정\nSet-Item WSMan:\\localhost\\Client\\TrustedHosts -Value “*” -Force\n\n# WinRM 트래픽을 허용하는 방화벽 규칙 생성\nNew-NetFirewallRule -Name “Allow WinRM HTTP-In” -DisplayName “Allow WinRM HTTP-In” -Protocol TCP -LocalPort 5985 -Action Allow -Profile Any\nNew-NetFirewallRule -Name “Allow WinRM HTTPS-In” -DisplayName “Allow WinRM HTTPS-In” -Protocol TCP -LocalPort 5986 -Action Allow -Profile Any\n\n# 자체 서명 인증서 생성\n$cert = New-SelfSignedCertificate -DnsName “localhost” -CertStoreLocation Cert:\\LocalMachine\\My\n\n# 새 인증서를 사용하여 WinRM을 HTTPS로 구성\nwinrm create winrm/config/Listener?Address=*+Transport=HTTPS “@{Hostname=`”localhost`”;CertificateThumbprint=`”$($cert.Thumbprint)`”}”\n\n# WinRM 서비스 재시작\nRestart-Service -Name “WinRM\"\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Ansible 인벤토리 설정\n\n다음으로는 Ansible 인벤토리를 구성하여 Windows 호스트를 포함해야합니다. 다음은 인벤토리 파일(inventory.ini)의 예시입니다:\n\n```js\n[windows]\nwin_host1 ansible_host=192.168.1.100\nwin_host2 ansible_host=192.168.1.101\n\n[windows:vars]\nansible_user=your_username\nansible_password=your_password\nansible_port=5986\nansible_connection=winrm\nansible_winrm_transport=basic\nansible_winrm_server_cert_validation=ignore\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 Windows 호스트에서 업데이트를 확인하고 설치하는 Ansible 플레이북을 만들어봅시다. win_updates.yaml이라는 파일을 생성하고 다음 내용을 추가하세요:\n\n```yaml\n---\n- name: Check and print installed and pending updates on Windows 10\n  hosts: windows\n  gather_facts: no\n  tasks:\n    - name: Gather facts\n      ansible.windows.setup\n\n    - name: Check for installed updates\n      win_updates:\n        category_names: []\n        state: installed\n      register: installed_updates\n      retries: 3\n      delay: 5\n      until: installed_updates is succeeded\n\n    - name: Print installed updates\n      debug:\n        msg: \"Installed updates: { installed_updates.updates }\"\n\n    - name: Check for pending updates\n      win_updates:\n        category_names: []\n        state: searched\n      register: pending_updates\n      retries: 3\n      delay: 5\n      until: pending_updates is succeeded\n\n    - name: Print pending updates\n      debug:\n        msg: \"Pending updates: { pending_updates.updates }\"\n```\n\n이 플레이북은 다음 작업을 수행합니다:\n\n- 정보 수집: Windows 호스트에 대한 기본 정보를 수집합니다.\n- 설치된 업데이트 확인: win_updates 모듈을 사용하여 모든 설치된 업데이트를 나열합니다.\n- 설치된 업데이트 출력: 설치된 업데이트 목록을 출력합니다.\n- 대기 중인 업데이트 확인: win_updates 모듈을 사용하여 대기 중인 업데이트를 검색합니다.\n- 대기 중인 업데이트 출력: 대기 중인 업데이트 목록을 출력합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Playbook 실행 방법\n\n플레이북을 실행하려면 다음 명령어를 사용하십시오:\n\n```js\nansible-playbook -i inventory.ini win_updates.yaml -l win_host1\n```\n\n이 명령어는 지정된 호스트(win_host1)에서 플레이북을 실행합니다. -l 옵션을 생략하여 모든 Windows 호스트에서 실행할 수도 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 문제 해결\n\nPlaybook 실행 중 문제가 발생하면 자세한 오류 메시지를 얻기 위해 상세도를 높일 수 있습니다:\n\n```js\nansible-playbook -i inventory.ini win_updates.yaml -l win_host1 -vvv\n```\n\n# 결론\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 가이드를 따라하면 Ansible을 사용하여 Windows 시스템에서 업데이트를 확인하고 설치하는 프로세스를 자동화할 수 있습니다. 이는 시간을 절약하는 뿐만 아니라 환경 전반에 걸쳐 일관성을 보장합니다. Ansible의 강력한 자동화 기능은 혼합된 환경을 관리하는 시스템 관리자 및 DevOps 엔지니어에게 귀중한 도구가 됩니다.\n\n특정 요구 사항에 맞게 이 플레이북을 수정하고 확장하십시오. 즐거운 자동화하세요!","ogImage":{"url":"/assets/img/2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide_0.png"},"coverImage":"/assets/img/2024-06-30-MasteringWindowsUpdateswithAnsibleAComprehensiveGuide_0.png","tag":["Tech"],"readingTime":5},{"title":"스네이크, 애플 VII  2024년 최고의 안티바이러스 프로그램 리뷰","description":"","date":"2024-06-30 23:15","slug":"2024-06-30-SnakeAppleVIIAntivirus","content":"\n\n게이트키퍼, 격리, 그리고 XProtect에 대한 macOS 소개\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_0.png)\n\n# 소개\n\nmacOS 보안 내부에 대한 시리즈의 또 다른 기사에 오신 것을 환영합니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n지난 에피소드에서는 필수 액세스 제어 프레임워크(MACF)가 Apple Mobile File Integrity(AMFI)에 중점을 둔 정책을 어떻게 시행하는지에 대해 설명했어요.\n\n이번 에피소드에서는 또 다른 MACF 정책인 Quarantine에 대해 배웁니다. Gatekeeper와 XProtect와 함께 작동하여 안티바이러스 삼위일체를 형성합니다.\n\n이 기사는 \"역공학\" 방식으로 구성되어 있어요. GUI에서 볼 수 있는 내용부터 시작하여 Gatekeeper의 작동 방식에 대한 개요를 제공하고 Quarantine 속성에 대한 의존성을 설명할 거예요.\n\n파일 시스템에서 Quarantine 관련 데이터를 활용하는 Launch Services 데이터베이스 중 하나를 찾아볼 거예요. 이 데이터를 설명하기 위해 Launch Services 프레임워크를 디컴파일하고 Quarantine이 어떻게 사용되는지 검토할 거예요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n랜치 서비스와 론치드 간의 연결 및 이 데몬이 격리 커널 확장과 상호 작용하는 방법에 대해 배울 것입니다.\n\n시스템 정책 구성 요소에 대해 간단히 다루고 Gatekeeper 화이트리스트 추가가 작동하지 않는 소규모 실험도 진행할 예정입니다.\n\n엑스프로텍트 안티 맬웨어 스캐너가 어떻게 작동하며 CoreServicesUIAgent를 통해 다른 백신 삼핼력 구성 요소와 어떻게 연결되는지 살펴볼 것입니다.\n\n마지막으로, 게이트키퍼 바이패스 일반 개요와 제가 학습하는 과정에서 읽은 유익한 자료에 대한 링크를 제공할 예정입니다. 함께 읽어보면 좋을 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 표는 모두를 요약합니다. 주요 목표는 게이트키퍼가 사용하는 격리 차단 메커니즘의 논리를 분석하는 것입니다.\n\n![표](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_1.png)\n\n앞으로의 기사에서 몇 가지 주제가 의도적으로 생략되었음을 유의해 주세요. 하지만 읽는 동안 여기에 쓰여진 내용에 대해 궁금한 점이 있거나 설명이 필요한 경우, 의견을 남겨주세요. 제가 답변해 드리겠으며 피드백을 향후 기사에 활용하겠습니다.\n\n# 게이트키퍼\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n알 수없는 앱의 실행을 차단하는 안티맬웨어 소프트웨어입니다. '알 수 없음'은 개인정보 및 보안의 게이트키퍼 설정에 따라 다릅니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_2.png)\n\n앱 스토어 및 식별된 개발자 옵션을 선택하면, 앱이 앱 스토어 외부에서 배포되기 전에 노타라이즈(notarized)되었는지에 관계없이 게이트키퍼가 팝업 창을 표시하지 않습니다.\n\n타인에게 코드를 배포하려면, Apple 개발자 계정의 개발자 ID 인증서를 사용하여 서명하고 노타라이즈해야 합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 개발자 ID로 Mac 소프트웨어 서명\n- macOS 소프트웨어 배포 전에 노터라이징\n\n자체 서명 또는 ad-hoc 이진 파일은 로컬에서만 작동하며 다른 곳에서 Gatekeeper 검증을 통과하지 못할 것입니다. 예를 들어, Mac mini에서 앱을 컴파일하고 MacBook으로 복사한 다음 처음 실행해 보겠습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_3.png)\n\n또한 두 가지 다른 개발자 ID를 사용하고 있습니다. 이 앱은 Mac mini의 개발자 ID를 사용하여 Xcode에서 자동으로 컴파일 중에 서명되었습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_4.png\" /\u003e\n\n## 애플리케이션 화이트리스트\n\n이러한 앱을 실행하려면 사용자는 추가 동작을 수행해야 합니다. 애플리케이션을 마우스 오른쪽으로 두 번 클릭한 후 두 번 '열기'를 눌러주시면 됩니다. 아래 스크린샷을 참고해주세요:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_5.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n터미널에서 실행 파일이 거부될지 평가할 수 있어요:\n\n![executable rejection](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_6.png)\n\n게이트키퍼가 활성화되어 있는지 확인할 수도 있어요:\n\n![Gatekeeper check](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_7.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n게이트키퍼 검사에서 제외하고 싶은 응용 프로그램의 화이트리스트를 만들 수 있는 옵션이 있습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_8.png)\n\n이 단계 이후, spctl 명령을 입력하여 해당 응용 프로그램이 허용된 것을 확인할 수 있습니다. 또한 아래 명령을 실행하여 데이터베이스에서 게이트키퍼 허용 응용 프로그램을 확인할 수 있습니다:\n\n그러나 Quarantine 속성이 아직 설정되어 있고 해당 플래그로 인해 실행이 허용되지 않는 경우에는 실행할 때 동일한 메시지가 표시됩니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_9.png)\n\n## Quarantine attribute\n\nIt is an extended attribute that indicates the file is from an untrusted source whose fully resolved name is com.apple.quarantine:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_10.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n맥OS로 외부에서 전송된 파일에 자동으로 설정됩니다. Info.plist를 통해 애플리케이션에서 LSFileQuarantineEnabled 키를 true 값으로 설정하여 우리 애플리케이션에서 격리를 시행할 수 있습니다. 이러한 구성은 애플리케이션 프로세스에 의해 생성된 모든 파일이 맥OS에 의해 격리됨을 강제합니다.\n\n![snakeapple](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_11.png)\n\n## 격리 해제\n\n비인증 앱을 열기 위한 두 번째 방법은 com.apple.quarantine 확장 속성을 제거하는 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![SnakeAppleVIIAntivirus_12.png](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_12.png)\n\n```js\n# 단일 파일에서\nxattr -d com.apple.quarantine file_name\n\n# 번들에서 재귀적으로\nfor f in $(fd . app_name); do xattr -d 'com.apple.quarantine' $f ; done\n```\n\n위에서 볼 수 있듯이, quarantine 속성을 제거한 후에는 터미널에서 앱을 정상적으로 실행할 수 있습니다. 더블클릭으로도 실행 가능합니다. 게이트키퍼 경고가 표시되지 않습니다. 다음은 GUI 앱의 예시입니다:\n\n![SnakeAppleVIIAntivirus_13.png](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_13.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## xattr\n\nxattr을 사용하면 quarantine 속성에 대한 추가 정보를 얻을 수 있습니다. 본 글에서는 각 부분을 설명하겠습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_14.png)\n\n또한 최신 CrimsonUroboros 버전에 xattr을 구현했습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-Snjson꿀kMw21perVII백Antivirus_15.png)\n\n## LaunchServices.QuarantineEvents\n\nquarantine이라는 이름으로 파일 시스템을 검색할 때 가장 먼저 발견한 파일은 사용자 홈 디렉터리에 있는 LaunchServices 데이터베이스였습니다:\n\n```js\n~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV*\n```  \n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 예제에서 본 것처럼 데이터베이스에는 현재 사용자 세션(다운로드 시) 중요한 정보를 저장하는 LSQUarantineEvent 테이블이 있습니다. \n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_16.png)\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_17.png)\n\n그러나 화면 공유를 통해 전송되거나 Chromium 엔진을 사용하여 다운로드하는 파일은 Quarantine 속성이 설정되어 있더라도 이 데이터베이스에 추가되지 않습니다. 아래에서 이에 대한 예시를 확인할 수 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image1](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_18.png)\n\n데이터베이스는 추적 목적으로만 사용되며 보안 문제는 아닙니다. 그래도 제가 Apple에 신고했고, 그들은 비취약한 것으로 플래그 지정했습니다.\n\n![Image2](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_19.png)\n\n이 데이터베이스 안에는 오직 LSQUarantineEvent 테이블 하나만 있으며, 아래 열을 저장합니다 (대부분이 요즘은 사용되고 있지 않음을 보실 수 있습니다): \n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\r\n# 모든 열\r\nLSQuarantineEventIdentifier       # 테이블 고유 레코드 ID\r\nLSQuarantineTimeStamp             # 다운로드된 시간\r\nLSQuarantineAgentBundleIdentifier # 예: org.mozilla.firefox\r\nLSQuarantineAgentName             # 예: Firefox\r\nLSQuarantineDataURLString         # - 사용되지 않음\r\nLSQuarantineSenderName            # - 사용되지 않음\r\nLSQuarantineSenderAddress         # - 사용되지 않음\r\nLSQuarantineTypeNumber            # 유형 (WebDownload|OtherDownload|EmailAttachment|InstantMessageAttachment|CalendarEventAttachment|OtherAttachment)\r\nLSQuarantineOriginTitle           # - 사용되지 않음\r\nLSQuarantineOriginURLString       # - 사용되지 않음\r\nLSQuarantineOriginAlias           # - 사용되지 않음\r\n```\r\n\r\n이 테이블에서 모든 데이터를 나열하려면 다음 명령을 사용할 수 있습니다:\r\n\r\n```js\r\n# 모든 값 나열:\r\nsqlite3 ~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV* 'select * from LSQuarantineEvent;'\r\n```\r\n\r\n재미로 말씀드리면, 예전에 하나의 열인 LSQuarantineDataURLString에 URL 내에서 API 토큰의 정보 유출이 있었습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n# LSQuarantineDataURLString에서 모든 값을 나열합니다:\nsqlite3 ~/Library/Preferences/com.apple.LaunchServices.QuarantineEventsV* 'select LSQuarantineDataURLString from LSQuarantineEvent'\n```\n\n## LSQuarantine.h\n\n데이터베이스는 LaunchServices의 일부이므로 해당 헤더 파일을 다음에서 찾을 수 있습니다:\n\n```js\n/Library/Developer/CommandLineTools/SDKs/MacOSX14.4.sdk/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Headers/LSQuarantine.h\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n여기에서는 다운로드한 파일에 xattr -l을 사용하여 본 격리 값 중 두 가지에 대한 설명을 얻을 수 있습니다.\n\n첫 번째 LSQuarantineEventIdentifier는 데이터베이스에서 인덱스로 사용되며 (해당 속성에 설정된 경우) 격리 속성에 설정된 UUID와 일치합니다:\n\n```js\nUUID: E5DDD103-83BF-4CAB-A6C3-08F5433CBD85 # LSQuarantineEventIdentifier - LSQuarantine.h에는 문서화되어 있지 않음\n```\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_20.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nTimestamp: 6658ca71 # kLSQuarantineTimeStampKey\n```\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_21.png\" /\u003e\n\n```js\nAgent: Screen Sharing # kLSQuarantineAgentNameKey\n```\n\n# LAUNCH SERVICES\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 API를 사용하면 앱이 다른 앱 및 파일과 상호 작용할 수 있습니다. Launch Services를 사용하면 앱이 아래에 설명된 여러 작업을 수행할 수 있습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_22.png)\n\n이는 앱을 더블 클릭하여 실행할 때 Finder를 간접적으로 사용하고, 그 하위에서 Launch Services API를 활용한다는 것을 의미합니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_23.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 작업을 프로그래밍적으로도 NSWorkspace를 사용하여 달성할 수 있습니다 (하지만 나중에 설명할 중단점을 트리거하지는 않습니다!):\n\n```js\n//swiftc -o OpenApp OpenApp.swift -framework AppKit\nimport AppKit\nlet workspace = NSWorkspace.shared\nlet appURL = URL(fileURLWithPath: \"/Users/karmaz/Desktop/Hi.app\")\nworkspace.open(appURL)\n```\n\n```js\n//clang -o OpenApp OpenApp.m -framework AppKit\n#import \u003cAppKit/AppKit.h\u003e\nint main(int argc, const char * argv[]) {\n    @autoreleasepool {\n        [[NSWorkspace sharedWorkspace] openURL:[NSURL fileURLWithPath:@\"/Users/karmaz/Desktop/Hi.app\"]];\n    }\n    return 0;\n}\n```\n\n마지막에 launchd가 있는지 어떻게 알 수 있을까요? macOS의 모든 프로세스의 부모는 launchd이며 이것은 프로세스 생성 흐름에 관여합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\n![SnakeAppleVIIAntivirus_24](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_24.png)\n\n시각적으로 보려면 시스템에서 exec|fork|exit 활동을 추적하기 위해 eslogger를 사용하여 JSON 형식으로 저장한 다음 SpriteTree를 사용하여 그래프를 만들 수 있습니다:\n\n![SnakeAppleVIIAntivirus_25](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_25.png)\n\n```js\nsudo eslogger exec fork exit \u003e eslogger.json\n``` \n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n새로운 프로세스가 생성된 방식을 디버깅하려면, lldb를 Finder에 연결하고 _spawn_via_launchd 또는 _LSLaunch에 중단점을 설정할 수 있습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_26.png)\n\n```js\n# SIP must be disabled\nlldb -p $(pgrep Finder)\nbreakpoint set -n _LSLaunch\nbreakpoint set -n _spawn_via_launchd\n```\n\n그런 다음 어떤 앱이든 더블 클릭하여 실행하면, 해당 중단점에 도달하게 될 것입니다 (Desktop이나 /Applications 디렉터리에서 Finder에서 실행해야 함):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_27.png\" /\u003e\n\n디버깅 중에는 두 개의 중단점에 도달할 수 있지만, 이 기사를 작성하는 동안 더 이상 _spawn_via_launchd 중단점을 복제할 수 없었으며, 그 이유를 모르겠습니다. 또한 정보를 검색하여 2015년 Patrick Wardle의 발표 'Exposing Gatekeeper'에도 언급이 있었는데요:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_28.png\" /\u003e\n\n그러나 이 발표 자료가 조금 오래되었습니다. 호출 스택에는 새로운 함수가 몇 가지 추가되어 있고 일부 함수는 제거되었습니다. 또한 아래 명령들을 사용하여 DTrace로 확인해 보았는데, 특정 프로세스에서 주어진 함수가 사용되었는지 확인하려고 하니 _LSLaunch만 호출되었음을 확인했습니다:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_29.png)\n\n```js\nsudo dtrace -n 'pid$target::_spawn_via_launchd:entry { trace(\"함수 _spawn_via_launchd를 호출했습니다\"); }' -p $(pgrep Finder)\n```\n\n```js\nsudo dtrace -n 'pid$target::_LSLaunch:entry { trace(\"함수 _LSLaunch를 호출했습니다\"); }' -p $(pgrep Finder)\n```\n\n복잡한 _LSLaunch에 대해 자세히 분석하지는 않겠습니다. 디컴파일된 코드에서 볼 수 있는 몇 가지 함수를 간단히 소개할게요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- _LSBundleGet – 앱을 시작하는 데 필요한 정보를 검색합니다.\n- _LSBundleMeetsMinimumVersionRequirement – 앱이 시작하기 위해 필요한 최소 버전 요구 사항을 충족하는지 확인합니다. 이 단계에서 macOS 버전이 너무 오래되었다면 시작을 방지합니다.\n- _LSLaunchWithRunningboard – macOS의 실행 보드 메커니즘을 사용하여 앱의 실제 시작을 시작합니다.\n\n이 중에서 _LSLaunchWithRunningboard에는 대부분의 앱 시작 로직이 포함되어 있습니다. 그 내용이 너무 크기 때문에 lldb에서 강제로 분해해야 합니다 :D\n\n![SnakeAppleVIIAntivirus](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_30.png)\n\n## DSC 역방향: Quarantine과의 Launch Services 연결?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nLSQuarantine.h를 이전에 본 바에 의하면, Launch Services 프레임워크는 전역 변수 집합을 통해 격리 속성을 이해합니다.\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_31.png)\n\n따라서 프레임워크의 어딘가에서 이를 활용해야 합니다. 그러나 Launch Services는 헤더 파일 이외에는 공개 소스 코드를 가지고 있지 않기 때문에, grep을 사용하여 이러한 변수들을 쉽게 찾기는 어렵습니다. 디컴파일된 코드를 조사해야 합니다.\n\n요한 바오로 2세가 생존 중이던 시기에는, 프레임워크 이진 파일을 이 위치에서 찾을 수 있었습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n/System/Library/Frameworks/CoreServices.framework/Frameworks/LaunchServices.framework/\n```\n\n지금은 모든 시스템 2진 파일이 Dyld Shared Cache에서 미리 컴파일되어 있습니다:\n\n```js\n/System/Volumes/Preboot/Cryptexes/OS/System/Library/dyld/dyld_shared_cache_arm64e\n```\n\n이 기사에서 DSC에서 dylib를 추출하는 또 다른 방법을 찾을 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음은 DSC에서 하나의 dylib를 열기 위해 Ida를 사용할 것입니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_32.png)\n\n```js\nida64 /System/Volumes/Preboot/Cryptexes/OS/System/Library/dyld/dyld_shared_cache_arm64e\n```\n\n우리가 여기서 하나의 이진 파일만 선택한다면, 다른 이진 파일에서 가져온 함수에 액세스할 수 없습니다. 이제 예제로 보여드리겠습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_33.png)\n\nNow we can grep the decompiled code to find out where, for instance, the kLSQuarantineAgentBundleIdentifierKey is used:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_34.png)\n\nLet’s check now one of the functions where the variable we search for is used. For instance the _LSSetProcessQuarantineProperties code:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_35.png\" /\u003e\n\n_qtn_proc_alloc 함수가 있는 것을 볼 수 있습니다. Ida에 하나의 이진파일만을 로드했기 때문에 해당 메모리만 볼 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_36.png\" /\u003e\n\n로드된 DSC에서 주소를 수동으로 검색하여 함수 코드와 수입처를 확인할 수 있지만, 여기에서는 Ida에서 분석을 위해 전체 DSC를 로드하겠습니다:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![SnakeAppleVIIAntivirus_37](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_37.png)\n\n로드하는 데는 약 24 시간이 걸리고 분석하는 데는 약 7일이 걸리지만, 분석 중에도 작업을 진행할 수 있습니다. 운영 체제 버전당 한 번만 수행하면 나중에 사용할 수 있습니다.\n\n이후 _qtn_proc_alloc의 코드를 명확하게 볼 수 있으며, 아래 이미지에서 확인할 수 있듯이 _qtn_proc_alloc_0 위에 래퍼(wrapper)임을 유추할 수 있습니다:\n\n![SnakeAppleVIIAntivirus_38](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_38.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n_qtn_proc_alloc_0를 더블 클릭하면 해당 코드를 볼 수 있으며 해당 함수가 libquarantine.dylib에서 가져온 것임을 볼 수 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_39.png)\n\n## libquarantine.dylib\n\n큐리틴 속성을 조작하기 위한 사용자 모드 인터페이스입니다. 이 게시물의 이전 부분에서 본 바와 같이 Dyld Shared Cache 안에 있을 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_40.png)\n\n앱이 시작될 때 lldb에서 아래의 중단점 regex를 사용하여 dylib에서 함수를 사용하는 모든 위치를 디버그할 수 있습니다:\n\n```js\nbr set --func-regex \".*\" -s libquarantine.dylib\n```\n\n다음은 Finder에서 프로그램 시작 중에 일반적으로 직면하는 함수 목록입니다 (란치 서비스 및 보안 호출 포함):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n_qtn_file_alloc\n_qtn_file_init_with_path\n__qtn_syscall_quarantine_getinfo_path\n_qtn_file_free\n_LSLaunch\n_LSLaunchWithRunningboard\n_qtn_file_alloc\n_LSGetTranslocatedAppNodeAndSecureDirectory\nSecTranslocateCreateSecureDirectoryForURL\nSecurity::SecTranslocate::TranslocationPath::TranslocationPath\nSecurity::SecTranslocate::TranslocationPath::init\nSecurity::SecTranslocate::ExtendedAutoFileDesc::isQuarantined\nSecurity::SecTranslocate::ExtendedAutoFileDesc::fetchQuarantine\n_qtn_file_init_with_fd\n__qtn_syscall_quarantine_getinfo_fd\n_qtn_file_free\n_qtn_file_alloc\n_qtn_file_init_with_path\n__qtn_syscall_quarantine_getinfo_path\nqtn_file_free\nqtn_proc_alloc\nqtn_proc_init_with_self\nqtn_proc_init_with_pid\n__qtn_syscall_quarantine_getprocinfo\nqtn_proc_free\n```\n\n- _qtn_file* 및 __qtn_syscall_quarantine_getinfo_fd는 파일(경로 또는 파일 디스크립터로 식별)에 대한 격리 작업과 관련이 있습니다.\n- 이전에 본 _LSLaunch 및 _LSLaunchWithRunningboard입니다.\n- Security 프레임워크에서 많은 호출을 발견할 수 있습니다. 이러한 함수는 격리된 앱에만 작동하는 App Translocation을 지원합니다.\n- 마지막 그룹인 _qtn_proc_* 및 __qtn_syscall_quarantine_getprocinfo는 프로세스와 해당 프로세스가 생성한 모든 파일과 관련된 격리 정보를 관리합니다.\n\nlibquarantine은 사용자에게 _qtn_syscall*을 사용하여 Quarantine 커널 확장에 액세스 할 수있는 인터페이스를 제공합니다. 이 메커니즘은 이전에 소개 된 AMFI와 비슷하게 sandbox_ms를 통해 작동합니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_41.png\" /\u003e\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![2024-06-30-SnakeAppleVIIAntivirus_42.png](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_42.png)\n\n![2024-06-30-SnakeAppleVIIAntivirus_43.png](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_43.png)\n\n## 앱 이동\nGatekeeper Path Randomization (Translocation)은 WWDC16에서 소개되었습니다. 이 기능은 앱을 실행된 위치에서 무작위 위치로 이동시킵니다:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_44.png\" /\u003e\n\n```js\n$TMPDIR/AppTranslocatiom/$UUID\n```\n\n번들된 파일에서만 작동합니다. quarantine 속성이 설정되어 있을 때에만 작동합니다. 상대 경로를 사용하여 앱이 외부 리소스를 불러오는 것을 방지합니다.\n\n## QUARANTINE KEXT\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n맥 앱 청구 규정이 파일에 부여된 quarantine 속성에서 시행되는 정책입니다. 그것의 완전히 해결된 이름은 com.apple.security.quarantine입니다. 위에서 보았듯이 사용자 모드에서는 _qtn_syscall*를 통해 통신됩니다.\n\n그러나 이것이 유일한 방법은 아닙니다. 다른 시스템 작업 중에 quarantine 정책을 시행하는 커널 트랩(훅)도 있습니다.\n\n커널 사이트에서 구현된 모든 훅 목록을 얻기 위해 이전 글에서 설명한 대로 커널 익스텐션 이진 추출을 할 수 있습니다:\n\n그러나 Twitter에서 Csaba Fitzl이 가리키는 또 다른 방법이 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![랜덤 텍스트](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_45.png)\n\n이 솔루션의 장점은 한 커널 익스텐션에서 운영할 수 있는 속도와 간결함입니다. 그러나 한 커널 익스텐션이 다른 익스텐션의 기능에 의존하는 경우 메모리 갭을 채울 수있는 ida64 kernelcache.decompressed를 사용하여 모든 kext를 한번에 로드하는 것이 좋습니다.\n\n![랜덤 텍스트](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_46.png)\n\n커널 디버그 키트에 대해 궁금하다면 여기에 소개했습니다:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n설치 후에는 다음 경로에서 kext를 찾을 수 있습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_47.png)\n\n```js\n/Library/Developer/KDKs/*/System/Library/Extensions/\n```\n\nIda에서 Quarantine.kext를 디컴파일하고 후크 심볼을 검색해 보겠습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_48.png\" /\u003e\n\n```js\n# /Library/Developer/KDKs/KDK_14.5_23F79.kdk/System/Library/Extensions/Quarantine.kext/Contents/MacOS/Quarantine\n_hook_cred_check_label_update_execve\n_hook_cred_check_label_update\n_hook_cred_label_associate\n_hook_cred_label_destroy\n_hook_cred_label_update_execve\n_hook_cred_label_update\n_hook_vnode_notify_truncate\n_hook_vnode_notify_swap\n_hook_mount_label_associate\n_hook_mount_label_destroy\n_hook_mount_label_internalize\n_hook_policy_init\n_hook_policy_syscall\n_hook_proc_notify_exec_complete\n_hook_vnode_check_deleteextarr\n_hook_vnode_check_exec\n_hook_vnode_check_setextattr\n_hook_vnode_notify_create\n_hook_vnode_notify_rename\n_hook_vnode_notify_open\n_hook_vnode_notify_link\n```\n\n## 추적 후크\n\n아쉽게도 Apple Silicon에서는 lldb를 사용한 액티브 커널 디버깅 가이드를 제공할 수 없습니다. 그러나 dtrace를 사용하여 프로세스 실행 뒤의 후크 호출을 추적하는 방법을 찾았습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n#!/usr/sbin/dtrace -s\n#pragma D option flowindent\n\n// execve 또는 __mac_execve 시스템 호출이 입력될 때 추적 활성화\nsyscall::execve:entry { self-\u003etracing = 1; }\nsyscall::__mac_execve:entry { self-\u003etracing = 1; }\n// execve 또는 __mac_execve 시스템 호출이 반환될 때 추적 비활성화 및 종료\nsyscall::execve:return { self-\u003etracing = 0; exit(0); }\nsyscall::__mac_execve:return { self-\u003etracing = 0; exit(0); }\n// 추적이 활성화된 경우 시스콜 인수 출력\nfbt::: /self-\u003etracing/ {\n    // 시스콜의 첫 번째 세 인수를 16진수 형식으로 출력\n    printf(\"%x, %x, %x\", arg0, arg1, arg2);\n}\n```\n\n커널 공간에서 호출 스택 로그를 만들려면 SIP를 비활성화하고 root로 스크립트를 터미널에서 실행한 후 앱을 시작해야 합니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_49.png\" /\u003e\n\n출력을 확인해보면 hook_vnode_check_exec이 두 번 호출된 것을 볼 수 있습니다 (4번 발생하는 이유는 입력과 반환을 모두 나타내기 때문입니다).\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image 1](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_50.png)\n\nThe first occurrence is because of the Sandbox kext, which is a different implementation with the same name. We can see the difference in Ida:\n\n![Image 2](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_51.png)\n\nThe second occurrence comes from Quarantine kext. It is called just after finishing the one from Sandbox kext. We can use this output to understand better how each function is called in order.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_52.png)\n\n아래 이미지는 앱을 열 때 지금까지 이러한 구성 요소가 상호 작용하는 고수준 개요를 보여줍니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_53.png)\n\n## hook_vnode_check_exec\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n디컴파일된 코드를 기반으로하면 해당 함수는 여덟 개의 인수를 가져야하지만, 일반적으로 처음 세 개만 사용됩니다. 나머지는 /bin/sh test.sh와 같은 인터프리터를 사용하여 스크립트를 실행할 때 예약됩니다 (이후 설명 예정).\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_54.png)\n\n이전 DTrace 출력을 기반으로하면, hook_vnode_check_exec가 mac_vnode_check_exec 이후에 호출되며, 세 번째 인수가 0으로 설정되었습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_55.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n답을 찾으려면 a1과 a2 인수가 무엇인지 확인해야 합니다. 이를 위해 부모 함수 mac_vnode_check_exec를 확인할 수 있습니다. 우리는 보안 정책을 통해 확인한 do 반복문을 찾습니다(20번째 줄) 해당 후크 함수들을 호출합니다.\n\n여기서 첫 번째 인자인 v37은 우리의 a1이기 때문에, 이는 vfs_context_t입니다. 그리고 a2는 실행 중인 파일의 vnode인 vp입니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_56.png)\n\n여기서는 또한 a3~a8 인수에 대한 image_params에 대한 참조를 찾을 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## sandbox_enforce\n\nsandbox_enforce은 격리가 강제로 적용되어야 하는지 여부를 결정합니다. 이 값이 1로 하드코딩되어 있는 것을 알 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_57.png\" /\u003e\n\n만약 이 값을 0으로 설정하면, 함수가 즉시 반환되어 추가적인 격리 확인을 실행하지 않으며, 이는 격리가 강제되지 않는다는 것을 의미합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_58.png)\n\n이것은 하드코딩되어 있지만 sysctl을 사용하여 변경할 수 있습니다. 이 값을 Management Information Base (MIB)에서 찾을 수 있습니다:\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_59.png)\n\n## apply_exec_quarantine의 이중 호출 미스터리\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\napply_exec_quarantine 함수는 격리 관련 정책을 적용하고 그에 따라 파일이 실행 허용되어야 하는지 여부를 결정합니다.\n\n![사진](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_60.png)\n\n이 함수는 일반적인 상황에서는 한 번만 호출됩니다. 그러나 만약 첫 번째 결과가 0이 아니라면(격리가 강제 적용됨을 의미) 두 번 호출될 수 있으며, 또한 a3(ip_scriptvp)가 사용되었다면, 즉 인터프리터에서 실행된 스크립트(ip_vp로 설명됨)와 관련이 있다면 두 번 호출될 수 있습니다.\n\n저는 간단한 bash 스크립트를 실행하여 whoami 명령을 실행하고 이전 DTrace 스크립트를 사용하여 추적한 실험을 진행했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래에서 볼 수 있듯이 apply_exec_quarantine이 두 번째 호출되었고, 이번에는 ip_scriptvp에 대한 참조가 포함되어 있습니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_62.png)\n\nip_scriptvp 필드는 스크립트 vnode를 가리키며, 시스템이 인터프리터와 별도로 스크립트 파일을 관리하고 참조할 수 있게 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n예리한 눈은 apply_exec_quarantine이 세 번째 호출되었음을 발견했습니다. 아마도 이는 스크립트에서 whoami 명령어를 확인하는 마지막 단계일 것입니다.\n\n```js\n# apply_exec_quarantine 체크 순서 (아마도):\n/bin/sh\nhello_script.sh\nwhoami\r\n```\n## quarantine_get_flags\n\napply_exec_quarantine의 맨 처음인 quarantine_get_flags에서는 quarantine 플래그를 가져옵니다. (a2는 우리가 실행하는 파일의 vnode을 가리키는 포인터입니다.)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n플래그를 추출한 후, 함수에서는 flag_retrival_status_code가 0이 아닌지 확인하는 오류 처리 로직이 16-23 라인에 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_63.png)\n\nquarantine_get_flags 함수는 quarantine_getinfo를 호출하여 세미콜론으로 구분된 속성 데이터를 얻은 다음 quarantine_info_parse를 사용하여 이 데이터를 파싱하여 관련 플래그를 추출합니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_64.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n`quarantine_getinfo`은 대부분의 경우 `mac_vnop_getxattr`를 사용하여 확장 속성에서 vnode과 관련된 격리 메타데이터를 읽습니다:\n\n또한 볼륨에 플래그 0x400이 설정되어 있지 않은지 확인할 수 있습니다. 그것은 전체 파일 시스템이 격리된 MNT_QUARANTINE으로 마운트되었음을 의미할 것입니다.\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_65.png)\n\n`vfs_flags` (34번째 라인)은 `mount_t` 구조체에서 플래그를 검색하고, 비트마스크를 사용하여 특정 비트를 지웁니다 (`| MNT_VISFLAGMASK \u0026 MNT_CMDFLAGS`):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_66.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_67.png\" /\u003e\n\n만약 위 작업으로 0x400 플래그를 반환하지 않으면(즉, 격리된 마운트된 볼륨에 있는 파일에 대해 작업하지 않음을 의미합니다) 파일 vnode에서 com.apple.quarantine 확장 속성과 관련된 데이터를 검색합니다.\n\n## getxattr\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n`mac_vnop_getxattr` 함수는 현재 VFS 컨텍스트를 검색하고 UIO 구조체를 설정한 다음 `vn_getxattr` 함수를 호출합니다.\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_68.png)\n\n`vn_getxattr` 함수는 확장 속성이 vnode에서 지원되는지 확인하고(named stream은 getxattr을 지원하지 않음), MAC를 확인한 다음 속성 이름을 유효성 검사하고 읽기 확장 속성을 위해 vnode를 인가한 후 최종적으로 속성 데이터를 검색하는 `VNOP_GETXATTR`를 호출합니다.\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_69.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nVNOP_GETXATTR은 인수 구조체 a를 설정합니다. 5972번 라인에서는 vnop_getxattr_desc.vdesc_offset에 제공된 오프셋을 사용하여 vnode의 작업 벡터 v_op 내의 함수를 호출하고, 이때 인수로 구조체 a를 사용합니다:\n\n![image1](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_70.png)\n\n![image2](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_71.png)\n\n여기에는 이 작업이 어떻게 작동할 수 있는지에 대한 간소화된 예제의 유사 코드도 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_72.png\" /\u003e\n\n## 격리된 볼륨의 플래그 기본 값\n\n위에서 언급한 것처럼 대부분의 경우 getxattr이 사용됩니다(파일 시스템에 0x400 플래그가 mount_info에 설정되어 있지 않은 경우):\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_73.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n제 경우에 해당하는 파일이 58번 라인의 격리된 볼륨에 있는 경우, vfs_mntlabel을 사용하여 파일 시스템에 마운트 레이블이 있는지 확인합니다.\n\n- 마운트 레이블이 있는 경우, 해당 마운트 레이블에서 격리 플래그를 복사합니다.\n- 마운트 레이블이 없는 경우, 기본 격리 정보를 사용합니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_74.png)\n\n격리된 볼륨의 플래그에 대한 기본 값은 0x0001입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image 1](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_75.png)\n\n```js\n0001;00000000;;\n```\n\nIt allows the execution, but only from the terminal with SIP disabled:\n\n![Image 2](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_76.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_77.png)\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_78.png)\n\n우리는 quarantine_get_flags 헤딩으로 돌아가 quarantine_info_parse에서 세미콜론으로 구분된 확장 어트리뷰트에서 플래그를 추출합니다:\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_79.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 격리 플래그 논리\n\n저희는 qtn_flags를 검색한 후 apply_exec_quarantine으로 돌아가서 먼저 구문 분석 중에 오류가 없는지 확인합니다:\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_80.png)\n\n플래그 추출 중에 오류가 발생한 경우 실행이 금지됩니다 (예외 코드 0x5D는 어떻게 설정되었는지 왜 설정되었는지 모르겠습니다):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_81.png\" /\u003e\n\n하지만 터미널에서만 가능이에요!! 파일을 더블 클릭하거나 open을 사용해서 Finder에서 실행하면 실행이 안돼요 (SIP enabled):\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_82.png\" /\u003e\n\n연구에서 저와 가장 친한 친구인 ChatGPT와 함께 apply_exec_quarantine의 의사 코드를 조금 더 보기 쉽게 만들었어요. 저장소에서 찾아볼 수 있어요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_83.png)\n\n게이트키퍼가 격리 플래그에 따라 작동하는 흐름을 보여드립니다:\n\n- 비트 1 (0x0002) 및 비트 2 (0x0004)가 설정되지 않은 경우 → 격리가 적용되지 않습니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_84.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_85.png)\n\n- If Bit 2 (0x0004) is set, quarantine is enforced immediately.\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_86.png)\n\n![Image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_87.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n계속하기 전, require_user_approved_exec는 기본적으로 1로 설정되어 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_88.png)\n\nsandbox_enforce와 같이 sysctl을 사용하여 MIB에서 이를 확인할 수 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_89.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 만우절(0x0040)이 설정되어 있으면 → 격리가 강제되지 않습니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_90.png)\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_91.png)\n\n라인 80의 컨텍스트는 vfs_context_t입니다. 처음에 a1로 hook_vnode_check_exec에 전달되었습니다. vfs_context에 대해 더 많이 알려면 OS Internals II(230쪽)를 참조하십시오. 다른 기사에서 자세히 다루겠습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음 체크는 아마도 App Translocation과 관련이 있을 것으로 예상됩니다. 왜냐하면 해당 볼륨은 읽기 전용으로 마운트되어 있습니다. 만약 mount_flags 비트 0이 설정되어 있다면, 우리는 읽기 전용 볼륨을 다룹니다.\n\n- 읽기 전용 볼륨에서 파일이 실행된 경우 → 검역(Quarantine)이 꺼져 있습니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_92.png)\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_93.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- 만약 MAC 레이블이 설정되지 않은 경우 → 격리 모드가 꺼져 있습니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_94.png)\n\nMAC 레이블은 MACF 정책에서 사용되는 구조체로, 프로세스의 권한을 정의하는 곳입니다. MACF 기반 메커니즘(예: amfi)을 위한 프로세스의 권한을 정의하며, ucred 자격 증명 구조체의 오프셋 0x78에서 찾을 수 있습니다.\n\n- 레이블 검색(mac_label_get)이 실패한 경우 → 격리 모드가 강제됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_95.png)\n\n여기서 우리가 검색한 정책 번호를 가져 오지 못했습니다. label_slot은 동적으로 설정됩니다 (Ida에서는 0으로 설정됨), 이것이 Syspolicy인지 아무도 모릅니다.\n\n잔여 로직은 label_flags (offset 56의 라벨 데이터의 값)의 1 비트 (0x02)가 설정되었는지 확인합니다 → 격리가 강제됩니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_96.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그렇지 않다면, label_flags의 비트 1이 꺼져 있다면 → 격리가 강제되지 않습니다.\n\n# 시스템 정책\n\n이전에 설명한 논리에 대한 레이블을 설정할 수 있다고 생각했지만 실험 중에 백리스트 파일들을 거부하는 spctl 함수가 없다는 것을 알게 되었습니다.\n\n이 논리와 충돌이 발생할 수 있으므로, 레이블이 존재하는지 여부를 확인하여 격리를 강제하는 논리를 검사하고, 레이블이 없으면 파일을 실행할 수 있도록 허용합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 가정을 확인하기 위해 그러한 시나리오를 시뮬레이션해 보았습니다. 아래는 Hi.app 레이블을 설정하여 syspolicyd에서 활성화하는 내 시도를 보여주는 화면입니다.\n\n격리 속성에는 2번째와 6번째 비트가 끄여져 있습니다 (0b10000010) 그리고 앱은 읽기 전용 볼륨에서 실행되므로 이를 이동시키고 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_97.png)\n\n이것은 Syspolicyd에서 앱이 화이트리스트에 올라가 있더라도 위의 apply_exec_quarantine 논리 때문에 실행되지 않음을 증명합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아마 LaunchServices 목적을 위해 spctl 화이트리스트 앱을 사용하는 것 때문이지 않을까 싶어요. 나중에 활성화된 quarantine 로직 검사를 일으키는 것입니다.\n\n## 시스템 정책 데이터베이스\n\n게이트키퍼 설정은 시스템 정책 데이터베이스에 저장되어 있어요. 이 데이터베이스는 syspolicyd가 시행하는 정책을 담당하는 루트 소유의 데이터베이스입니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_98.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n```js\n/private/var/db/SystemPolicy\n```\n\n데이터베이스 안에는 Gatekeeper (GKE) 규칙이 많이 들어 있을 수 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_99.png)\n\n```js\nsudo sqlite3 /private/var/db/SystemPolicy \"SELECT requirement,allow,disabled,label from authority where label = 'GKE';\"\n```    \n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 Code Directory 해시 (cdhash)는 다음에서 가져옵니다:\n\n```js\n/var/db/SystemPolicyConfiguration/gke.bundle/Contents/Resources/gke.auth\n/var/db/gke.bundle/Contents/Resources/gk.db\n/var/db/gkopaque.bundle/Contents/Resources/gkopaque.db\n```\n\n사용자 정의 규칙을 데이터베이스에 추가하려면 spctl 대신 시스템 정책 규칙 형식을 사용할 수 있습니다. Tom Bridge의 '구성 프로필을 사용한 시스템 정책 데이터베이스 조작'에서 자세히 설명되어 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_100.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_101.png\" /\u003e\n\n커스텀 프로필을 추가한 후에 아래 쿼리를 실행하여 해당 프로필을 볼 수 있습니다:\n\n```js\n// 정책 데이터베이스에서 권한 보기\nsudo sqlite3 /private/var/db/SystemPolicy \"SELECT requirement, allow, disabled, label FROM authority WHERE label != 'GKE' AND disabled=0;\"\n```\n\n문제가 발생했을 때는 --reset-default 옵션을 사용하여 이 데이터베이스를 기본값으로 재설정할 수 있습니다 (man spctl에 나와 있음):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래는 가져올 수 있는 테이블 태그의 명단입니다:\n\n```css\n.*\u003ctable\u003e.*\n```\n\n언제든지 도움이 필요하시면 알려주세요!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo cp /var/db/.SystemPolicy-default /var/db/SystemPolicy\n```\n\n## 시스템 정책 데몬\n\n저는 이 데몬에 대해 자세히 다루지는 않겠어요. 20분 전에 글이 이미 너무 길어져버렸거든요 :D 그래도, man syspolicyd와 해당 위치에 대한 간단한 소개는 여기 있어요:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_104.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\r\n/usr/libexec/syspolicyd\r\n```\n\n## 시스템 정책 관리자 (spctl)\n\n게이트키퍼와 상호작용하는 명령어 목록입니다:\n\n```js\r\n# GateKeeper 상태 확인\nspctl --status\n\n# GateKeeper 규칙 확인\nsudo spctl --list\n\n# GateKeeper 비활성화\nspctl --global-disable\nspctl --master-disable\n\n# GateKeeper 활성화\nspctl --global-enable\nspctl --master-enable\n\n# 앱 격리\nxattr -w com.apple.quarantine \"0001;$(printf %x $(date +%s));crimson;$(/usr/bin/uuidgen)\" app_name\n\n# 앱 검역 해제\ncodesign --sign - --force --deep app_name\nxattr -d com.apple.quarantine app_name\n\n# 앱 허용\nspctl --add --label \"gke_whitelist\" app_name\nspctl --enable --label \"gke_whitelist\"\nspctl --disable --label \"gke_whitelist\"\nspctl --remove --label \"gke_whitelist\"\n\n# 규칙 초기화\nsudo spctl --reset-default\r\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_105.png)\n\n# XProtect\n\n앱을 실행할 때 알려진 악성 코드 데이터베이스와 대조하여 일치하는 것이 실행되지 않도록하기 위해 격리가 설정되어 있는지 여부에 관계없이 확인합니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_106.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래는 Markdown 형식의 표입니다: \n\n그것은 모든 XProtect 데이터베이스 업데이트에서도 실행되며 아래 명령을 사용하여 수동으로 실행할 수 있습니다. 그러나 sudo 없이는 현재 사용자의 컨텍스트에서 스캔이 실행되므로 모든 위치를 스캔하지 않을 수 있습니다:\n\n```js\n/Library/Apple/System/Library/CoreServices/XProtect.app/Contents/MacOS/XProtect\n```\n\n디렉토리 안에는 Yara 규칙 외에 XProtect에서 사용하는 스캐너인 모든 remediators 바이너리 파일을 찾을 수 있습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_108.png\" /\u003e\n\n```js\n/Library/Apple/System/Library/CoreServices/XProtect.app/Contents/MacOS/\n```\n\nXProtect가 사용하는 Yara 규칙 및 기타 파일은 다음 디렉토리에서 찾을 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_109.png\" /\u003e\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n/Library/Apple/System/Library/CoreServices/XProtect.bundle/Contents/Resources/\n```\n\nApple은 XProtect 및 해당 데이터베이스를 업데이트하며, 각 업데이트 시 스캔이 수행됩니다. 최근 업데이트를 확인할 수 있습니다:\n\n```js\nsystem_profiler SPInstallHistoryDataType 2\u003e/dev/null | grep -A 4 \"XProtectPlistConfigData\" | tail -n 5\n```\n\n## gk.db\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n데이터베이스에는 실행 파일의 해시 및 블랙리스트 팀 ID가 저장되어 있습니다. Gatekeeper에 대해 이야기할 때 다른 곳에서 동일한 이름을 본 적이 있습니다. 그러나 이 두 데이터베이스는 다릅니다:\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_110.png)\n\n이 데이터베이스는 XProtect에서 사용되지 않으며, 이름이 시사하는 대로 Gatekeeper에서 사용되는 것이 아니라, 사실은 syspolicyd에서 사용됩니다.\n\n![image](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_111.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## XProtect.meta.plist\n\n이 파일은 Safari 확장 프로그램 및 오래된 애플리케이션 플러그인의 블랙리스트입니다:\n\n![SnakeAppleVIIAntivirus_112](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_112.png)\n\n검출은 CFBundleIdentifier 및 개발자 ID를 기반으로 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n`\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_113.png\" /\u003e`\n\nCode Signature IDs에 대한 블랙리스트도 있습니다:\n\n`\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_114.png\" /\u003e`\n\nJava 구성 요소의 최소 버전이 지정되었습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_115.png)\n\n또한, 각 플러그인의 최소 버전:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_116.png)\n\n## LegacyEntitlementAllowlist.plist\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이것은 레거시 엔터티틀먼트를 사용할 수 있는 이진 파일들의 cdhashes가 base64로 인코딩된 매우 긴 목록입니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_117.png)\n\n## XProtect.yara\n\nAdload, Dok, HiddentLotus 등의 유명한 악성 코드와 연관된 Yara 규칙을 포함하고 있습니다. 이 규칙들은 MACOS_644e18d와 같이 숨겨진 형식으로 명명됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![SnakeAppleVIIAntivirus](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_118.png)\n\n## XProtect.plist\n\nXProtect.plist은 파일을 차단하는 강력한 규칙 목록이며, URI, 파일 유형, 크기, 이름 및 서명을 기반으로합니다. 아래는 그런 규칙 중 하나인 OSX.28a9883(가령 숨겨진 악성 코드 이름)의 예시입니다:\n\n```js\n\u003cdict\u003e\n\t\u003ckey\u003eDescription\u003c/key\u003e\n\t\u003cstring\u003eOSX.28a9883\u003c/string\u003e\n\t\u003ckey\u003eLaunchServices\u003c/key\u003e\n\t\u003cdict\u003e\n\t\t\u003ckey\u003eLSItemContentType\u003c/key\u003e\n\t\t\u003cstring\u003ecom.apple.application-bundle\u003c/string\u003e\n\t\u003c/dict\u003e\n\t\u003ckey\u003eMatches\u003c/key\u003e\n\t\u003carray\u003e\n\t\t\u003cdict\u003e\n\t\t\t\u003ckey\u003eMatchFile\u003c/key\u003e\n\t\t\t\u003cdict\u003e\n\t\t\t\t\u003ckey\u003eNSURLTypeIdentifierKey\u003c/key\u003e\n\t\t\t\t\u003cstring\u003epublic.unix-executable\u003c/string\u003e\n\t\t\t\u003c/dict\u003e\n\t\t\t\u003ckey\u003eMatchType\u003c/key\u003e\n\t\t\t\u003cstring\u003eMatch\u003c/string\u003e\n\t\t\t\u003ckey\u003ePattern\u003c/key\u003e\n\t\t\t\u003cstring\u003e3A6C6162656C3A706C697374506174683A\u003c/string\u003e\n\t\t\u003c/dict\u003e\n\t\t\u003cdict\u003e\n\t\t\t\u003ckey\u003eMatchFile\u003c/key\u003e\n\t\t\t\u003cdict\u003e\n\t\t\t\t\u003ckey\u003eNSURLTypeIdentifierKey\u003c/key\u003e\n\t\t\t\t\u003cstring\u003epublic.unix-executable\u003c/string\u003e\n\t\t\t\u003c/dict\u003e\n\t\t\t\u003ckey\u003eMatchType\u003c/key\u003e\n\t\t\t\u003cstring\u003eMatch\u003c/string\u003e\n\t\t\t\u003ckey\u003ePattern\u003c/key\u003e\n\t\t\t\u003cstring\u003e3A62696E3A706C6973743A\u003c/string\u003e\n\t\t\u003c/dict\u003e\n\t\t\u003cdict\u003e\n\t\t\t\u003ckey\u003eMatchFile\u003c/key\u003e\n\t\t\t\u003cdict\u003e\n\t\t\t\t\u003ckey\u003eNSURLTypeIdentifierKey\u003c/key\u003e\n\t\t\t\t\u003cstring\u003epublic.unix-executable\u003c/string\u003e\n\t\t\t\u003c/dict\u003e\n\t\t\t\u003ckey\u003eMatchType\u003c/key\u003e\n\t\t\t\u003cstring\u003eMatch\u003c/string\u003e\n\t\t\t\u003ckey\u003ePattern\u003c/key\u003e\n\t\t\t\u003cstring\u003e214023247E5E262A28295B5D7B7D3A3B3C3E2C2E31713277336534723574367937753869396F3070415A5358444346564742484E4A4D4B4C5157455254595549\u003c/string\u003e\n\t\t\u003c/dict\u003e\n\t\u003c/array\u003e\n\u003c/dict\u003e\n\u003cdict\u003e\n```\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- LauchServices — 시그니처를 트리거하는 URI 유형을 정의합니다.\n- LSItemContentType — LauchServices를 위한 콘텐츠 유형 값입니다.\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_119.png\" /\u003e\n\n```js\nxmllint --format XProtect.plist | grep -A 1 '\u003ckey\u003eLSItemContentType\u003c/key\u003e' | grep '\u003cstring\u003e' | sed -E 's/.*\u003cstring\u003e(.*)\u003c\\/string\u003e.*/\\1/' | sort -u\n```\n\n- Matches — 탐지 시그니처 패턴을 포함하는 사전 배열입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_120.png\" /\u003e\n\n- MatchFile — 파일 타입(NSURLTypeIdentifierKey), 크기(NSURLFileSizeKey), 이름(NSURLNameKey), 파일 다운로드 중인 파일의 콘텐츠 유형(LSDownloadContentTypeKey) 및 확인되는 시그니처 패턴에 대한 정보입니다.\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_121.png\" /\u003e\n\n```js\nxmllint --xpath '//key[text()=\"MatchFile\"]/following-sibling::dict/key/text()' XProtect.plist | sort -u\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 로깅\n\n언제나처럼, 우리는 로그 스트림을 사용하여 XProtect라는 이름을 가진 모든 레코드를 필터링할 수 있습니다. Console.app을 사용하거나 아래 명령어를 사용하여 백트레이스를 볼 수도 있습니다:\n\n```js\nlog show -info -backtrace -debug -loss -signpost -predicate 'subsystem == \"com.apple.xprotect\"'\n```\n\nConsole에서 앱의 시작 시 검역 및 xprotect 문자열을 검색할 때 XProtectService가 Yara 규칙을 사용하고 malwareCheckEnded를 통해 CoreServicesUIAgent에서 초기화된 악성 코드를 스캔하는 것을 확인할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nXprotect 유효성 검사가 설정된 방지 속성이 없는 파일들에 대해서도 작동하는 가정을 확인할 수도 있습니다. 아래 실험에서는 앱을 다운로드하고 전체 번들에서 속성을 삭제했습니다 (어떤 이유로 xattr의 재귀 옵션이 동작하지 않았습니다 -r):\n\n```js\nfor f in $(fd . Hello.app); do xattr -d 'com.apple.quarantine' $f ; done\n```\n\n터미널을 통해 다운로드한 파일에 방역 속성이 추가되지 않기 때문에 curl 또는 wget을 사용하여 앱을 다운로드할 수도 있습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_122.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nwget -nH -np -R \"index.html*\" -r \"http://de.afine.com:1234/Hello.app/\" \u003e/dev/null 2\u003e\u0026lt;1\n```\n\n그러나 다운로드 후에 앱의 권한이 변경되어 실행할 수 없습니다. 이를 방지하기 위해 zipped 앱을 다운로드할 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_123.png\" /\u003e\n\n위의 경우 XProtect가 작동하지 않는 것으로 보입니다. 파일이 실행되지 않습니다. 권한을 원래대로 변경해야 합니다 (실행 권한으로 변경):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nchmod 755 Hello.app/Contents/Info.plist Hello.app/Contents/MacOS/HelloApp Hello.app/Contents/PkgInfo Hello.app/Contents/_CodeSignature/CodeResources\n```\n\n## CoreSerivcesUIAgent\n\n이것은 CoreService Framework의 일부이며 백그라운드에서 작동하며 사용자 인터페이스 요소를 처리합니다. 예를 들어 보안 대화 상자:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_124.png\" /\u003e\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n앱에서 quarantine 속성이 없는 경우, Console 로그에서 CoreServicesUIAgent의 호출을 볼 수 없습니다. 왜냐하면 UI가 관련되지 않았기 때문입니다. quarantine 속성이 설정된 경우, 최종 흐름은 다음과 같습니다:\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_125.png)\n\n## Eicar 테스트\n\nXProtect가 가짜 악성 코드에서 작동하는지 확인하기 위해 /tmp 디렉토리에 eicar 파일을 준비하고 XProtect를 실행하여 스캔을 수행할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n# 샘플 준비\necho -n 'X5O!P%@AP[4\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*' \u003e/tmp/eicar\n# 다른 터미널에서 로그 기록 시작하기:\nsudo eslogger xp_malware_remediated | jq .\n# 스캔 시작\n/Library/Apple/System/Library/CoreServices/XProtect.app/Contents/MacOS/XProtect\n```\n\n/tmp에서 eicar가 성공적으로 제거되었음을 확인할 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_126.png\" /\u003e\n\n## 악성 코드 생성자 테스트\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n앱에서는 $HOME/Library/Containers/macmini.eicar-app/Data/Documents/eicar.com에 eicar 파일을 생성합니다.\n\n```js\nimport SwiftUI\n\n구조 ContentView: View {\n    var body: some View {\n        VStack {\n            Image(systemName: \"globe\")\n                .imageScale(.large)\n                .foregroundStyle(.tint)\n            Text(\"Hello, World!\")\n        }\n        .padding()\n        .onAppear {\n            createEicarFile()\n        }\n    }\n    \n    func createEicarFile() {\n        let eicarString = \"X5O!P%@AP[4\\\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*\"\n        let fileName = \"eicar.com\"\n        \n        // 문서 디렉토리의 URL 가져오기\n        if let documentDirectory = FileManager.default.urls(for: .documentDirectory, in: .userDomainMask).first {\n            let fileURL = documentDirectory.appendingPathComponent(fileName)\n            \n            do {\n                // EICAR 문자열을 파일에 쓰기\n                try eicarString.write(to: fileURL, atomically: true, encoding: .utf8)\n                print(\"EICAR 테스트 파일이 \\(fileURL.path)에 생성되었습니다.\")\n            } catch {\n                print(\"EICAR 테스트 파일 생성 실패: \\(error)\")\n            }\n        }\n    }\n}\nstruct ContentView_Previews: PreviewProvider {\n    static var previews: some View {\n        ContentView()\n    }\n}\n```\n\n- 파일 시스템에서 실행할 때 XProtect는 함수 내부의 eicar 문자열에도 불구하고 아무 것도 표시하지 않습니다.\n- 생성된 eicar.com 파일은 XProtect 스캔에 감지되지 않을 것입니다.\n- tmp 디렉토리가 아닌 eicar.com을 생성해도 XProtect 스캔에서 감지되지 않습니다.\n\n이는 XProtect 스캔에서 사용되는 XProtectRemediatorEicar이 특정 경로와 이름만 확인하기 때문입니다. 일반적인 악성 코드로는 시도하지 않겠지만, 나머지 리미디에이터에 대해서도 비슷하거나 동일할 것이다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# GKE 바이패스\n\n게이트키퍼(Gatekeeper)는 기본 보안 설정에서 앱 스토어 외부에서 macOS로 전송된 모든 파일의 실행을 금지해야 합니다.\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_127.png)\n\n맥OS로 전송된 앱 스토어 외부에서 유효하게 노터라이즈(notarized)된 앱에도 동일하게 적용됩니다. 그렇지 않으면 게이트키퍼 바이패스로 간주됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n게이트키퍼 우회 방지에 대한 간단한 설명을 제공하려고 했지만, 그 대신 이를 대신할 훌륭한 기사를 발견했습니다. 아래 화면은 해당 기사에서 빌려왔습니다:\n\n![SnakeAppleVIIAntivirus_128.png](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_128.png)\n\n# 마지막으로\n\n이 기사의 결과로 'CrimsonUroboros'의 특성을 조작하고 쿼리하는 몇 가지 기능만 작성했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_129.png\" /\u003e\n\n그런데, 저는 \"Antivirus Trinity\"에서 문제점을 발견했고, 이를 Apple에 보고했습니다. 이 중 하나는 흥미로운데, 나중에 설명할 기회를 얻으면 좋겠네요.\n\n이 주제를 아직 다 다룬 것은 아닙니다. 이것은 단지 Apple 악성 코드 방지 시스템에 대한 소개에 불과합니다. 시작점으로 활용하시기 바랍니다.\n\n## 참고문헌\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n여기서 논의된 주제에 대한 링크 목록이 있습니다. 내 의견으로는 첫 번째 세 가지가 특별한 주목을 받을 가치가 있다고 생각합니다:\n\n- Jonathan Bar Or의 \"macOS 게이트키퍼의 약점\"\n- Csaba Fitzl의 \"게이트키퍼 - 우회 또는 우회 안 함\"\n- Patrick Wardle의 \"게이트키퍼 노출\"\n- Patrick Wardle의 \"기쁨의 번들\"\n- Jonathan Levin의 \"Launchd - 당신의 서비스에\"\n- macOS 보안의 발전 - WWDC19\n- \"번역 요망!? (CVE-2021–30853)\" - Objective-See의 블로그\n- Howard Oakley의 \"macOS는 기회가 있을 때마다 악성 소프트웨어를 스캔합니다\"\n- Stuart Ashenbrenner의 \"dmXProtect: 열기 전에 악성 소프트웨어를 중단하고 매장을 오픈하지 않습니다\"\n\n![이미지](/assets/img/2024-06-30-SnakeAppleVIIAntivirus_130.png)\n\n## 다음은 무엇인가요?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다가오는 기사에서는 최근 여러 번 나온 보안 확장 프로그램인 Sandbox를 탐구할 것입니다.\n\n만약 이 기사를 즐겼다면, 공유해 주시기 바랍니다. 제안 사항이 있거나 버그를 발견했다면 댓글로 알려주세요.","ogImage":{"url":"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_0.png"},"coverImage":"/assets/img/2024-06-30-SnakeAppleVIIAntivirus_0.png","tag":["Tech"],"readingTime":41},{"title":"EC2에 Ubuntu로 Apache 2 웹 서버 설치하는 방법","description":"","date":"2024-06-30 23:07","slug":"2024-06-30-InstallingApache2WebServerwithUbuntuonEC2","content":"\n\n# 시나리오:\n\nLevel Up Bank의 클라우드 엔지니어로서, 저희 팀은 Amazon Linux 2를 사용하여 새 웹 서버를 생성하는 작업을 맡게 되었습니다. Amazon Linux 2는 웹 서버로 널리 사용되는 오픈 소스 Linux 배포판입니다. 이 웹 서버는 Level Up Bank의 웹 사이트를 호스팅하며, 서비스에 대한 정보를 제공하고 고객이 온라인으로 계좌에 액세스할 수 있도록 합니다.\n\n# 장애/목표:\n\n현재 우리의 AWS EC2 인스턴스에는 웹 서버가 실행되고 있지 않습니다. 우리 팀은 해당 웹 서버를 설치해야 하며, 올바른 보안 권한을 확인하고 웹 서버에 읽기/쓰기할 수 있는 능력을 검증하며, 공개적으로 읽을 수 있는지 확인하고, 웹 서버가 회사가 원하는대로 작동하는지 문제 해결해야 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 작업:\n\n## 1. 우분투에서 모든 패키지 업데이트하기\n\n새로 시작하는 우분투 가상 머신에서는 모든 것이 최신 상태인지 확인하고 싶습니다. 우분투 AMI(Amazon 이미지)에 SSH를 사용하여 원격으로 연결한 후, 명령줄에서 'sudo apt update'를 사용하여 머신을 업데이트할 수 있습니다.\n\n```js\nsudo apt update\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_0.png\" /\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_1.png\" /\u003e\n\n## 2. Apache HTTP 웹 서버 설치\n\n이제 Apache를 설치해야 합니다. 이를 위해 다음 명령을 실행하겠습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo apt install apache2\n```\n\n![Installing Apache2 Web Server](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_2.png)\n\n![Installing Apache2 Web Server](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_3.png)\n\n## 3. Enable Apache Web Server\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nApache 웹 서버를 설치했습니다. 이제 이를 활성화하고 실행 중인지 확인해야 합니다. 아래 명령어를 실행하여 확인할 수 있어요:\n\n```js\nsudo systemctl enable apache2\n#그리고\nsudo systemctl status apache2\n#실행 중인지 확인하기 위해\n```\n\n![이미지1](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_4.png)\n\n![이미지2](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_5.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_6.png](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_6.png)\n\n\n\n![2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_7.png](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_7.png)\n\n\n## 4. 웹 서버의 IP 주소 확인 및 공개 읽기 가능 여부 확인\n\n이제 웹 브라우저를 통해 웹 서버에 액세스할 수 있는지 확인해보겠습니다. 웹 서버의 IP를 가져와서 웹 브라우저에서 연결을 시도해 봅시다. 이를 위해서 다음 명령을 실행하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\ncurl -4 icanhazip.com\n```\n\n![Image 1](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_8.png)\n\n![Image 2](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_9.png)\n\n![Image 3](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_10.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Apache Web Server](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_11.png)\n\n성공입니다. 이제 웹에서 우리의 웹 서버가 공개적으로 볼 수 있습니다.\n\n## 5. AWS 보안 그룹에서 HTTP 포트 연결 (포트 80) 확인\n\nUbuntu 머신을 EC2 인스턴스에 설정할 때 이미 보안 그룹을 통해 HTTP 연결을 활성화했습니다. 연결할 때 오류가 발생하는 경우 HTTP 액세스가 활성화되지 않았을 수 있습니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![이미지](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_12.png)\n\n## 6. Apache2 웹 서버의 index.html 파일 편집, 사용자 정의 코드 입력, 웹 서버의 읽기/쓰기 권한 확인.\n\n접속한 서버의 초기 화면은 Apache2가 성공적으로 연결되었음을 보여주기 위해 제공하는 기본 페이지입니다. 그러나 이것은 은행 웹사이트로는 부족합니다. 인덱스 파일의 위치를 찾아서 원하는 변경을 가해봅시다.\n\n기본 인덱스 파일의 위치: /var/www/html\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 디렉토리에 액세스하려면 다음 명령을 실행합니다:\n\n```js\n#루트 폴더에 이미 있는 경우\ncd /var/www/html\n```\n\n\u003cimg src=\"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_13.png\" /\u003e\n\n이제 파일을 편집하는 동안 실수를 했을 경우에 대비하여 먼저 백업 복사본을 만들어봅시다. 다음 명령을 실행하세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```shell\nsudo cp index.html indexbackup.html\n```\n\n![Screenshot](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_14.png)\n\nNow that we have our backup, let's access the original, erase it, and input our own code:\n\nTo access the file, run the command:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo nano /var/www/html/index.html\n```\n\n![Image 1](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_15.png)\n\n이제 내부로 들어가시면 코드를 한 줄씩 삭제할 때 빠르게 제거하려면 Ctrl + Shift + K를 누르세요.\n\n![Image 2](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_16.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n제가 만든 간단한 .html 문서에는 일부 css가 포함되어 있어서 시험 페이지가 더 매력적으로 보이도록 되어 있어요:\n\n```js\n\u003c!DOCTYPE html\u003e\n\u003chtml\u003e\n\u003chead\u003e\n    \u003ctitle\u003eWelcome Page\u003c/title\u003e\n    \u003cmeta charset=\"UTF-8\"\u003e\n    \u003cstyle\u003e\n        body {\n            font-family: 'Arial', sans-serif;\n            background: linear-gradient(135deg, #f06, #4a90e2);\n            color: #fff;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        h1 {\n            background-color: rgba(0, 0, 0, 0.5);\n            padding: 20px 40px;\n            border-radius: 10px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n        }\n    \u003c/style\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n    \u003ch1\u003eWelcome to LUIT - Silver Team\u003c/h1\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 새로운 .html/css가 파일 안에 들어 있으니 웹 페이지를 새로고침해서 변경 내용이 표시되는지 확인해 봅시다:\n\n![image](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_19.png)\n\n## 7. 사용자가 오류를 보고하는 경우; 로그가 저장된 위치를 찾아서 액세스하기\n\n모든 웹사이트나 애플리케이션은 오류를 가지고 있습니다. 사용자가 오류를 보고할 때 문제를 파악하기 위해 로그에 접근해야 합니다. 우선 로그를 찾아야 합니다. Ubuntu에서는 로그가 /var/log/apache2/access.log에 위치한다고 빠른 구글 검색 결과에 나옵니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_20.png\" /\u003e\n\n이제 로그가 어디에 있는지 확인했으므로 'cat' 명령어를 사용하여 파일 내용을 볼 수 있습니다:\n\n\u003cimg src=\"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_21.png\" /\u003e\n\n```js\ncat access.log\ncat error.log\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 8. 최신 15개 항목만 포함하도록 로그 파일을 새 파일로 리디렉션합니다.\n\n에러 로그 및 액세스 로그 출력을 새 파일로 리디렉션하고 최신 15개 항목만 포함하도록 합시다. 약간 복잡해 보일 수 있으니 하나씩 설명해 드리겠습니다.\n\n![이미지](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_22.png)\n\n여기서 최신 15개 항목을 새 파일 AccessLogsJune29.txt로 리디렉션하기 위해 `tail -n 15 access.log \u003e AccessLogsJune29.txt` 명령어를 사용했습니다. 그러나 권한 문제가 발생했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n일반적으로 'sudo' 명령어는 작동하지만, 저희 터미널 내의 구문은 sudo가 전체 명령어에 적용되도록 만들어야 합니다. 다음 줄에 어떻게 하는지 확인해보세요.\n\n```js\nsudo sh -c 'tail -n 15 /path/to/source_log.txt \u003e /path/to/new_log.txt'\n```\n\n명령어 설명:\n\n- `sudo sh -c 'command'`: 이 명령어는 `sudo`가 포함된 새 셸에서 명령어를 실행하여, 리다이렉션을 포함한 전체 명령어에 `sudo`가 적용되도록 합니다.\n- `tail -n 15 /path/to/source_log.txt`: 지정된 로그 파일의 마지막 15줄을 가져옵니다.\n- `` /path/to/new_log.txt`: 이 출력 결과를 `new_log.txt`로 리다이렉트하여 해당 내용을 덮어씁니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_23.png)\n\n![image](/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_24.png)\n\nNow we have two new txt files which report the latest 15 entries for both our access logs and our error logs.\n\n# Result:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n저희는 작동 중인 Apache 2 웹 서버를 소유하고 있습니다. 이 서버는 비공개로 쓰기가 가능하고 공개적으로 읽을 수 있습니다. 웹 사이트의 랜딩 페이지를 우리만의 코드로 편집할 수 있었습니다. 또한 에러 및 접근 로그에 액세스할 수 있었고, 이를 우리 자신의 파일로 리다이렉트할 수도 있었습니다.","ogImage":{"url":"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_0.png"},"coverImage":"/assets/img/2024-06-30-InstallingApache2WebServerwithUbuntuonEC2_0.png","tag":["Tech"],"readingTime":7},{"title":"판매 가능한 독특한 AI 생성 카드 디자인 10가지","description":"","date":"2024-06-30 19:14","slug":"2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell","content":"\n\n![Unique AI-Generated Playing Card Designs](/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_0.png)\n\n안녕하세요, AI로 생성된 예술 작품의 창조자 여러분! 이전 글에서는 AI를 활용하여 자신만의 타로 카드 덱을 디자인하는 데 도움이 되는 10가지 프롬프트와 이미지를 제공했습니다. 이는 예술가들이 AI 창작물로부터 수익을 창출하는 인기 있는 방법이 되었습니다. 오늘은 판매 가능한 제품으로 AI 생성된 예술을 활용하는 좋은 방법 중 하나인 플레잉 카드를 디자인하기 위한 10가지 새로운 프롬프트와 이미지를 공유하겠습니다!\n\n전 글에서는 여러분이 자신만의 덱을 만들 때 고화질 이미지의 중요성에 대해 강조했습니다. 함께 작업할 카드 인쇄 회사를 선정할 때 고밀도의 이미지를 제공하고 품질이 우수한지 확인하는 것이 중요합니다.\n\n플레잉 카드의 역사는 중국의 탕 시대(9세기)로 거슬러 올라가며, 이후 14세기에 유럽에 소개되었습니다. 이 카드들은 타로 덱과 많은 유사점을 공유하며, 4가지 문양과 숫자 카드를 포함합니다. 시간이 흘러서 많은 게임이 플레잉 카드 덱을 활용해 만들어지고 즐겨지며, 포커, 블랙잭, 브릿지, 하트 등이 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n카드 게임이 여전히 인기 있는 제품임에 놀랄 것이 없죠! 이 기사에서는 10가지 AI 프롬프트와 이미지를 살펴볼텐데, 여러분에게 자신만의 카드를 디자인하거나 독특한 컨셉을 고안하는데 영감을 줄 것입니다. 따라서 창의적인 아이디어를 얻으려면 계속 읽어보세요!\n\n더 많은 AI 아트 콘텐츠를 원하시면 무료로 저의 블로거 페이지를 방문해보세요. 일부 광고가 있긴 하지만 콘텐츠에 접속하려면 등록이나 구독이 필요하지 않습니다.\n\n이 중 일부 AI 프롬프트와 이미지는 제가 만들었고, 일부는 원래 여기에서 특집으로 다뤄졌던 것들입니다: [링크](https://www.midjourney.com/explore). 직접 시도해보고 어떤 것을 창조할 수 있는지 확인해보세요! (참고: 이러한 AI 프롬프트는 더 나은 결과를 위해 편집되었으며 여기서 공유하는 모든 AI 이미지는 저에 의해 다시 생성/검증되었습니다.)\n\n## 판매할 수 있는 고유한 AI 생성 카드 디자인 10가지\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n[2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_1.png](/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_1.png)\n\n[2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_2.png](/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_2.png)\n\n[2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_3.png](/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_3.png)\n\n읽어주셔서 감사합니다! 항상 행복한 AI 이미지 생성 되세요!\n","ogImage":{"url":"/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_0.png"},"coverImage":"/assets/img/2024-06-30-10UniqueAI-GeneratedPlayingCardDesignsYouCanSell_0.png","tag":["Tech"],"readingTime":2},{"title":"구글의 오픈 소스 모델 Gemma 2 출시","description":"","date":"2024-06-30 19:12","slug":"2024-06-30-TheOpenSourceModelGemma2byGoogleisHere","content":"\n\n취약하지만 접근성이 높은 LLM입니다.\n\n![Gemma 2](/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_0.png)\n\n다시 한 번 다른 언어 모델을 소개합니다… 이번에는 구글의 오픈 소스 모델인 Gemma 2입니다!\n\n인공 지능 분야는 대규모 언어 모델(LLM)의 능력이 폭발적으로 증가했습니다… 대규모 데이터셋으로 훈련된 이 복잡한 시스템들은 인간과 유사한 텍스트를 이해하고 생성하는 놀라운 능력을 보여주며, 한 때 인간 지능의 독점 영역으로 여겨졌던 경계를 넘어섰습니다. 그렇지만!!! 이러한 진전은 종종 엄청난 계산 리소스 비용을 지불해야 했기에 많은 연구원과 개발자에게는 액세스가 제한되는 문제가 있었습니다. 이 맥락에서 구글이 개발한 Gemma 2가 소개됩니다. Gemma 2는 경쟁력 있는 성능을 실용적인 크기 내에서 제공하기 위해 섬세하게 설계된 새로운 세대의 오픈 소스 LLM이며, 강력한 인공 지능 도구에 대한 접근성을 더 쉽게 만들어줍니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n더 알고 싶으신가요? 만약 그렇다면, 여기 있어요:\n\n- Gemma 2: 모델 패밀리\n- 건축 혁신: 효율성을 위한 건축 블록\n- 지식 증류: 현명한 스승으로부터 배우기\n- 성능 벤치마크: 새로운 표준 설정\n- 책임과 안전: 윤리적 요구사항\n- 결론\n\n# Gemma 2: 모델 패밀리\n\nGemma 2는 단일 모델이 아니라 특정 계산 제약 조건에 맞게 맞춘 여러 모델로 이루어진 패밀리입니다. 현재 라인업에는 90억과 270억 개 파라미터 모델이 포함되어 있으며, 곧 20억 개 파라미터 모델이 출시될 예정입니다. 이 범위는 개발자들이 자원 및 애플리케이션 요구사항에 가장 적합한 모델을 선택할 수 있도록 유연성을 제공합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 건축 혁신: 효율의 기반 요소들\n\n\"Gemma 2\"는 자신의 기반이 되는 디코더 전용 트랜스포머 아키텍처를 선배 모델인 \"Gemma (1)\"로부터 계승합니다. 그러나, 더 나은 효율성과 성능을 도모하기 위해 주요 아키텍처 세부 개선점을 통합하였습니다:\n\n- 로컬 및 글로벌 어텐션 교차: \"Gemma 2\"는 로컬 슬라이딩 윈도우 어텐션과 글로벌 어텐션의 레이어를 전략적으로 교대로 배치합니다. 이 접근 방식은 텍스트 내에서 로컬 컨텍스트와 보다 넓은 관계를 모두 포착하여 미묘한 균형을 이룹니다. 로컬 어텐션은 일정한 토큰 윈도우에 초점을 맞추어 계산 부담을 줄이는 반면, 글로벌 어텐션은 시퀀스의 모든 토큰을 고려하여 장거리 의존성을 식별하는 모델의 능력을 유지합니다. 이를 예로 들어보겠습니다. \"The cat sat on the mat, but it was thinking about the delicious fish it had for dinner\"라는 문장을 고려해보면, 로컬 어텐션은 \"cat\"과 \"sat\" 사이의 관계를 이해하는 데 초점을 맞출 수 있고, 글로벌 어텐션은 \"it\"을 \"cat\"과 \"fish\"에 연결하여 대명사의 참조를 포착할 수 있습니다.\n- 그룹화된 쿼리 어텐션 (GQA): GQA는 효율성을 희생하지 않으면서 계산 요구를 더 줄이기 위한 혁신적인 어텐션 메커니즘입니다. 모든 가능한 단어 쌍 사이의 어텐션 점수를 계산하는 대신, GQA는 쿼리와 키를 작은 그룹으로 나누어 이 그룹 내에서 어텐션을 계산합니다. 이 스마트한 파티셔닝은 특히 더 긴 시퀀스에 대해 처리 속도를 크게 향상시킵니다.\n- 로짓 소프트 캡핑: 훈련 안정성을 향상시키기 위해 \"Gemma 2\"는 로짓 소프트 캡핑을 사용합니다. 이 기법은 내부 표현에서 극단적인 값들을 방지하여 보다 견고하고 예측 가능한 동작을 유도합니다.\n- RMSNorm을 사용한 포스트-노름 및 프리-노름: \"Gemma 2\"는 각 레이어의 입력과 출력을 정규화하기 위해 RMSNorm (Root Mean Square 레이어 정규화)을 활용합니다. 이 선택은 더 부드러운 훈련과 개선된 모델 수렴에 기여합니다.\n\n\"Gemma 2\"의 모든 특징을 다시 한번 알아보겠습니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_1.png)\n\n# 지식 증류: 현명한 선생님으로부터 배우기\n\nLLM 교육은 기본적으로 다음 토큰 예측에 의존하며, 모델은 시퀀스에서 다음 단어를 예측하는 방법을 학습합니다. 이 방법은 효과적이지만 최적의 성능을 위해 방대한 데이터 세트가 필요할 수 있습니다. 특히 2B 및 9B 모델을 포함하는 Gemma 2는 지식 증류라는 더 정교한 기술을 채택합니다.\n\n현명한 선생님으로부터 배우는 학생을 상상해보십시오. 학생이 선생님의 행동을 그대로 흉내 내는 대신, 학생은 선생님의 추론과 사고 과정을 이해함으로써 더 깊은 통찰을 얻게 됩니다. 비슷하게, 지식 증류에서는 더 큰 사전 훈련된 \"선생님\" 모델로부터 더 작은 \"학생\" 모델이 배우게 됩니다. 학생 모델은 다음 토큰을 예측하는 것뿐만 아니라 선생님이 예측한 모든 가능한 다음 토큰에 대한 확률 분포를 근사화하는 방식으로 교육됩니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 접근 방식은 중요한 장점을 제공합니다:\n\n- 데이터 효율성: 학생 모델은 훈련 데이터가 적더라도 더 큰 데이터셋에서 얻은 선생님의 지식을 활용하여 비교 가능한 성능을 달성합니다.\n- 빠른 훈련: 증류는 더 풍부한 기울기를 제공하여 학생 모델을 보다 최적의 솔루션 공간으로 이끌어 훈련을 가속화합니다.\n- 향상된 성능: 더 강력한 모델에서 학습하여 학생 모델은 종종 동일한 데이터셋에서 전통적인 다음 토큰 예측 훈련을 통해 달성할 수 있는 성능을 능가합니다.\n\n# 성능 기준: 새로운 기준 설정하기\n\nGemma 2는 엄격한 기준에 따라 빛을 발하며, 유사한 크기의 다른 오픈 모델을 지속적으로 능가하고 규모가 훨씬 큰 모델에도 도전합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![image](/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_2.png)\n\n당연히 현재의 최첨단 모델인 GPT-4o와 Claude 3.5 Sonnet과는 비교할 수 없습니다. GPT-4o와 Claude 3.5 Sonnet은 각각 HumanEval인 python 코딩의 벤치마크에서 90.2% 및 92.0%와 같이 인상적인 값을 달성할 수 있습니다. 또한, 3.5 Sonnet은 학교 수학의 벤치마크인 GSM8K에서 0-shot 방식으로 96.4%의 성과를 보여줍니다. \n\n그러나, Gemma 2의 강점은 접근성과 현실성에 있습니다. 더 작은 모델 크기로 인해 보다 넓은 하드웨어 범위에 배포할 수 있어, 자원이 제한된 개발자와 연구자들에게 혜택을 줄 수 있습니다.\n\n# 책임과 안전: 윤리적 필수성\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nLLM의 잠재적인 영향은 책임 있는 개발과 배포에 강한 헌신이 필요합니다. Gemma 2는 안전과 윤리 고려 사항을 핵심으로 구축되었습니다.\n\n- 안전 정책 및 교육 시간 완화: Gemma 2의 훈련 데이터는 해로운 및 편향적인 콘텐츠를 제거하기 위해 엄격하게 필터링됩니다. 게다가, 모델은 안전 정책으로 세밀하게 조정되어 부적절하거나 유해한 결과물을 생성할 위험을 최소화합니다.\n- 견고하고 투명한 평가: Gemma 2는 자동화된 벤치마크와 인간 평가를 결합하여 능력과 잠재적 위험을 평가하기 위해 철저히 평가됩니다. 이러한 평가는 안전, 공정성, 편향, 강건성을 포함한 다양한 측면을 다룹니다.\n- 책임 있는 생성적 AI 툴킷: 개발자들을 지원하기 위해 구글은 포괄적인 책임 있는 생성적 AI 툴킷을 제공합니다. 이 툴킷은 Gemma 2 모델의 안전하고 책임 있는 배포를 보장하기 위한 리소스, 도구 및 모베스트 프랙티스를 제공합니다.\n\n# 결론\n\nGemma 2는 오픈 LLM 기술의 상쾌한 바람으로, 첨단 성능, 실용적 효율성, 책임 있는 인공지능에 대한 강력한 헌신의 조합을 제공합니다: 이 강력한 도구들에 대한 이용을 민주화함으로써, Gemma 2는 연구 및 교육부터 콘텐츠 제작에 이르기까지 다양한 분야에서 혁신의 새로운 물결을 촉진할 수 있습니다. 사용하려면, 모델의 가중치는 예상대로 Hugging Face에서 이용 가능합니다!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n멋진 마크다운 작성하셨네요! 부담 갖지 마시고 계속 찾아뵙세요.","ogImage":{"url":"/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_0.png"},"coverImage":"/assets/img/2024-06-30-TheOpenSourceModelGemma2byGoogleisHere_0.png","tag":["Tech"],"readingTime":5}],"page":"2","totalPageCount":113,"totalPageGroupCount":6,"lastPageGroup":20,"currentPageGroup":0},"__N_SSG":true},"page":"/posts/[page]","query":{"page":"2"},"buildId":"kkckKPyxcjJp_o8wb2unW","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>