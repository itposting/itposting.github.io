<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법 | itposting" data-gatsby-head="true"/><meta property="og:title" content="홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant" data-gatsby-head="true"/><meta name="twitter:title" content="홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 17:36" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_buildManifest.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">4<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>만약 홈 어시스턴트 인스턴스가 있으면 Mosquitto가 유용할 수 있습니다. Mosquitto를 사용하면 이 프로토콜을 지원하는 여러 IoT 장치를 연결할 수 있습니다. 예를 들어, OSS 펌웨어를 실행할 수 있는 Tasmota, ESPHome, OpenBeken 등이 있습니다.</p>
<p>나는 라즈베리 파이에서 홈 어시스턴트를 사용하고 있어서 이를 몇 단계만 거쳐 쉽게 설정하는 방법을 보여줄게요. 만약 아직 홈 어시스턴트를 설치하지 않았다면, 이 문서를 확인하세요.</p>
<h2>MQTT 서버 설치</h2>
<p>이 과정은 간단하며, 터미널에 간단한 명령어 한 줄로 설치할 수 있어요:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">sudo apt-get install mosquitto mosquitto-clients 
</code></pre>
<p>이게 전부에요 🐧.</p>
<p>이제 Mosquitto 브로커에 대한 액세스를 보호하는 것이 중요합니다.</p>
<h2>MQTT 시작 및 부팅 시 추가</h2>
<div class="content-ad"></div>
<p>지금 MQTT를 시작할 수 있고, 장치 부팅 후 내장 서비스를 사용할 수 있습니다:</p>
<pre><code class="hljs language-js">sudo systemctl enable mosquitto
sudo systemctl start mosquitto
</code></pre>
<h2>사용자 및 비밀번호 생성</h2>
<p>mosquitto_passwd를 사용하여 새로운 사용자 이름과 비밀번호를 만들 수 있습니다. YOUR_MQTT_USER를 사용하려는 사용자로 대체해주세요.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">sudo mosquitto_passwd -c /etc/mosquitto/passw <span class="hljs-variable constant_">YOUR_MQTT_USER</span>
</code></pre>
<p>암호를 설정하고 기억하세요.</p>
<p>이제 익명 사용자를 비활성화해야 합니다:</p>
<pre><code class="hljs language-js">echo -e <span class="hljs-string">"allow_anonymous false\npassword_file /etc/mosquitto/passw"</span> | sudo tee -a sudo nano /etc/mosquitto/mosquitto.<span class="hljs-property">conf</span>
</code></pre>
<div class="content-ad"></div>
<p>이제 Mosquitto 브로커를 다시 시작해주세요:</p>
<pre><code class="hljs language-js">sudo systemctl restart mosquitto
</code></pre>
<p>좋아요, 이제 Home Assistant를 구성해보겠습니다!</p>
<h2>Home Assistant MQTT 설정</h2>
<div class="content-ad"></div>
<p>내장된 HASS 통합을 사용하여 MQTT 브로커에 쉽게 연결할 수 있어요. "설정" - "장치 및 서비스" - "+ 통합 추가"로 이동하신 후 MQTT를 목록에서 찾아보세요. MQTT 브로커 세부 정보를 사용하여 연결하세요.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*KCF19chIplt1xq_1AQr2bw.gif" alt="image"></p>
<p>이제 Mosquitto 호환 장치를 홈 어시스턴트에서 사용할 수 있어요 👌.</p>
<h2>localhost 외부에서 듣기</h2>
<div class="content-ad"></div>
<p>만약 라즈베리 파이 밖에서 MQTT를 사용하여 LAN 또는 인터넷에서 IoT 장치를 설정하려는 경우, Mosquitto 브로커가 아웃바운드 연결 요청을 수신하도록 설정해야 합니다:</p>
<pre><code class="hljs language-sh"><span class="hljs-built_in">echo</span> -e <span class="hljs-string">"listener 1883"</span> | sudo <span class="hljs-built_in">tee</span> -a sudo nano /etc/mosquitto/mosquitto.conf
</code></pre>
<h2>Tasmota 예시</h2>
<p>Tasmota를 실행 중인 장치가 있다면 Home Assistant에서 MQTT를 사용하여 해당 장치를 제어할 수 있습니다. Tasmota에서 MQTT를 설정하려면 "Configuration" - "Configure MQTT"로 이동한 후 MQTT 브로커 데이터를 추가하십시오.</p>
<div class="content-ad"></div>
<p>라즈베리 파이의 로컬 네트워크 IP로 YOUR_MQTT_DEVICE_IP를 대체하고, 위에서 사용한 YOUR_MQTT_USER 및 YOUR_PASSWORD로 대체하십시오.</p>
<p>이후에는 Tasmota 엔티티가 홈 어시스턴트 내에서 자동으로 나타날 것입니다.</p>
<p>만약 나타나지 않는다면 "통합 추가"를 눌러 추가하십시오. MQTT 연결이 제대로 작동하는지 확인하려면 Tasmota "콘솔"을 확인하십시오.</p>
<p>이제 Tasmota 엔티티 ID를 알고 있다면 대시보드에 버튼을 추가할 수 있습니다.</p>
<div class="content-ad"></div>
<h2>수동 통합</h2>
<p>다른 IoT 장치는 수동 구성이 필요할 수 있으며 MQTT 통합 내에 나타날 수도 있습니다. 또는 MQTT 서비스를 사용하여 스크립트 및 자동화 내에서 데이터를 송수신할 수 있습니다.</p>
<p><img src="/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png" alt="이미지"></p>
<p>스크립트에서 사용할 수 있는 발행 및 수신 MQTT 서비스가 모두 있어서 HASS 인터페이스에 버튼을 추가할 수 있습니다.</p>
<div class="content-ad"></div>
<h2>MQTT 클라이언트로 테스트해보기</h2>
<p>Windows/Linux 또는 다른 기계에서 Mosquitto 브로커를 테스트하기 위해 MQTTX를 사용할 수 있습니다. <a href="%EB%A7%81%ED%81%AC">여기</a>에서 다운로드할 수 있어요.</p>
<p>장치 데이터를 사용해보세요. Raspberry Pi IP인 192.168.0.190을(를) 교체해주세요.</p>
<h2>대박!</h2>
<div class="content-ad"></div>
<p>이제 디바이스와 홈 어시스턴트에서 MQTT를 구성하는 방법을 알게 되셨군요.</p>
<p>⚠️ 인터넷을 통해 이 MQTT 서버를 직접 노출하려는 경우, TLS / SSL로 보호되지 않았으므로 악의적인 사용자가 로그인 자격 증명을 읽을 수 있습니다. 일반적인 것과 다른 사용자 이름 및 비밀번호를 사용하면 상대적으로 안전합니다. 그러나 그래도 악의적인 사용자가 당신의 디바이스를 제어하고, 네트워크 전체에 액세스할 수 있는 악성 코드를 주입할 수도 있습니다. 언제나 IoT 장치를 최신으로 유지하세요!</p>
<p>MQTT에 TLS / SSL을 빠르게 추가할 수 있지만 모든 IoT 장치와 호환되지 않을 수 있으므로 보다 안전하게 로컬에 유지하고 MQTT 포트를 인터넷에 노출하지 마세요.</p>
<p>이것은 홈 어시스턴트를 통해 MQTT 장치를 인터넷을 통해 제어할 수 없다는 뜻인가요? 아니요! 당신의 HASS 인스턴스는 Mosquitto 브로커와 별도입니다. 브로커는 로컬 네트워크에서만 IoT 장치를 처리하고 홈 어시스턴트와 인터페이스할 것이며, 암호화된 연결을 통해 인터넷에 노출될 수 있습니다.</p>
<div class="content-ad"></div>
<p>이 목록에서 더 많은 관련 기사를 찾을 수 있어요:</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"홈 어시스턴트에 MQTT 서버를 설치하고 추가하는 방법","description":"","date":"2024-06-20 17:36","slug":"2024-06-20-InstallandaddingMQTTservertotheHomeAssistant","content":"\n\n만약 홈 어시스턴트 인스턴스가 있으면 Mosquitto가 유용할 수 있습니다. Mosquitto를 사용하면 이 프로토콜을 지원하는 여러 IoT 장치를 연결할 수 있습니다. 예를 들어, OSS 펌웨어를 실행할 수 있는 Tasmota, ESPHome, OpenBeken 등이 있습니다.\n\n나는 라즈베리 파이에서 홈 어시스턴트를 사용하고 있어서 이를 몇 단계만 거쳐 쉽게 설정하는 방법을 보여줄게요. 만약 아직 홈 어시스턴트를 설치하지 않았다면, 이 문서를 확인하세요.\n\n## MQTT 서버 설치\n\n이 과정은 간단하며, 터미널에 간단한 명령어 한 줄로 설치할 수 있어요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo apt-get install mosquitto mosquitto-clients \n```\n\n이게 전부에요 🐧.\n\n이제 Mosquitto 브로커에 대한 액세스를 보호하는 것이 중요합니다.\n\n## MQTT 시작 및 부팅 시 추가\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n지금 MQTT를 시작할 수 있고, 장치 부팅 후 내장 서비스를 사용할 수 있습니다:\n\n```js\nsudo systemctl enable mosquitto\nsudo systemctl start mosquitto\n```\n\n## 사용자 및 비밀번호 생성\n\nmosquitto_passwd를 사용하여 새로운 사용자 이름과 비밀번호를 만들 수 있습니다. YOUR_MQTT_USER를 사용하려는 사용자로 대체해주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo mosquitto_passwd -c /etc/mosquitto/passw YOUR_MQTT_USER\n```\n\n암호를 설정하고 기억하세요.\n\n이제 익명 사용자를 비활성화해야 합니다:\n\n```js\necho -e \"allow_anonymous false\\npassword_file /etc/mosquitto/passw\" | sudo tee -a sudo nano /etc/mosquitto/mosquitto.conf\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 Mosquitto 브로커를 다시 시작해주세요:\n\n```js\nsudo systemctl restart mosquitto\n```\n\n좋아요, 이제 Home Assistant를 구성해보겠습니다!\n\n## Home Assistant MQTT 설정\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n내장된 HASS 통합을 사용하여 MQTT 브로커에 쉽게 연결할 수 있어요. \"설정\" - \"장치 및 서비스\" - \"+ 통합 추가\"로 이동하신 후 MQTT를 목록에서 찾아보세요. MQTT 브로커 세부 정보를 사용하여 연결하세요.\n\n![image](https://miro.medium.com/v2/resize:fit:1400/1*KCF19chIplt1xq_1AQr2bw.gif)\n\n이제 Mosquitto 호환 장치를 홈 어시스턴트에서 사용할 수 있어요 👌.\n\n## localhost 외부에서 듣기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n만약 라즈베리 파이 밖에서 MQTT를 사용하여 LAN 또는 인터넷에서 IoT 장치를 설정하려는 경우, Mosquitto 브로커가 아웃바운드 연결 요청을 수신하도록 설정해야 합니다:\n\n```sh\necho -e \"listener 1883\" | sudo tee -a sudo nano /etc/mosquitto/mosquitto.conf\n```\n\n## Tasmota 예시\n\nTasmota를 실행 중인 장치가 있다면 Home Assistant에서 MQTT를 사용하여 해당 장치를 제어할 수 있습니다. Tasmota에서 MQTT를 설정하려면 \"Configuration\" - \"Configure MQTT\"로 이동한 후 MQTT 브로커 데이터를 추가하십시오.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n라즈베리 파이의 로컬 네트워크 IP로 YOUR_MQTT_DEVICE_IP를 대체하고, 위에서 사용한 YOUR_MQTT_USER 및 YOUR_PASSWORD로 대체하십시오.\n\n이후에는 Tasmota 엔티티가 홈 어시스턴트 내에서 자동으로 나타날 것입니다.\n\n만약 나타나지 않는다면 \"통합 추가\"를 눌러 추가하십시오. MQTT 연결이 제대로 작동하는지 확인하려면 Tasmota \"콘솔\"을 확인하십시오.\n\n이제 Tasmota 엔티티 ID를 알고 있다면 대시보드에 버튼을 추가할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 수동 통합\n\n다른 IoT 장치는 수동 구성이 필요할 수 있으며 MQTT 통합 내에 나타날 수도 있습니다. 또는 MQTT 서비스를 사용하여 스크립트 및 자동화 내에서 데이터를 송수신할 수 있습니다.\n\n![이미지](/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png)\n\n스크립트에서 사용할 수 있는 발행 및 수신 MQTT 서비스가 모두 있어서 HASS 인터페이스에 버튼을 추가할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## MQTT 클라이언트로 테스트해보기\n\nWindows/Linux 또는 다른 기계에서 Mosquitto 브로커를 테스트하기 위해 MQTTX를 사용할 수 있습니다. [여기](링크)에서 다운로드할 수 있어요.\n\n장치 데이터를 사용해보세요. Raspberry Pi IP인 192.168.0.190을(를) 교체해주세요.\n\n## 대박!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이제 디바이스와 홈 어시스턴트에서 MQTT를 구성하는 방법을 알게 되셨군요.\n\n⚠️ 인터넷을 통해 이 MQTT 서버를 직접 노출하려는 경우, TLS / SSL로 보호되지 않았으므로 악의적인 사용자가 로그인 자격 증명을 읽을 수 있습니다. 일반적인 것과 다른 사용자 이름 및 비밀번호를 사용하면 상대적으로 안전합니다. 그러나 그래도 악의적인 사용자가 당신의 디바이스를 제어하고, 네트워크 전체에 액세스할 수 있는 악성 코드를 주입할 수도 있습니다. 언제나 IoT 장치를 최신으로 유지하세요!\n\nMQTT에 TLS / SSL을 빠르게 추가할 수 있지만 모든 IoT 장치와 호환되지 않을 수 있으므로 보다 안전하게 로컬에 유지하고 MQTT 포트를 인터넷에 노출하지 마세요.\n\n이것은 홈 어시스턴트를 통해 MQTT 장치를 인터넷을 통해 제어할 수 없다는 뜻인가요? 아니요! 당신의 HASS 인스턴스는 Mosquitto 브로커와 별도입니다. 브로커는 로컬 네트워크에서만 IoT 장치를 처리하고 홈 어시스턴트와 인터페이스할 것이며, 암호화된 연결을 통해 인터넷에 노출될 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 목록에서 더 많은 관련 기사를 찾을 수 있어요:","ogImage":{"url":"/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png"},"coverImage":"/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png","tag":["Tech"],"readingTime":4},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e만약 홈 어시스턴트 인스턴스가 있으면 Mosquitto가 유용할 수 있습니다. Mosquitto를 사용하면 이 프로토콜을 지원하는 여러 IoT 장치를 연결할 수 있습니다. 예를 들어, OSS 펌웨어를 실행할 수 있는 Tasmota, ESPHome, OpenBeken 등이 있습니다.\u003c/p\u003e\n\u003cp\u003e나는 라즈베리 파이에서 홈 어시스턴트를 사용하고 있어서 이를 몇 단계만 거쳐 쉽게 설정하는 방법을 보여줄게요. 만약 아직 홈 어시스턴트를 설치하지 않았다면, 이 문서를 확인하세요.\u003c/p\u003e\n\u003ch2\u003eMQTT 서버 설치\u003c/h2\u003e\n\u003cp\u003e이 과정은 간단하며, 터미널에 간단한 명령어 한 줄로 설치할 수 있어요:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo apt-get install mosquitto mosquitto-clients \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이게 전부에요 🐧.\u003c/p\u003e\n\u003cp\u003e이제 Mosquitto 브로커에 대한 액세스를 보호하는 것이 중요합니다.\u003c/p\u003e\n\u003ch2\u003eMQTT 시작 및 부팅 시 추가\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e지금 MQTT를 시작할 수 있고, 장치 부팅 후 내장 서비스를 사용할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo systemctl enable mosquitto\nsudo systemctl start mosquitto\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e사용자 및 비밀번호 생성\u003c/h2\u003e\n\u003cp\u003emosquitto_passwd를 사용하여 새로운 사용자 이름과 비밀번호를 만들 수 있습니다. YOUR_MQTT_USER를 사용하려는 사용자로 대체해주세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo mosquitto_passwd -c /etc/mosquitto/passw \u003cspan class=\"hljs-variable constant_\"\u003eYOUR_MQTT_USER\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e암호를 설정하고 기억하세요.\u003c/p\u003e\n\u003cp\u003e이제 익명 사용자를 비활성화해야 합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eecho -e \u003cspan class=\"hljs-string\"\u003e\"allow_anonymous false\\npassword_file /etc/mosquitto/passw\"\u003c/span\u003e | sudo tee -a sudo nano /etc/mosquitto/mosquitto.\u003cspan class=\"hljs-property\"\u003econf\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 Mosquitto 브로커를 다시 시작해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo systemctl restart mosquitto\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e좋아요, 이제 Home Assistant를 구성해보겠습니다!\u003c/p\u003e\n\u003ch2\u003eHome Assistant MQTT 설정\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e내장된 HASS 통합을 사용하여 MQTT 브로커에 쉽게 연결할 수 있어요. \"설정\" - \"장치 및 서비스\" - \"+ 통합 추가\"로 이동하신 후 MQTT를 목록에서 찾아보세요. MQTT 브로커 세부 정보를 사용하여 연결하세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*KCF19chIplt1xq_1AQr2bw.gif\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 Mosquitto 호환 장치를 홈 어시스턴트에서 사용할 수 있어요 👌.\u003c/p\u003e\n\u003ch2\u003elocalhost 외부에서 듣기\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e만약 라즈베리 파이 밖에서 MQTT를 사용하여 LAN 또는 인터넷에서 IoT 장치를 설정하려는 경우, Mosquitto 브로커가 아웃바운드 연결 요청을 수신하도록 설정해야 합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003e\u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e -e \u003cspan class=\"hljs-string\"\u003e\"listener 1883\"\u003c/span\u003e | sudo \u003cspan class=\"hljs-built_in\"\u003etee\u003c/span\u003e -a sudo nano /etc/mosquitto/mosquitto.conf\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eTasmota 예시\u003c/h2\u003e\n\u003cp\u003eTasmota를 실행 중인 장치가 있다면 Home Assistant에서 MQTT를 사용하여 해당 장치를 제어할 수 있습니다. Tasmota에서 MQTT를 설정하려면 \"Configuration\" - \"Configure MQTT\"로 이동한 후 MQTT 브로커 데이터를 추가하십시오.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e라즈베리 파이의 로컬 네트워크 IP로 YOUR_MQTT_DEVICE_IP를 대체하고, 위에서 사용한 YOUR_MQTT_USER 및 YOUR_PASSWORD로 대체하십시오.\u003c/p\u003e\n\u003cp\u003e이후에는 Tasmota 엔티티가 홈 어시스턴트 내에서 자동으로 나타날 것입니다.\u003c/p\u003e\n\u003cp\u003e만약 나타나지 않는다면 \"통합 추가\"를 눌러 추가하십시오. MQTT 연결이 제대로 작동하는지 확인하려면 Tasmota \"콘솔\"을 확인하십시오.\u003c/p\u003e\n\u003cp\u003e이제 Tasmota 엔티티 ID를 알고 있다면 대시보드에 버튼을 추가할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e수동 통합\u003c/h2\u003e\n\u003cp\u003e다른 IoT 장치는 수동 구성이 필요할 수 있으며 MQTT 통합 내에 나타날 수도 있습니다. 또는 MQTT 서비스를 사용하여 스크립트 및 자동화 내에서 데이터를 송수신할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-InstallandaddingMQTTservertotheHomeAssistant_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e스크립트에서 사용할 수 있는 발행 및 수신 MQTT 서비스가 모두 있어서 HASS 인터페이스에 버튼을 추가할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eMQTT 클라이언트로 테스트해보기\u003c/h2\u003e\n\u003cp\u003eWindows/Linux 또는 다른 기계에서 Mosquitto 브로커를 테스트하기 위해 MQTTX를 사용할 수 있습니다. \u003ca href=\"%EB%A7%81%ED%81%AC\"\u003e여기\u003c/a\u003e에서 다운로드할 수 있어요.\u003c/p\u003e\n\u003cp\u003e장치 데이터를 사용해보세요. Raspberry Pi IP인 192.168.0.190을(를) 교체해주세요.\u003c/p\u003e\n\u003ch2\u003e대박!\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이제 디바이스와 홈 어시스턴트에서 MQTT를 구성하는 방법을 알게 되셨군요.\u003c/p\u003e\n\u003cp\u003e⚠️ 인터넷을 통해 이 MQTT 서버를 직접 노출하려는 경우, TLS / SSL로 보호되지 않았으므로 악의적인 사용자가 로그인 자격 증명을 읽을 수 있습니다. 일반적인 것과 다른 사용자 이름 및 비밀번호를 사용하면 상대적으로 안전합니다. 그러나 그래도 악의적인 사용자가 당신의 디바이스를 제어하고, 네트워크 전체에 액세스할 수 있는 악성 코드를 주입할 수도 있습니다. 언제나 IoT 장치를 최신으로 유지하세요!\u003c/p\u003e\n\u003cp\u003eMQTT에 TLS / SSL을 빠르게 추가할 수 있지만 모든 IoT 장치와 호환되지 않을 수 있으므로 보다 안전하게 로컬에 유지하고 MQTT 포트를 인터넷에 노출하지 마세요.\u003c/p\u003e\n\u003cp\u003e이것은 홈 어시스턴트를 통해 MQTT 장치를 인터넷을 통해 제어할 수 없다는 뜻인가요? 아니요! 당신의 HASS 인스턴스는 Mosquitto 브로커와 별도입니다. 브로커는 로컬 네트워크에서만 IoT 장치를 처리하고 홈 어시스턴트와 인터페이스할 것이며, 암호화된 연결을 통해 인터넷에 노출될 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 목록에서 더 많은 관련 기사를 찾을 수 있어요:\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-InstallandaddingMQTTservertotheHomeAssistant"},"buildId":"CYQjEY3HhSkRTiL0gewc0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>