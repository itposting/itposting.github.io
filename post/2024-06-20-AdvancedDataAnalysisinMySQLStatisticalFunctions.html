<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>MySQL에서의 고급 데이터 분석 통계 함수 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="MySQL에서의 고급 데이터 분석 통계 함수 | itposting" data-gatsby-head="true"/><meta property="og:title" content="MySQL에서의 고급 데이터 분석 통계 함수 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions" data-gatsby-head="true"/><meta name="twitter:title" content="MySQL에서의 고급 데이터 분석 통계 함수 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 15:57" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_buildManifest.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">MySQL에서의 고급 데이터 분석 통계 함수</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="MySQL에서의 고급 데이터 분석 통계 함수" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">9<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p><img src="/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png" alt="Advanced Data Analysis in MySQL - Statistical Functions 0"></p>
<p><img src="/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_1.png" alt="Advanced Data Analysis in MySQL - Statistical Functions 1"></p>
<p>각 데이터 세트의 분석 중요한 부분은 통계 속성을 분석하는 것입니다. 특히 기계 학습에 사용하려면 데이터에 대한 적절한 통찰력을 갖고 사전 처리 및 특성 추출을 수행해야 합니다.</p>
<p>데이터베이스에 대규모 데이터 집합이 있는 경우 데이터베이스에서 이러한 분석을 직접 실행하는 것이 도움이 됩니다.</p>
<div class="content-ad"></div>
<p>그러나 일부 데이터베이스의 내장 통계 함수는 매우 포괄적이지 않을 수 있습니다. MySQL 데이터베이스도 그러한 경우 중 하나입니다.</p>
<p>본 기사에서는 MySQL 인스턴스에 더 고급 통계 함수를 가져오고 대규모 데이터를 분석하는 방법을 안내해 드리겠습니다.</p>
<h1>준비 사항</h1>
<p>통계와 SQL 쿼리 언어에 대한 기본적인 이해가 있다고 가정합니다.</p>
<div class="content-ad"></div>
<h2>MySQL 인스턴스 + 샘플 데이터 세트</h2>
<p>또한 MySQL 데이터베이스의 실행 중인 인스턴스가 설치되어 특권 사용자가 있는 상태로, MySQL 웹 사이트에서 '표준' 직원 샘플 데이터베이스를 가져와 샘플 데이터 세트로 가져오셨다고 가정합니다.</p>
<p>그렇지 않은 경우, 먼저 다음 기사를 참고하시기 바랍니다: "MySQL에서 데이터 분석을 위한 첫 걸음: 기본 함수".</p>
<p>이 기사에서 작업할 기존 데이터베이스 스키마는 다음과 같아야 합니다:</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_2.png" alt="Image"></p>
<p>The fields are mostly self-explanatory, but to be on the safe side, we list the descriptions of the non-obvious fields for the tables employees and salaries below:</p>
<ul>
<li>employees.emp_no: The primary key of the employees table.</li>
<li>employees.hire_date: The hire date of the employee.</li>
<li>salaries.emp_no: The foreign key to the employees table.</li>
<li>salaries.salary: The salary paid in a given period.</li>
<li>salaries.from_date: The date from which the salary was paid.</li>
<li>salaries.to_date: The date by which the salary was paid.</li>
</ul>
<h2>Install the statistics extension</h2>
<div class="content-ad"></div>
<p>MySQL은 통계 함수가 제한적이기 때문에 고급 기능을 위한 '확장 프로그램'이 필요합니다. 이 기사에서는 다음과 같은 통계 함수를 사용합니다: Statistics for MySQL.</p>
<p>이 확장 프로그램에는 Gini 계수, 중앙값, Mersenne Twister 난수 생성기, Pearson 상관 계수, 행 번호 및 왜도 등 여러 통계 함수가 포함되어 있습니다.</p>
<p>Windows 사용자는 다음을 직접 다운로드하고(32비트 또는 64비트 맞춤 libsqlstat.dll을 MySQL 설치 디렉토리의 lib\plugin 디렉토리로 복사하고) 루트 사용자로 확장 프로그램을 설치할 수 있습니다:</p>
<pre><code class="hljs language-js">mysql -u root -p -f &#x3C; examples\install.<span class="hljs-property">sql</span>
</code></pre>
<div class="content-ad"></div>
<p>Linux 또는 MacOS 사용자는 INSTALL 파일의 지침을 따라 프로젝트를 컴파일해야 합니다.</p>
<p>#의사 난수 생성</p>
<p>통계 함수를 살펴보기 전에 무작위 숫자나 분포를 생성하는 방법에 대해 먼저 살펴보겠습니다.</p>
<p>명확히 말하자면, 우리는 '통계적' 무작위성 또는 의사 난수성에 대해 이야기하고 있으며 이는 어떠한 인식 가능한 패턴이나 규칙성을 포함하지 않습니다. 많은 통계 사용 사례에 도움이 되며 충분합니다.</p>
<div class="content-ad"></div>
<p>그러나 이는 '진정한' 무작위성, 즉 객관적으로 예측할 수 없음을 의미하는 것은 아닙니다.</p>
<h2>간단한 난수</h2>
<p>다음 쿼리를 사용하여 Mersenne Twister 알고리즘(rand_mt)을 이용하여 0 이상의 임의의 숫자를 생성할 수 있습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">rand_mt</span>();
</code></pre>
<div class="content-ad"></div>
<p>우리 샘플 데이터셋의 각 급여 항목에 대해 무작위 '가중치'를 생성하여 쇼케이스로 보여 드리겠습니다. 즉, 급여 테이블에 새 열을 추가하고 이 열에 대해 무작위 숫자를 생성합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">ALTER</span> <span class="hljs-variable constant_">TABLE</span> salaries <span class="hljs-variable constant_">ADD</span> weight double;

<span class="hljs-variable constant_">UPDATE</span> salaries <span class="hljs-variable constant_">SET</span> weight = <span class="hljs-title function_">rand_mt</span>();
</code></pre>
<h2>정규 분포의 변변량</h2>
<p>데이터 분석에 정규 분포가 필요한 경우 다음 쿼리로 변변량을 생성할 수 있습니다 (rand_norm([σ, [μ]])):</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">rand_norm</span>(); <span class="hljs-comment">// μ=0, σ=1</span>
<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">rand_norm</span>(<span class="hljs-number">0.3</span>);<span class="hljs-comment">// μ=0.3, σ=1</span>
<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">rand_norm</span>(<span class="hljs-number">0.3</span>, <span class="hljs-number">4</span>);<span class="hljs-comment">// μ=0.3, σ=0.4</span>
</code></pre>
<p>평균 μ의 기본 값은 0이며, 표준 편차 σ의 기본 값은 1입니다.</p>
<h1>통계 함수</h1>
<p>이제 통계 함수로 넘어가 보겠습니다.</p>
<div class="content-ad"></div>
<h2>평균 또는 평균값</h2>
<p>평균 또는 산술평균(avg)은 시리즈의 모든 숫자의 합을 시리즈의 숫자 수로 나눈 값입니다.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:412/1*PIl3An_ZP3gWtqmAhO9S8g.gif" alt="이미지"></p>
<p>해당 SQL 쿼리는 다음과 같이 보이며 직원들의 평균 급여를 반환합니다:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-comment">// 임금의 평균은 63,810.7448이에요.</span>

## 가중평균

가중평균(<span class="hljs-title function_">avgw</span>(x [,w]))은 시리즈에서 일부 데이터 포인트가 다른 것보다 더 많은 영향을 미치는 평균이에요.

![이미지](<span class="hljs-attr">https</span>:<span class="hljs-comment">//miro.medium.com/v2/resize:fit:394/1*k4So1dgcswrkuOjlYUOfBQ.gif)</span>
</code></pre>
<div class="content-ad"></div>
<p>해당 SQL 쿼리는 다음과 같습니다. 직원들의 가중 평균 급여를 반환합니다 (임의의 가중치를 사용하여 보여주기 위한 것입니다):</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">AVG</span>(s.<span class="hljs-property">salary</span> * s.<span class="hljs-property">weight</span>) <span class="hljs-variable constant_">AS</span> <span class="hljs-string">'weighted mean'</span> <span class="hljs-variable constant_">FROM</span> salaries s;
</code></pre>
<h2>분산과 표준편차</h2>
<p>MySQL은 데이터 샘플의 분산 (variance) 및 표준편차 (std)를 계산하기 위한 내장 함수를 제공합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> 
  <span class="hljs-title function_">VARIANCE</span>(salary) <span class="hljs-keyword">as</span> <span class="hljs-string">'분산'</span>,
  <span class="hljs-title function_">STD</span>(salary) <span class="hljs-keyword">as</span> <span class="hljs-string">'표준편차'</span>
<span class="hljs-variable constant_">FROM</span> salaries;
</code></pre>
<p>분산은 데이터 세트 내 숫자 사이의 차이를 측정하는 통계적 측정 값이며, 평균 값으로부터 제곱 차이의 평균으로 정의되며 아래와 같이 계산됩니다:</p>
<img src="https://miro.medium.com/v2/resize:fit:500/1*2x2aLPiAXX_Hz7zNAxE7hA.gif">
<p>분산 함수는 var_pop()의 동의어로, 특정 열의 모든 필드의 모평균 분산을 계산합니다. 반면에 var_samp()는 표본 분산을 계산합니다.</p>
<div class="content-ad"></div>
<p>표 태그를 Markdown 형식으로 변경하면 됩니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">skewness_pop</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'skew1'</span> <span class="hljs-variable constant_">FROM</span> salaries s;
<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">skewness_pop</span>(s.<span class="hljs-property">salary</span>, s.<span class="hljs-property">weight</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'skew2'</span> <span class="hljs-variable constant_">FROM</span> salaries s;

<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">skewness_samp</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'skew3'</span> <span class="hljs-variable constant_">FROM</span> salaries s;
<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">skewness_samp</span>(s.<span class="hljs-property">salary</span>, s.<span class="hljs-property">weight</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'skew4'</span> <span class="hljs-variable constant_">FROM</span> salaries s;
</code></pre>
<p>만약 두 번째 매개변수가 지정되지 않은 경우 가중치는 1로 설정됩니다 (즉, 동일하게 가중치가 적용됨).</p>
<p>마지막 예제로, 성별로 그룹화된 평균 급여를 계산하고 데이터 샘플의 모든 관련 통계 속성을 함께 표시합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> 
  e.<span class="hljs-property">gender</span>,
  <span class="hljs-title function_">AVG</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'평균 급여'</span>,
  <span class="hljs-title function_">skewness_samp</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'왜도'</span>,
  <span class="hljs-title function_">stddevw_samp</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'표준편차'</span>,
  <span class="hljs-title function_">var_samp</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'분산'</span>
<span class="hljs-variable constant_">FROM</span> employees e <span class="hljs-variable constant_">INNER</span> <span class="hljs-variable constant_">JOIN</span> salaries s <span class="hljs-variable constant_">ON</span> e.<span class="hljs-property">emp_no</span> = s.<span class="hljs-property">emp_no</span>
<span class="hljs-variable constant_">GROUP</span> <span class="hljs-variable constant_">BY</span> e.<span class="hljs-property">gender</span>
<span class="hljs-variable constant_">ORDER</span> by asalary <span class="hljs-variable constant_">ASC</span>;

<span class="hljs-comment">// gender, avg salary, skew, std, variance</span>
F, <span class="hljs-number">63769.6032</span>, <span class="hljs-number">0.7757583639505996</span>, <span class="hljs-number">16844.89107702957</span>, <span class="hljs-number">283750105.9957</span>
M, <span class="hljs-number">63838.1769</span>, <span class="hljs-number">0.7793202853331737</span>, <span class="hljs-number">16944.629259215217</span>, <span class="hljs-number">287120292.4635</span>
</code></pre>
<div class="content-ad"></div>
<h2>중앙값</h2>
<p>중앙값은 데이터 세트의 정확히 중간에 있는 값으로, 데이터 샘플의 상위 절반과 하위 절반을 분리합니다.</p>
<p>이는 값의 50%가 중앙값보다 작거나 같고, 50%가 더 크거나 같음을 의미합니다. 널(Null) 값은 무시됩니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">MEDIAN</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'median'</span> <span class="hljs-variable constant_">FROM</span> salaries s;
</code></pre>
<div class="content-ad"></div>
<p>위의 SQL 쿼리는 모든 직원의 중앙급여를 제공합니다.</p>
<h2>지니 계수</h2>
<p>지니 계수는 통계적 분산 또는 불평등 분포의 측정치입니다. 0은 모든 값이 동일함을 나타내며; 1은 하나를 제외한 모든 값이 0임을 나타냅니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">GINI</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'gini coefficients'</span> <span class="hljs-variable constant_">FROM</span> salaries s; <span class="hljs-comment">// 0.14754749176775583</span>

<span class="hljs-variable constant_">SELECT</span> <span class="hljs-title function_">gini</span>(g.<span class="hljs-property">asalary</span>)
<span class="hljs-title function_">FROM</span>(
  <span class="hljs-variable constant_">SELECT</span> 
    e.<span class="hljs-property">gender</span>,
    <span class="hljs-title function_">AVG</span>(s.<span class="hljs-property">salary</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'asalary'</span>
  <span class="hljs-variable constant_">FROM</span> employees e <span class="hljs-variable constant_">INNER</span> <span class="hljs-variable constant_">JOIN</span> salaries s <span class="hljs-variable constant_">ON</span> e.<span class="hljs-property">emp_no</span> = s.<span class="hljs-property">emp_no</span>
  <span class="hljs-variable constant_">GROUP</span> <span class="hljs-variable constant_">BY</span> e.<span class="hljs-property">gender</span>
  <span class="hljs-variable constant_">ORDER</span> by asalary <span class="hljs-variable constant_">ASC</span>
) <span class="hljs-keyword">as</span> g; <span class="hljs-comment">// 0.00026868933832358</span>
</code></pre>
<div class="content-ad"></div>
<p>위의 SQL 쿼리들은 개인 급여에서 작은 불일치(0.1475)를 보여줍니다. 그러나 평균 성별별 급여에서는 동등함(0.0003)을 나타냅니다.</p>
<h1>두 변수의 통계적 관계</h1>
<p>다음으로, 우리는 두 변수 x와 y 간의 통계적 관계를 살펴봅니다.</p>
<h2>상관관계</h2>
<div class="content-ad"></div>
<p>통계 확장 기능은 두 변수 간의 선형 상관 관계를 측정하는 피어슨 상관 계수(corr(x,y [,w]))를 제공합니다. 이 계수는 다음과 같이 계산됩니다:</p>
<p><img src="https://miro.medium.com/v2/resize:fit:924/1*xi9Wpe-uaMa_vZtSOvR-fQ.gif" alt="이미지"></p>
<p>결과값은 -1과 1 사이의 숫자로, 관계의 강도와 방향을 나타냅니다:</p>
<ul>
<li>-1부터 0 사이: 음의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수는 반대 방향으로 변화합니다.</li>
<li>0: 상관 관계 없음, 즉 이러한 변수 간에는 관계가 없습니다.</li>
<li>0부터 1 사이: 양의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수도 동일한 방향으로 변화합니다.</li>
</ul>
<div class="content-ad"></div>
<p>우리 데이터 세트에서는 나이와 연봉 간의 상관 관계가 있는지 알아보려고 합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span>
 <span class="hljs-title function_">corr</span>(m.<span class="hljs-property">start_year</span> - m.<span class="hljs-property">birth_year</span>,m.<span class="hljs-property">salary</span>)
<span class="hljs-variable constant_">FROM</span>
(
    <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-title function_">YEAR</span>(e.<span class="hljs-property">birth_date</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'birth_year'</span>,
        <span class="hljs-title function_">YEAR</span>(s.<span class="hljs-property">from_date</span>) <span class="hljs-keyword">as</span> <span class="hljs-string">'start_year'</span>,
        s.<span class="hljs-property">salary</span> <span class="hljs-keyword">as</span> <span class="hljs-string">'salary'</span>
    <span class="hljs-variable constant_">FROM</span> employees e <span class="hljs-variable constant_">INNER</span> <span class="hljs-variable constant_">JOIN</span> salaries s <span class="hljs-variable constant_">ON</span> e.<span class="hljs-property">emp_no</span> = s.<span class="hljs-property">emp_no</span>
) <span class="hljs-keyword">as</span> m; <span class="hljs-comment">// 0.20731856518839656</span>
</code></pre>
<p>우리가 볼 수 있듯이, 나이와 연봉 간에 매우 약간의 (무시해도 될 정도의) 양의 상관 관계(0.207)가 있습니다.</p>
<h1>순위</h1>
<div class="content-ad"></div>
<p>순위 매기기는 숫자 또는 서수 값이 데이터가 정렬될 때 해당 순위로 대체되는 데이터 변환입니다.</p>
<p>이 함수 <code>rownumber()</code>를 사용하여 순위 목록을 만들 수 있습니다.</p>
<h2>행 번호</h2>
<p>그러나 첫 번째 예제에서는 함수가 전체 데이터 세트의 행 번호를 반환합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span> 
  rownumber() <span class="hljs-keyword">AS</span> rowNo,
  e.first_name,
  e.last_name,
  e.gender,
  s.salary
<span class="hljs-keyword">FROM</span> employees e <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> salaries s <span class="hljs-keyword">ON</span> e.emp_no <span class="hljs-operator">=</span> s.emp_no
<span class="hljs-keyword">WHERE</span> s.to_date <span class="hljs-operator">></span> NOW()
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">by</span> s.salary <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
<p>두 번째 예제에서는 데이터 세트를 필터링하고 정렬한 후에 rownumber 함수를 사용하여 순위 목록을 만들 수 있습니다.</p>
<pre><code class="hljs language-sql"><span class="hljs-keyword">SELECT</span>
  rownumber() <span class="hljs-keyword">AS</span> rank,
  r.<span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span>
(
  <span class="hljs-keyword">SELECT</span>
      e.first_name,
      e.last_name,
      e.gender,
      s.salary
    <span class="hljs-keyword">FROM</span> employees e <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> salaries s <span class="hljs-keyword">ON</span> e.emp_no <span class="hljs-operator">=</span> s.emp_no
    <span class="hljs-keyword">WHERE</span> s.to_date <span class="hljs-operator">></span> NOW()
    <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">by</span> s.salary <span class="hljs-keyword">DESC</span>
    LIMIT <span class="hljs-number">10</span>
) <span class="hljs-keyword">as</span> r;


<span class="hljs-operator">/</span><span class="hljs-operator">/</span>rank,first_name,last_name,gender,salary
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">1</span>,Tokuyasu,Pesch,M,<span class="hljs-number">158220</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">2</span>,Honesty,Mukaidono,M,<span class="hljs-number">156286</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">3</span>,Xiahua,Whitcomb,M,<span class="hljs-number">155709</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">4</span>,Sanjai,Luders,M,<span class="hljs-number">155513</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">5</span>,Tsutomu,Alameldin,M,<span class="hljs-number">155190</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">6</span>,Willard,Baca,M,<span class="hljs-number">154459</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">7</span>,Lidong,Meriste,M,<span class="hljs-number">154376</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">8</span>,Charmane,Griswold,M,<span class="hljs-number">153715</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">9</span>,Weijing,Chenoweth,F,<span class="hljs-number">152710</span>
<span class="hljs-operator">/</span><span class="hljs-operator">/</span><span class="hljs-number">10</span>,Weicheng,Hatcliff,F,<span class="hljs-number">152687</span>
</code></pre>
<p>위의 SQL 쿼리는 현재 상위 10명의 최고 수입자를 제공합니다 (salaries 테이블의 to_date가 현재 유효한 급여인 경우 MAX입니다).</p>
<div class="content-ad"></div>
<h1>결론</h1>
<p>이 글에서는 MySQL 데이터베이스에서 통계 확장을 사용하여 고급 데이터 분석을 수행하는 방법을 소개했습니다.</p>
<p>이러한 함수들(물론 MySQL의 내장 함수 포함)을 사용하면 대규모 데이터셋의 심층적인 통찰을 효율적으로 얻을 수 있습니다. 그리고 추후 글에서 설명할 통계/머신 러닝 도구로 내보내기하기 전에 대규모 데이터셋에 대한 내용을 얻을 수 있습니다.</p>
<p>저희의 기술 뉴스레터를 구독하세요(Spring Boot, 웹 에이전시, SaaS 앱, 코스), 그리고 다른 열정적인 코더들과 함께 커뮤니티에 참여하세요.</p>
<div class="content-ad"></div>
<p>행복한 독서, 행복한 코딩!</p>
<p>더 많은 소식을 받으려면 thebootcode.io에서 Coders를 팔로우하세요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"MySQL에서의 고급 데이터 분석 통계 함수","description":"","date":"2024-06-20 15:57","slug":"2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions","content":"\n\n\n![Advanced Data Analysis in MySQL - Statistical Functions 0](/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png)\n\n![Advanced Data Analysis in MySQL - Statistical Functions 1](/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_1.png)\n\n각 데이터 세트의 분석 중요한 부분은 통계 속성을 분석하는 것입니다. 특히 기계 학습에 사용하려면 데이터에 대한 적절한 통찰력을 갖고 사전 처리 및 특성 추출을 수행해야 합니다.\n\n데이터베이스에 대규모 데이터 집합이 있는 경우 데이터베이스에서 이러한 분석을 직접 실행하는 것이 도움이 됩니다.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그러나 일부 데이터베이스의 내장 통계 함수는 매우 포괄적이지 않을 수 있습니다. MySQL 데이터베이스도 그러한 경우 중 하나입니다.\n\n본 기사에서는 MySQL 인스턴스에 더 고급 통계 함수를 가져오고 대규모 데이터를 분석하는 방법을 안내해 드리겠습니다.\n\n# 준비 사항\n\n통계와 SQL 쿼리 언어에 대한 기본적인 이해가 있다고 가정합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## MySQL 인스턴스 + 샘플 데이터 세트\n\n또한 MySQL 데이터베이스의 실행 중인 인스턴스가 설치되어 특권 사용자가 있는 상태로, MySQL 웹 사이트에서 '표준' 직원 샘플 데이터베이스를 가져와 샘플 데이터 세트로 가져오셨다고 가정합니다.\n\n그렇지 않은 경우, 먼저 다음 기사를 참고하시기 바랍니다: \"MySQL에서 데이터 분석을 위한 첫 걸음: 기본 함수\".\n\n이 기사에서 작업할 기존 데이터베이스 스키마는 다음과 같아야 합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_2.png)\n\nThe fields are mostly self-explanatory, but to be on the safe side, we list the descriptions of the non-obvious fields for the tables employees and salaries below:\n\n- employees.emp_no: The primary key of the employees table.\n- employees.hire_date: The hire date of the employee.\n- salaries.emp_no: The foreign key to the employees table.\n- salaries.salary: The salary paid in a given period.\n- salaries.from_date: The date from which the salary was paid.\n- salaries.to_date: The date by which the salary was paid.\n\n## Install the statistics extension\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nMySQL은 통계 함수가 제한적이기 때문에 고급 기능을 위한 '확장 프로그램'이 필요합니다. 이 기사에서는 다음과 같은 통계 함수를 사용합니다: Statistics for MySQL.\n\n이 확장 프로그램에는 Gini 계수, 중앙값, Mersenne Twister 난수 생성기, Pearson 상관 계수, 행 번호 및 왜도 등 여러 통계 함수가 포함되어 있습니다.\n\nWindows 사용자는 다음을 직접 다운로드하고(32비트 또는 64비트 맞춤 libsqlstat.dll을 MySQL 설치 디렉토리의 lib\\plugin 디렉토리로 복사하고) 루트 사용자로 확장 프로그램을 설치할 수 있습니다:\n\n```js\nmysql -u root -p -f \u003c examples\\install.sql\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nLinux 또는 MacOS 사용자는 INSTALL 파일의 지침을 따라 프로젝트를 컴파일해야 합니다.\n\n#의사 난수 생성\n\n통계 함수를 살펴보기 전에 무작위 숫자나 분포를 생성하는 방법에 대해 먼저 살펴보겠습니다.\n\n명확히 말하자면, 우리는 '통계적' 무작위성 또는 의사 난수성에 대해 이야기하고 있으며 이는 어떠한 인식 가능한 패턴이나 규칙성을 포함하지 않습니다. 많은 통계 사용 사례에 도움이 되며 충분합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그러나 이는 '진정한' 무작위성, 즉 객관적으로 예측할 수 없음을 의미하는 것은 아닙니다.\n\n## 간단한 난수\n\n다음 쿼리를 사용하여 Mersenne Twister 알고리즘(rand_mt)을 이용하여 0 이상의 임의의 숫자를 생성할 수 있습니다.\n\n```js\nSELECT rand_mt();\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n우리 샘플 데이터셋의 각 급여 항목에 대해 무작위 '가중치'를 생성하여 쇼케이스로 보여 드리겠습니다. 즉, 급여 테이블에 새 열을 추가하고 이 열에 대해 무작위 숫자를 생성합니다.\n\n```js\nALTER TABLE salaries ADD weight double;\n\nUPDATE salaries SET weight = rand_mt();\n```\n\n## 정규 분포의 변변량\n\n데이터 분석에 정규 분포가 필요한 경우 다음 쿼리로 변변량을 생성할 수 있습니다 (rand_norm([σ, [μ]])):\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nSELECT rand_norm(); // μ=0, σ=1\nSELECT rand_norm(0.3);// μ=0.3, σ=1\nSELECT rand_norm(0.3, 4);// μ=0.3, σ=0.4\n```\n\n평균 μ의 기본 값은 0이며, 표준 편차 σ의 기본 값은 1입니다.\n\n# 통계 함수\n\n이제 통계 함수로 넘어가 보겠습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 평균 또는 평균값\n\n평균 또는 산술평균(avg)은 시리즈의 모든 숫자의 합을 시리즈의 숫자 수로 나눈 값입니다.\n\n![이미지](https://miro.medium.com/v2/resize:fit:412/1*PIl3An_ZP3gWtqmAhO9S8g.gif)\n\n해당 SQL 쿼리는 다음과 같이 보이며 직원들의 평균 급여를 반환합니다:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n// 임금의 평균은 63,810.7448이에요.\n\n## 가중평균\n\n가중평균(avgw(x [,w]))은 시리즈에서 일부 데이터 포인트가 다른 것보다 더 많은 영향을 미치는 평균이에요.\n\n![이미지](https://miro.medium.com/v2/resize:fit:394/1*k4So1dgcswrkuOjlYUOfBQ.gif)\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n해당 SQL 쿼리는 다음과 같습니다. 직원들의 가중 평균 급여를 반환합니다 (임의의 가중치를 사용하여 보여주기 위한 것입니다):\n\n```js\nSELECT AVG(s.salary * s.weight) AS 'weighted mean' FROM salaries s;\n```\n\n## 분산과 표준편차\n\nMySQL은 데이터 샘플의 분산 (variance) 및 표준편차 (std)를 계산하기 위한 내장 함수를 제공합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nSELECT \n  VARIANCE(salary) as '분산',\n  STD(salary) as '표준편차'\nFROM salaries;\n```\n\n분산은 데이터 세트 내 숫자 사이의 차이를 측정하는 통계적 측정 값이며, 평균 값으로부터 제곱 차이의 평균으로 정의되며 아래와 같이 계산됩니다:\n\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:500/1*2x2aLPiAXX_Hz7zNAxE7hA.gif\" /\u003e\n\n분산 함수는 var_pop()의 동의어로, 특정 열의 모든 필드의 모평균 분산을 계산합니다. 반면에 var_samp()는 표본 분산을 계산합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n표 태그를 Markdown 형식으로 변경하면 됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nSELECT skewness_pop(s.salary) as 'skew1' FROM salaries s;\nSELECT skewness_pop(s.salary, s.weight) as 'skew2' FROM salaries s;\n\nSELECT skewness_samp(s.salary) as 'skew3' FROM salaries s;\nSELECT skewness_samp(s.salary, s.weight) as 'skew4' FROM salaries s;\n```\n\n만약 두 번째 매개변수가 지정되지 않은 경우 가중치는 1로 설정됩니다 (즉, 동일하게 가중치가 적용됨).\n\n마지막 예제로, 성별로 그룹화된 평균 급여를 계산하고 데이터 샘플의 모든 관련 통계 속성을 함께 표시합니다.\n\n```js\nSELECT \n  e.gender,\n  AVG(s.salary) as '평균 급여',\n  skewness_samp(s.salary) as '왜도',\n  stddevw_samp(s.salary) as '표준편차',\n  var_samp(s.salary) as '분산'\nFROM employees e INNER JOIN salaries s ON e.emp_no = s.emp_no\nGROUP BY e.gender\nORDER by asalary ASC;\n\n// gender, avg salary, skew, std, variance\nF, 63769.6032, 0.7757583639505996, 16844.89107702957, 283750105.9957\nM, 63838.1769, 0.7793202853331737, 16944.629259215217, 287120292.4635\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 중앙값\n\n중앙값은 데이터 세트의 정확히 중간에 있는 값으로, 데이터 샘플의 상위 절반과 하위 절반을 분리합니다.\n\n이는 값의 50%가 중앙값보다 작거나 같고, 50%가 더 크거나 같음을 의미합니다. 널(Null) 값은 무시됩니다.\n\n```js\nSELECT MEDIAN(s.salary) as 'median' FROM salaries s;\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 SQL 쿼리는 모든 직원의 중앙급여를 제공합니다.\n\n## 지니 계수\n\n지니 계수는 통계적 분산 또는 불평등 분포의 측정치입니다. 0은 모든 값이 동일함을 나타내며; 1은 하나를 제외한 모든 값이 0임을 나타냅니다.\n\n```js\nSELECT GINI(s.salary) as 'gini coefficients' FROM salaries s; // 0.14754749176775583\n\nSELECT gini(g.asalary)\nFROM(\n  SELECT \n    e.gender,\n    AVG(s.salary) as 'asalary'\n  FROM employees e INNER JOIN salaries s ON e.emp_no = s.emp_no\n  GROUP BY e.gender\n  ORDER by asalary ASC\n) as g; // 0.00026868933832358\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 SQL 쿼리들은 개인 급여에서 작은 불일치(0.1475)를 보여줍니다. 그러나 평균 성별별 급여에서는 동등함(0.0003)을 나타냅니다.\n\n# 두 변수의 통계적 관계\n\n다음으로, 우리는 두 변수 x와 y 간의 통계적 관계를 살펴봅니다.\n\n## 상관관계\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n통계 확장 기능은 두 변수 간의 선형 상관 관계를 측정하는 피어슨 상관 계수(corr(x,y [,w]))를 제공합니다. 이 계수는 다음과 같이 계산됩니다:\n\n![이미지](https://miro.medium.com/v2/resize:fit:924/1*xi9Wpe-uaMa_vZtSOvR-fQ.gif)\n\n결과값은 -1과 1 사이의 숫자로, 관계의 강도와 방향을 나타냅니다:\n\n- -1부터 0 사이: 음의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수는 반대 방향으로 변화합니다.\n- 0: 상관 관계 없음, 즉 이러한 변수 간에는 관계가 없습니다.\n- 0부터 1 사이: 양의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수도 동일한 방향으로 변화합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n우리 데이터 세트에서는 나이와 연봉 간의 상관 관계가 있는지 알아보려고 합니다.\n\n```js\nSELECT\n corr(m.start_year - m.birth_year,m.salary)\nFROM\n(\n    SELECT\n        YEAR(e.birth_date) as 'birth_year',\n        YEAR(s.from_date) as 'start_year',\n        s.salary as 'salary'\n    FROM employees e INNER JOIN salaries s ON e.emp_no = s.emp_no\n) as m; // 0.20731856518839656\n```\n\n우리가 볼 수 있듯이, 나이와 연봉 간에 매우 약간의 (무시해도 될 정도의) 양의 상관 관계(0.207)가 있습니다.\n\n# 순위\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n순위 매기기는 숫자 또는 서수 값이 데이터가 정렬될 때 해당 순위로 대체되는 데이터 변환입니다.\n\n이 함수 `rownumber()`를 사용하여 순위 목록을 만들 수 있습니다.\n\n## 행 번호\n\n그러나 첫 번째 예제에서는 함수가 전체 데이터 세트의 행 번호를 반환합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```sql\nSELECT \n  rownumber() AS rowNo,\n  e.first_name,\n  e.last_name,\n  e.gender,\n  s.salary\nFROM employees e INNER JOIN salaries s ON e.emp_no = s.emp_no\nWHERE s.to_date \u003e NOW()\nORDER by s.salary DESC\nLIMIT 10;\n```\n\n두 번째 예제에서는 데이터 세트를 필터링하고 정렬한 후에 rownumber 함수를 사용하여 순위 목록을 만들 수 있습니다.\n\n```sql\nSELECT\n  rownumber() AS rank,\n  r.*\nFROM\n(\n  SELECT\n      e.first_name,\n      e.last_name,\n      e.gender,\n      s.salary\n    FROM employees e INNER JOIN salaries s ON e.emp_no = s.emp_no\n    WHERE s.to_date \u003e NOW()\n    ORDER by s.salary DESC\n    LIMIT 10\n) as r;\n\n\n//rank,first_name,last_name,gender,salary\n//1,Tokuyasu,Pesch,M,158220\n//2,Honesty,Mukaidono,M,156286\n//3,Xiahua,Whitcomb,M,155709\n//4,Sanjai,Luders,M,155513\n//5,Tsutomu,Alameldin,M,155190\n//6,Willard,Baca,M,154459\n//7,Lidong,Meriste,M,154376\n//8,Charmane,Griswold,M,153715\n//9,Weijing,Chenoweth,F,152710\n//10,Weicheng,Hatcliff,F,152687\n```\n\n위의 SQL 쿼리는 현재 상위 10명의 최고 수입자를 제공합니다 (salaries 테이블의 to_date가 현재 유효한 급여인 경우 MAX입니다).\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 결론\n\n이 글에서는 MySQL 데이터베이스에서 통계 확장을 사용하여 고급 데이터 분석을 수행하는 방법을 소개했습니다.\n\n이러한 함수들(물론 MySQL의 내장 함수 포함)을 사용하면 대규모 데이터셋의 심층적인 통찰을 효율적으로 얻을 수 있습니다. 그리고 추후 글에서 설명할 통계/머신 러닝 도구로 내보내기하기 전에 대규모 데이터셋에 대한 내용을 얻을 수 있습니다.\n\n저희의 기술 뉴스레터를 구독하세요(Spring Boot, 웹 에이전시, SaaS 앱, 코스), 그리고 다른 열정적인 코더들과 함께 커뮤니티에 참여하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n행복한 독서, 행복한 코딩!\n\n더 많은 소식을 받으려면 thebootcode.io에서 Coders를 팔로우하세요.","ogImage":{"url":"/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png"},"coverImage":"/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png","tag":["Tech"],"readingTime":9},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_0.png\" alt=\"Advanced Data Analysis in MySQL - Statistical Functions 0\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_1.png\" alt=\"Advanced Data Analysis in MySQL - Statistical Functions 1\"\u003e\u003c/p\u003e\n\u003cp\u003e각 데이터 세트의 분석 중요한 부분은 통계 속성을 분석하는 것입니다. 특히 기계 학습에 사용하려면 데이터에 대한 적절한 통찰력을 갖고 사전 처리 및 특성 추출을 수행해야 합니다.\u003c/p\u003e\n\u003cp\u003e데이터베이스에 대규모 데이터 집합이 있는 경우 데이터베이스에서 이러한 분석을 직접 실행하는 것이 도움이 됩니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그러나 일부 데이터베이스의 내장 통계 함수는 매우 포괄적이지 않을 수 있습니다. MySQL 데이터베이스도 그러한 경우 중 하나입니다.\u003c/p\u003e\n\u003cp\u003e본 기사에서는 MySQL 인스턴스에 더 고급 통계 함수를 가져오고 대규모 데이터를 분석하는 방법을 안내해 드리겠습니다.\u003c/p\u003e\n\u003ch1\u003e준비 사항\u003c/h1\u003e\n\u003cp\u003e통계와 SQL 쿼리 언어에 대한 기본적인 이해가 있다고 가정합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eMySQL 인스턴스 + 샘플 데이터 세트\u003c/h2\u003e\n\u003cp\u003e또한 MySQL 데이터베이스의 실행 중인 인스턴스가 설치되어 특권 사용자가 있는 상태로, MySQL 웹 사이트에서 '표준' 직원 샘플 데이터베이스를 가져와 샘플 데이터 세트로 가져오셨다고 가정합니다.\u003c/p\u003e\n\u003cp\u003e그렇지 않은 경우, 먼저 다음 기사를 참고하시기 바랍니다: \"MySQL에서 데이터 분석을 위한 첫 걸음: 기본 함수\".\u003c/p\u003e\n\u003cp\u003e이 기사에서 작업할 기존 데이터베이스 스키마는 다음과 같아야 합니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions_2.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003cp\u003eThe fields are mostly self-explanatory, but to be on the safe side, we list the descriptions of the non-obvious fields for the tables employees and salaries below:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eemployees.emp_no: The primary key of the employees table.\u003c/li\u003e\n\u003cli\u003eemployees.hire_date: The hire date of the employee.\u003c/li\u003e\n\u003cli\u003esalaries.emp_no: The foreign key to the employees table.\u003c/li\u003e\n\u003cli\u003esalaries.salary: The salary paid in a given period.\u003c/li\u003e\n\u003cli\u003esalaries.from_date: The date from which the salary was paid.\u003c/li\u003e\n\u003cli\u003esalaries.to_date: The date by which the salary was paid.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eInstall the statistics extension\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eMySQL은 통계 함수가 제한적이기 때문에 고급 기능을 위한 '확장 프로그램'이 필요합니다. 이 기사에서는 다음과 같은 통계 함수를 사용합니다: Statistics for MySQL.\u003c/p\u003e\n\u003cp\u003e이 확장 프로그램에는 Gini 계수, 중앙값, Mersenne Twister 난수 생성기, Pearson 상관 계수, 행 번호 및 왜도 등 여러 통계 함수가 포함되어 있습니다.\u003c/p\u003e\n\u003cp\u003eWindows 사용자는 다음을 직접 다운로드하고(32비트 또는 64비트 맞춤 libsqlstat.dll을 MySQL 설치 디렉토리의 lib\\plugin 디렉토리로 복사하고) 루트 사용자로 확장 프로그램을 설치할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003emysql -u root -p -f \u0026#x3C; examples\\install.\u003cspan class=\"hljs-property\"\u003esql\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eLinux 또는 MacOS 사용자는 INSTALL 파일의 지침을 따라 프로젝트를 컴파일해야 합니다.\u003c/p\u003e\n\u003cp\u003e#의사 난수 생성\u003c/p\u003e\n\u003cp\u003e통계 함수를 살펴보기 전에 무작위 숫자나 분포를 생성하는 방법에 대해 먼저 살펴보겠습니다.\u003c/p\u003e\n\u003cp\u003e명확히 말하자면, 우리는 '통계적' 무작위성 또는 의사 난수성에 대해 이야기하고 있으며 이는 어떠한 인식 가능한 패턴이나 규칙성을 포함하지 않습니다. 많은 통계 사용 사례에 도움이 되며 충분합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그러나 이는 '진정한' 무작위성, 즉 객관적으로 예측할 수 없음을 의미하는 것은 아닙니다.\u003c/p\u003e\n\u003ch2\u003e간단한 난수\u003c/h2\u003e\n\u003cp\u003e다음 쿼리를 사용하여 Mersenne Twister 알고리즘(rand_mt)을 이용하여 0 이상의 임의의 숫자를 생성할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erand_mt\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e우리 샘플 데이터셋의 각 급여 항목에 대해 무작위 '가중치'를 생성하여 쇼케이스로 보여 드리겠습니다. 즉, 급여 테이블에 새 열을 추가하고 이 열에 대해 무작위 숫자를 생성합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eALTER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eTABLE\u003c/span\u003e salaries \u003cspan class=\"hljs-variable constant_\"\u003eADD\u003c/span\u003e weight double;\n\n\u003cspan class=\"hljs-variable constant_\"\u003eUPDATE\u003c/span\u003e salaries \u003cspan class=\"hljs-variable constant_\"\u003eSET\u003c/span\u003e weight = \u003cspan class=\"hljs-title function_\"\u003erand_mt\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e정규 분포의 변변량\u003c/h2\u003e\n\u003cp\u003e데이터 분석에 정규 분포가 필요한 경우 다음 쿼리로 변변량을 생성할 수 있습니다 (rand_norm([σ, [μ]])):\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erand_norm\u003c/span\u003e(); \u003cspan class=\"hljs-comment\"\u003e// μ=0, σ=1\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erand_norm\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0.3\u003c/span\u003e);\u003cspan class=\"hljs-comment\"\u003e// μ=0.3, σ=1\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erand_norm\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e0.3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\u003cspan class=\"hljs-comment\"\u003e// μ=0.3, σ=0.4\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e평균 μ의 기본 값은 0이며, 표준 편차 σ의 기본 값은 1입니다.\u003c/p\u003e\n\u003ch1\u003e통계 함수\u003c/h1\u003e\n\u003cp\u003e이제 통계 함수로 넘어가 보겠습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e평균 또는 평균값\u003c/h2\u003e\n\u003cp\u003e평균 또는 산술평균(avg)은 시리즈의 모든 숫자의 합을 시리즈의 숫자 수로 나눈 값입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:412/1*PIl3An_ZP3gWtqmAhO9S8g.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e해당 SQL 쿼리는 다음과 같이 보이며 직원들의 평균 급여를 반환합니다:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 임금의 평균은 63,810.7448이에요.\u003c/span\u003e\n\n## 가중평균\n\n가중평균(\u003cspan class=\"hljs-title function_\"\u003eavgw\u003c/span\u003e(x [,w]))은 시리즈에서 일부 데이터 포인트가 다른 것보다 더 많은 영향을 미치는 평균이에요.\n\n![이미지](\u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//miro.medium.com/v2/resize:fit:394/1*k4So1dgcswrkuOjlYUOfBQ.gif)\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e해당 SQL 쿼리는 다음과 같습니다. 직원들의 가중 평균 급여를 반환합니다 (임의의 가중치를 사용하여 보여주기 위한 것입니다):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eAVG\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e * s.\u003cspan class=\"hljs-property\"\u003eweight\u003c/span\u003e) \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'weighted mean'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e분산과 표준편차\u003c/h2\u003e\n\u003cp\u003eMySQL은 데이터 샘플의 분산 (variance) 및 표준편차 (std)를 계산하기 위한 내장 함수를 제공합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \n  \u003cspan class=\"hljs-title function_\"\u003eVARIANCE\u003c/span\u003e(salary) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'분산'\u003c/span\u003e,\n  \u003cspan class=\"hljs-title function_\"\u003eSTD\u003c/span\u003e(salary) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'표준편차'\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e분산은 데이터 세트 내 숫자 사이의 차이를 측정하는 통계적 측정 값이며, 평균 값으로부터 제곱 차이의 평균으로 정의되며 아래와 같이 계산됩니다:\u003c/p\u003e\n\u003cimg src=\"https://miro.medium.com/v2/resize:fit:500/1*2x2aLPiAXX_Hz7zNAxE7hA.gif\"\u003e\n\u003cp\u003e분산 함수는 var_pop()의 동의어로, 특정 열의 모든 필드의 모평균 분산을 계산합니다. 반면에 var_samp()는 표본 분산을 계산합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e표 태그를 Markdown 형식으로 변경하면 됩니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eskewness_pop\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'skew1'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eskewness_pop\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e, s.\u003cspan class=\"hljs-property\"\u003eweight\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'skew2'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eskewness_samp\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'skew3'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eskewness_samp\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e, s.\u003cspan class=\"hljs-property\"\u003eweight\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'skew4'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e만약 두 번째 매개변수가 지정되지 않은 경우 가중치는 1로 설정됩니다 (즉, 동일하게 가중치가 적용됨).\u003c/p\u003e\n\u003cp\u003e마지막 예제로, 성별로 그룹화된 평균 급여를 계산하고 데이터 샘플의 모든 관련 통계 속성을 함께 표시합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \n  e.\u003cspan class=\"hljs-property\"\u003egender\u003c/span\u003e,\n  \u003cspan class=\"hljs-title function_\"\u003eAVG\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'평균 급여'\u003c/span\u003e,\n  \u003cspan class=\"hljs-title function_\"\u003eskewness_samp\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'왜도'\u003c/span\u003e,\n  \u003cspan class=\"hljs-title function_\"\u003estddevw_samp\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'표준편차'\u003c/span\u003e,\n  \u003cspan class=\"hljs-title function_\"\u003evar_samp\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'분산'\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e employees e \u003cspan class=\"hljs-variable constant_\"\u003eINNER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e salaries s \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e e.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e = s.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eGROUP\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e e.\u003cspan class=\"hljs-property\"\u003egender\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eORDER\u003c/span\u003e by asalary \u003cspan class=\"hljs-variable constant_\"\u003eASC\u003c/span\u003e;\n\n\u003cspan class=\"hljs-comment\"\u003e// gender, avg salary, skew, std, variance\u003c/span\u003e\nF, \u003cspan class=\"hljs-number\"\u003e63769.6032\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0.7757583639505996\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e16844.89107702957\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e283750105.9957\u003c/span\u003e\nM, \u003cspan class=\"hljs-number\"\u003e63838.1769\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e0.7793202853331737\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e16944.629259215217\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e287120292.4635\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e중앙값\u003c/h2\u003e\n\u003cp\u003e중앙값은 데이터 세트의 정확히 중간에 있는 값으로, 데이터 샘플의 상위 절반과 하위 절반을 분리합니다.\u003c/p\u003e\n\u003cp\u003e이는 값의 50%가 중앙값보다 작거나 같고, 50%가 더 크거나 같음을 의미합니다. 널(Null) 값은 무시됩니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eMEDIAN\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'median'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위의 SQL 쿼리는 모든 직원의 중앙급여를 제공합니다.\u003c/p\u003e\n\u003ch2\u003e지니 계수\u003c/h2\u003e\n\u003cp\u003e지니 계수는 통계적 분산 또는 불평등 분포의 측정치입니다. 0은 모든 값이 동일함을 나타내며; 1은 하나를 제외한 모든 값이 0임을 나타냅니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eGINI\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'gini coefficients'\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e salaries s; \u003cspan class=\"hljs-comment\"\u003e// 0.14754749176775583\u003c/span\u003e\n\n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egini\u003c/span\u003e(g.\u003cspan class=\"hljs-property\"\u003easalary\u003c/span\u003e)\n\u003cspan class=\"hljs-title function_\"\u003eFROM\u003c/span\u003e(\n  \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e \n    e.\u003cspan class=\"hljs-property\"\u003egender\u003c/span\u003e,\n    \u003cspan class=\"hljs-title function_\"\u003eAVG\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'asalary'\u003c/span\u003e\n  \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e employees e \u003cspan class=\"hljs-variable constant_\"\u003eINNER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e salaries s \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e e.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e = s.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e\n  \u003cspan class=\"hljs-variable constant_\"\u003eGROUP\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e e.\u003cspan class=\"hljs-property\"\u003egender\u003c/span\u003e\n  \u003cspan class=\"hljs-variable constant_\"\u003eORDER\u003c/span\u003e by asalary \u003cspan class=\"hljs-variable constant_\"\u003eASC\u003c/span\u003e\n) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e g; \u003cspan class=\"hljs-comment\"\u003e// 0.00026868933832358\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위의 SQL 쿼리들은 개인 급여에서 작은 불일치(0.1475)를 보여줍니다. 그러나 평균 성별별 급여에서는 동등함(0.0003)을 나타냅니다.\u003c/p\u003e\n\u003ch1\u003e두 변수의 통계적 관계\u003c/h1\u003e\n\u003cp\u003e다음으로, 우리는 두 변수 x와 y 간의 통계적 관계를 살펴봅니다.\u003c/p\u003e\n\u003ch2\u003e상관관계\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e통계 확장 기능은 두 변수 간의 선형 상관 관계를 측정하는 피어슨 상관 계수(corr(x,y [,w]))를 제공합니다. 이 계수는 다음과 같이 계산됩니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:924/1*xi9Wpe-uaMa_vZtSOvR-fQ.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e결과값은 -1과 1 사이의 숫자로, 관계의 강도와 방향을 나타냅니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e-1부터 0 사이: 음의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수는 반대 방향으로 변화합니다.\u003c/li\u003e\n\u003cli\u003e0: 상관 관계 없음, 즉 이러한 변수 간에는 관계가 없습니다.\u003c/li\u003e\n\u003cli\u003e0부터 1 사이: 양의 상관 관계, 즉 하나의 변수가 변화할 때 다른 변수도 동일한 방향으로 변화합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e우리 데이터 세트에서는 나이와 연봉 간의 상관 관계가 있는지 알아보려고 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n \u003cspan class=\"hljs-title function_\"\u003ecorr\u003c/span\u003e(m.\u003cspan class=\"hljs-property\"\u003estart_year\u003c/span\u003e - m.\u003cspan class=\"hljs-property\"\u003ebirth_year\u003c/span\u003e,m.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e)\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n(\n    \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-title function_\"\u003eYEAR\u003c/span\u003e(e.\u003cspan class=\"hljs-property\"\u003ebirth_date\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'birth_year'\u003c/span\u003e,\n        \u003cspan class=\"hljs-title function_\"\u003eYEAR\u003c/span\u003e(s.\u003cspan class=\"hljs-property\"\u003efrom_date\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'start_year'\u003c/span\u003e,\n        s.\u003cspan class=\"hljs-property\"\u003esalary\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'salary'\u003c/span\u003e\n    \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e employees e \u003cspan class=\"hljs-variable constant_\"\u003eINNER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e salaries s \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e e.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e = s.\u003cspan class=\"hljs-property\"\u003eemp_no\u003c/span\u003e\n) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e m; \u003cspan class=\"hljs-comment\"\u003e// 0.20731856518839656\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e우리가 볼 수 있듯이, 나이와 연봉 간에 매우 약간의 (무시해도 될 정도의) 양의 상관 관계(0.207)가 있습니다.\u003c/p\u003e\n\u003ch1\u003e순위\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e순위 매기기는 숫자 또는 서수 값이 데이터가 정렬될 때 해당 순위로 대체되는 데이터 변환입니다.\u003c/p\u003e\n\u003cp\u003e이 함수 \u003ccode\u003erownumber()\u003c/code\u003e를 사용하여 순위 목록을 만들 수 있습니다.\u003c/p\u003e\n\u003ch2\u003e행 번호\u003c/h2\u003e\n\u003cp\u003e그러나 첫 번째 예제에서는 함수가 전체 데이터 세트의 행 번호를 반환합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e \n  rownumber() \u003cspan class=\"hljs-keyword\"\u003eAS\u003c/span\u003e rowNo,\n  e.first_name,\n  e.last_name,\n  e.gender,\n  s.salary\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e employees e \u003cspan class=\"hljs-keyword\"\u003eINNER\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eJOIN\u003c/span\u003e salaries s \u003cspan class=\"hljs-keyword\"\u003eON\u003c/span\u003e e.emp_no \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e s.emp_no\n\u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e s.to_date \u003cspan class=\"hljs-operator\"\u003e\u003e\u003c/span\u003e NOW()\n\u003cspan class=\"hljs-keyword\"\u003eORDER\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eby\u003c/span\u003e s.salary \u003cspan class=\"hljs-keyword\"\u003eDESC\u003c/span\u003e\nLIMIT \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e두 번째 예제에서는 데이터 세트를 필터링하고 정렬한 후에 rownumber 함수를 사용하여 순위 목록을 만들 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sql\"\u003e\u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e\n  rownumber() \u003cspan class=\"hljs-keyword\"\u003eAS\u003c/span\u003e rank,\n  r.\u003cspan class=\"hljs-operator\"\u003e*\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e\n(\n  \u003cspan class=\"hljs-keyword\"\u003eSELECT\u003c/span\u003e\n      e.first_name,\n      e.last_name,\n      e.gender,\n      s.salary\n    \u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e employees e \u003cspan class=\"hljs-keyword\"\u003eINNER\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eJOIN\u003c/span\u003e salaries s \u003cspan class=\"hljs-keyword\"\u003eON\u003c/span\u003e e.emp_no \u003cspan class=\"hljs-operator\"\u003e=\u003c/span\u003e s.emp_no\n    \u003cspan class=\"hljs-keyword\"\u003eWHERE\u003c/span\u003e s.to_date \u003cspan class=\"hljs-operator\"\u003e\u003e\u003c/span\u003e NOW()\n    \u003cspan class=\"hljs-keyword\"\u003eORDER\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eby\u003c/span\u003e s.salary \u003cspan class=\"hljs-keyword\"\u003eDESC\u003c/span\u003e\n    LIMIT \u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e\n) \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e r;\n\n\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003erank,first_name,last_name,gender,salary\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,Tokuyasu,Pesch,M,\u003cspan class=\"hljs-number\"\u003e158220\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,Honesty,Mukaidono,M,\u003cspan class=\"hljs-number\"\u003e156286\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,Xiahua,Whitcomb,M,\u003cspan class=\"hljs-number\"\u003e155709\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e,Sanjai,Luders,M,\u003cspan class=\"hljs-number\"\u003e155513\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e,Tsutomu,Alameldin,M,\u003cspan class=\"hljs-number\"\u003e155190\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e,Willard,Baca,M,\u003cspan class=\"hljs-number\"\u003e154459\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e,Lidong,Meriste,M,\u003cspan class=\"hljs-number\"\u003e154376\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e,Charmane,Griswold,M,\u003cspan class=\"hljs-number\"\u003e153715\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e9\u003c/span\u003e,Weijing,Chenoweth,F,\u003cspan class=\"hljs-number\"\u003e152710\u003c/span\u003e\n\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-operator\"\u003e/\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e10\u003c/span\u003e,Weicheng,Hatcliff,F,\u003cspan class=\"hljs-number\"\u003e152687\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e위의 SQL 쿼리는 현재 상위 10명의 최고 수입자를 제공합니다 (salaries 테이블의 to_date가 현재 유효한 급여인 경우 MAX입니다).\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003cp\u003e이 글에서는 MySQL 데이터베이스에서 통계 확장을 사용하여 고급 데이터 분석을 수행하는 방법을 소개했습니다.\u003c/p\u003e\n\u003cp\u003e이러한 함수들(물론 MySQL의 내장 함수 포함)을 사용하면 대규모 데이터셋의 심층적인 통찰을 효율적으로 얻을 수 있습니다. 그리고 추후 글에서 설명할 통계/머신 러닝 도구로 내보내기하기 전에 대규모 데이터셋에 대한 내용을 얻을 수 있습니다.\u003c/p\u003e\n\u003cp\u003e저희의 기술 뉴스레터를 구독하세요(Spring Boot, 웹 에이전시, SaaS 앱, 코스), 그리고 다른 열정적인 코더들과 함께 커뮤니티에 참여하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e행복한 독서, 행복한 코딩!\u003c/p\u003e\n\u003cp\u003e더 많은 소식을 받으려면 thebootcode.io에서 Coders를 팔로우하세요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-AdvancedDataAnalysisinMySQLStatisticalFunctions"},"buildId":"8coAiP0lmiEK5aH6nkQkj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>