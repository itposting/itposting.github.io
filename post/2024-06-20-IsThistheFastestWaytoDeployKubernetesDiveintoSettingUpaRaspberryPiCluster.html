<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다 | itposting" data-gatsby-head="true"/><meta property="og:title" content="가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster" data-gatsby-head="true"/><meta name="twitter:title" content="가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-20 17:38" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_buildManifest.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 20, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>최근에 라즈베리 파이 4 싱글보드 컴퓨터를 사용하여 쿠버네티스 클러스터를 빠르고 쉽게 부트스트랩 할 수 있는 솔루션을 발견했어요. 이 솔루션은 다른 베어 메탈 클러스터에도 훌륭하게 작동해요.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png" alt="이미지"></p>
<h1>문제점 - 왜 이것을 해야 할까요?</h1>
<p>쿠버네티스 클러스터를 설정하고 필요한 모든 단계를 수행하는 방법에 대한 이전 자습서를 확인할 수 있어요:</p>
<div class="content-ad"></div>
<p>k3sup를 사용하더라도 아직 시간이 많이 소요되고 오류가 발생하기 쉬운 것 같아요.</p>
<h1>더 나은 방법</h1>
<p>Talos-Linux 및 Kubernetes 및 Talos-Linux 커뮤니티의 놀라운 작업 덕분에 빠르고 쉬운 해결책을 얻을 수 있어요. (<a href="https://www.talos.dev/" rel="nofollow" target="_blank">https://www.talos.dev/</a>)</p>
<h2>Talos Linux이란?</h2>
<div class="content-ad"></div>
<p>태로스는 컨테이너를 최적화한 리눅스 배포판입니다. 쿠버네티스와 같은 분산 시스템을 위해 리눅스를 새롭게 상상해 만든 제품입니다. 실용성을 유지하면서 최대한 최소화된 디자인으로 제작되었습니다. 이러한 이유로 탈로스에는 몇 가지 고유한 기능들이 있습니다:</p>
<ul>
<li>변경할 수 없습니다</li>
<li>원자적입니다</li>
<li>일시적입니다</li>
<li>최소화되어 있습니다</li>
<li>기본적으로 보안이 설정되어 있습니다</li>
<li>단일 선언 구성 파일과 gRPC API를 통해 관리됩니다</li>
</ul>
<p>탈로스는 컨테이너, 클라우드, 가상화, 그리고 베어 메탈 플랫폼에 배포할 수 있습니다.</p>
<p>출처: <a href="https://www.talos.dev/v1.7/introduction/what-is-talos/" rel="nofollow" target="_blank">https://www.talos.dev/v1.7/introduction/what-is-talos/</a></p>
<div class="content-ad"></div>
<h2>왜 Talos Linux를 사용해야 할까요?</h2>
<p>주로 API를 통해 제어할 수 있는 Kubernetes용 운영 체제입니다.</p>
<ul>
<li>Kubernetes를 사용하려면 구성해야 할 우분투 또는 유사한 배포판을 사용할 필요가 없습니다. Talos는 오직 Kubernetes를 위해 만들어졌습니다!</li>
<li>Kubernetes 노드로 사용할 모든 장치는 Talos 이미지로 간편하게 로드됩니다.</li>
<li>부팅 과정 이후, 모든 장치는 유지 보수 모드에서 시작되어 추가 명령을 실행할 준비가 됩니다.</li>
<li>talosctl 도구를 사용하여 Kubernetes 클러스터의 각 개별 노드가 어떻게 동작해야 하는지 구성할 수 있습니다.</li>
<li>모든 노드에 SSH를 설정할 필요가 없습니다.</li>
<li>모든 노드에 k3s 또는 유사한 것을 설치할 필요가 없습니다.</li>
<li>제어 노드에서 토큰을 복사하고 작업자 노드를 설정하기 위해 초기화할 때 고려해야 하는 번거로움이 없습니다.</li>
<li>호스트 컴퓨터로 kubectl 파일을 복사해야 하는 걱정을 할 필요가 없습니다.</li>
</ul>
<h2>Talos-Bootstrap</h2>
<div class="content-ad"></div>
<p>Talos-Linux과 talosctl은 Kubernetes 클러스터 초기화를 매우 간단하게 만듭니다. Talos의 API 중심적인 특성으로 인해 다른 도구들은 이러한 API를 사용하여 초기화를 더욱 간단하게 할 수 있습니다.</p>
<p>aenix-io의 놀라운 팀에서 만든 도구인 talos-bootstrap이 있습니다.</p>
<p>우리는 이 도구를 사용하여 기록 시간 안에 Kubernetes를 설정할 것입니다.</p>
<h2>파이들을 준비하세요</h2>
<div class="content-ad"></div>
<p>아래 명령어를 사용하여 Talos 이미지를 다운로드하세요. (<a href="https://www.talos.dev/v1.7/talos-guides/install/single-board-computers/rpi_generic/#download-the-image" rel="nofollow" target="_blank">https://www.talos.dev/v1.7/talos-guides/install/single-board-computers/rpi_generic/#download-the-image</a>)</p>
<pre><code class="hljs language-bash">curl -LO https://factory.talos.dev/image/ee21ef4a5ef808a9b7484cc0dda0f25075021691c8c09a276591eedb638ea1f9/v1.7.0/metal-arm64.raw.xz
xz -d metal-arm64.raw.xz
</code></pre>
<p>라즈베리 파이 장치에 이미지를 플래싱하세요.</p>
<p>저는 Balena Etcher를 사용하고 있지만 별도의 플래시 도구를 사용할 수도 있습니다. 한 장치마다 요렇게 하세요.</p>
<div class="content-ad"></div>
<p>다운로드한 탈로스 이미지를 라즈베리 파이용으로 선택해주세요.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_1.png" alt="Talos Image 1"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_2.png" alt="Talos Image 2"></p>
<p>대상 드라이브를 선택하세요.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_3.png" alt="Image 3"></p>
<p>Finally flash the image</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_4.png" alt="Image 4"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_5.png" alt="Image 5"></p>
<div class="content-ad"></div>
<h2>Talos Tools 준비 사항</h2>
<p>먼저 talosctrl 도구를 설치해야 합니다.</p>
<pre><code class="hljs language-js">curl -sL <span class="hljs-attr">https</span>:<span class="hljs-comment">//talos.dev/install | sh</span>
</code></pre>
<p>다음 단계에서는 talos-bootstrap 도구를 설치하세요.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-bash">curl -LO https://github.com/aenix-io/talos-bootstrap/raw/master/talos-bootstrap
<span class="hljs-built_in">chmod</span> +x ./talos-bootstrap
sudo <span class="hljs-built_in">mv</span> ./talos-bootstrap /usr/local/bin/talos-bootstrap
</code></pre>
<h2>보너스</h2>
<p>전체 과정을 간편화하기 위해 개발 컨테이너 환경을 만들었습니다.</p>
<ul>
<li>devcontainers 확장 프로그램을 설치하세요 (<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers" rel="nofollow" target="_blank">https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers</a>).</li>
<li>위의 저장소를 복제하세요.</li>
<li>VSCode로 이 저장소를 열어보세요.</li>
</ul>
<div class="content-ad"></div>
<p>제 Macbook Pro M1에서 Orbstack을 Docker 런타임으로 사용하여 전체 프로세스를 테스트했어요. 그러나 MacOS와 Linux에서 다른 Docker 런타임을 사용해도 잘 작동해야 합니다.</p>
<h2>클러스터 부트스트랩</h2>
<p>클러스터를 부트스트랩하려면 다음 명령을 실행하세요:</p>
<pre><code class="hljs language-js">talos-bootstrap install
</code></pre>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_6.png" alt="Image"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_7.png" alt="Image"></p>
<p>After some time, the talos-bootstrap should find your Raspberry Pi nodes in talos maintenance mode. Select your first node:</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_8.png" alt="Image"></p>
<div class="content-ad"></div>
<p>그럼 역할을 선택할 수 있어요, 먼저 controlplane으로 시작할게요.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_9.png" alt="control node"></p>
<p>해당 control 노드에 대한 호스트명을 입력해주세요.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_10.png" alt="hostname"></p>
<div class="content-ad"></div>
<p>탈로스를 설치할 디스크를 선택해주세요:</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_11.png" alt="이미지"></p>
<p>저는 HDD와 USB 스틱이 연결되어 있습니다. 더 큰 240GB 디스크를 선택했습니다.</p>
<p>탈로스가 사용해야 할 네트워크 인터페이스를 선택해주세요:</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_12.png" alt="Node custom address"></p>
<p>Select a custom address for your node.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_13.png" alt="Gateway address"></p>
<p>Set your gateway address. In most cases, it's your router address.</p>
<div class="content-ad"></div>
<p>아래는 Markdown 형식으로 변경한 텍스트입니다.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_14.png" alt="이미지"></p>
<p>기본 DNS 서버를 선택하세요.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_15.png" alt="이미지"></p>
<p>다음 단계에서 클러스터에 대한 VIP(가상 공유 IP)를 선택할 수 있습니다.</p>
<div class="content-ad"></div>
<p>아래는 데모를 위해 두 개의 노드 클러스터를 설정한 주소입니다:</p>
<ul>
<li>192.168.2.81</li>
<li>192.168.2.82</li>
</ul>
<p>VIP 주소로 192.168.2.240를 선택했습니다. 또한 이는 DHCP 범위를 벗어난 곳에 있습니다.</p>
<div class="content-ad"></div>
<p>이것은 탈로스와 함께 제공되는 항목입니다. 아래와 같이 설명되어 있습니다.</p>
<p>원본</p>
<p>간단히 말해서, 클러스터 액세스를 위한 주소를 정의할 수 있습니다. 이는 실제 노드 주소와는 독립적입니다. 탈로스-리눅스의 매우 편리한 기능입니다.</p>
<p>Kubernetes 엔드포인트를 사용자 정의하십시오:</p>
<div class="content-ad"></div>
<p>아래와 같이 설정이 되었는지 확인해 주세요:</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_17.png" alt="Configuration 1"></p>
<p>다음 대화 상자에서 "예"를 선택해주세요.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_19.png" alt="image"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_20.png" alt="image"></p>
<p>다이얼로그를 완료하면 talos-boostrap을 실행하는 경로에 kubeconfig 파일이 생성됩니다.</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_21.png" alt="image"></p>
<div class="content-ad"></div>
<h2>테스트</h2>
<pre><code class="hljs language-js"><span class="hljs-keyword">export</span> <span class="hljs-variable constant_">KUBECONFIG</span>=./kubeconfig
kubectl get nodes
</code></pre>
<p>다음과 같이 출력됩니다:</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">NAME</span>          <span class="hljs-variable constant_">STATUS</span>   <span class="hljs-variable constant_">ROLES</span>           <span class="hljs-variable constant_">AGE</span>     <span class="hljs-variable constant_">VERSION</span>
k8s-control   <span class="hljs-title class_">Ready</span>    control-plane   4m55s   v1<span class="hljs-number">.30</span><span class="hljs-number">.1</span>
</code></pre>
<div class="content-ad"></div>
<p>컨트롤 플레인이 성공적으로 생성되었습니다!</p>
<h2>워커 노드</h2>
<p>워커 노드의 경우, 대부분의 경우 작업 노드 역할을 선택하는 것을 제외하고 대부분 동일한 단계가 수행됩니다:</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_22.png" alt="이미지"></p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_23.png" alt="image"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_24.png" alt="image"></p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_25.png" alt="image"></p>
<h2>Testing</h2>
<div class="content-ad"></div>
<p>워커 노드에 시간을 주고 다시 다음을 실행해보세요:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">export</span> <span class="hljs-variable constant_">KUBECONFIG</span>=./kubeconfig
kubectl get nodes
</code></pre>
<p>이렇게 하면 클러스터 내 양쪽 노드를 볼 수 있을 겁니다:</p>
<p><img src="/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_26.png" alt="노드 이미지"></p>
<div class="content-ad"></div>
<h1>요약</h1>
<p>지침을 읽어보면 모든 단계에 대해 설명이나 주석을 다 해 놓았기 때문에 클러스터 설정이 길어 보일 수 있지만, 제가 말하건대로 (모든 것이 순조롭게 진행된다면 🤞🏻) 5~10분 안에 설정이 완료됩니다. 🚀</p>
<p>이제 완전히 작동하는 클러스터를 갖추었으므로 인그레스, 스토리지, 인증서 또는 flux-cd와 같은 다른 유용한 구성 요소를 설치할 수 있습니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"가장 빠른 쿠버네티스 배포 방법일까요 라즈베리 파이 클러스터 구축에 대해 알아봅시다","description":"","date":"2024-06-20 17:38","slug":"2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster","content":"\n\n최근에 라즈베리 파이 4 싱글보드 컴퓨터를 사용하여 쿠버네티스 클러스터를 빠르고 쉽게 부트스트랩 할 수 있는 솔루션을 발견했어요. 이 솔루션은 다른 베어 메탈 클러스터에도 훌륭하게 작동해요.\n\n![이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png)\n\n# 문제점 - 왜 이것을 해야 할까요?\n\n쿠버네티스 클러스터를 설정하고 필요한 모든 단계를 수행하는 방법에 대한 이전 자습서를 확인할 수 있어요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nk3sup를 사용하더라도 아직 시간이 많이 소요되고 오류가 발생하기 쉬운 것 같아요.\n\n# 더 나은 방법\n\nTalos-Linux 및 Kubernetes 및 Talos-Linux 커뮤니티의 놀라운 작업 덕분에 빠르고 쉬운 해결책을 얻을 수 있어요. (https://www.talos.dev/)\n\n## Talos Linux이란?\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n태로스는 컨테이너를 최적화한 리눅스 배포판입니다. 쿠버네티스와 같은 분산 시스템을 위해 리눅스를 새롭게 상상해 만든 제품입니다. 실용성을 유지하면서 최대한 최소화된 디자인으로 제작되었습니다. 이러한 이유로 탈로스에는 몇 가지 고유한 기능들이 있습니다:\n\n- 변경할 수 없습니다\n- 원자적입니다\n- 일시적입니다\n- 최소화되어 있습니다\n- 기본적으로 보안이 설정되어 있습니다\n- 단일 선언 구성 파일과 gRPC API를 통해 관리됩니다\n\n탈로스는 컨테이너, 클라우드, 가상화, 그리고 베어 메탈 플랫폼에 배포할 수 있습니다.\n\n출처: https://www.talos.dev/v1.7/introduction/what-is-talos/\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 왜 Talos Linux를 사용해야 할까요?\n\n주로 API를 통해 제어할 수 있는 Kubernetes용 운영 체제입니다.\n\n- Kubernetes를 사용하려면 구성해야 할 우분투 또는 유사한 배포판을 사용할 필요가 없습니다. Talos는 오직 Kubernetes를 위해 만들어졌습니다!\n- Kubernetes 노드로 사용할 모든 장치는 Talos 이미지로 간편하게 로드됩니다.\n- 부팅 과정 이후, 모든 장치는 유지 보수 모드에서 시작되어 추가 명령을 실행할 준비가 됩니다.\n- talosctl 도구를 사용하여 Kubernetes 클러스터의 각 개별 노드가 어떻게 동작해야 하는지 구성할 수 있습니다.\n- 모든 노드에 SSH를 설정할 필요가 없습니다.\n- 모든 노드에 k3s 또는 유사한 것을 설치할 필요가 없습니다.\n- 제어 노드에서 토큰을 복사하고 작업자 노드를 설정하기 위해 초기화할 때 고려해야 하는 번거로움이 없습니다.\n- 호스트 컴퓨터로 kubectl 파일을 복사해야 하는 걱정을 할 필요가 없습니다.\n\n## Talos-Bootstrap\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nTalos-Linux과 talosctl은 Kubernetes 클러스터 초기화를 매우 간단하게 만듭니다. Talos의 API 중심적인 특성으로 인해 다른 도구들은 이러한 API를 사용하여 초기화를 더욱 간단하게 할 수 있습니다.\n\naenix-io의 놀라운 팀에서 만든 도구인 talos-bootstrap이 있습니다.\n\n우리는 이 도구를 사용하여 기록 시간 안에 Kubernetes를 설정할 것입니다.\n\n## 파이들을 준비하세요\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 명령어를 사용하여 Talos 이미지를 다운로드하세요. (https://www.talos.dev/v1.7/talos-guides/install/single-board-computers/rpi_generic/#download-the-image)\n\n```bash\ncurl -LO https://factory.talos.dev/image/ee21ef4a5ef808a9b7484cc0dda0f25075021691c8c09a276591eedb638ea1f9/v1.7.0/metal-arm64.raw.xz\nxz -d metal-arm64.raw.xz\n```\n\n라즈베리 파이 장치에 이미지를 플래싱하세요.\n\n저는 Balena Etcher를 사용하고 있지만 별도의 플래시 도구를 사용할 수도 있습니다. 한 장치마다 요렇게 하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다운로드한 탈로스 이미지를 라즈베리 파이용으로 선택해주세요.\n\n![Talos Image 1](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_1.png)\n\n![Talos Image 2](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_2.png)\n\n대상 드라이브를 선택하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image 3](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_3.png)\n\nFinally flash the image\n\n![Image 4](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_4.png)\n\n![Image 5](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_5.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## Talos Tools 준비 사항\n\n먼저 talosctrl 도구를 설치해야 합니다.\n\n```js\ncurl -sL https://talos.dev/install | sh\n```\n\n다음 단계에서는 talos-bootstrap 도구를 설치하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```bash\ncurl -LO https://github.com/aenix-io/talos-bootstrap/raw/master/talos-bootstrap\nchmod +x ./talos-bootstrap\nsudo mv ./talos-bootstrap /usr/local/bin/talos-bootstrap\n```\n\n## 보너스\n\n전체 과정을 간편화하기 위해 개발 컨테이너 환경을 만들었습니다.\n\n- devcontainers 확장 프로그램을 설치하세요 (https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers).\n- 위의 저장소를 복제하세요.\n- VSCode로 이 저장소를 열어보세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n제 Macbook Pro M1에서 Orbstack을 Docker 런타임으로 사용하여 전체 프로세스를 테스트했어요. 그러나 MacOS와 Linux에서 다른 Docker 런타임을 사용해도 잘 작동해야 합니다.\n\n## 클러스터 부트스트랩\n\n클러스터를 부트스트랩하려면 다음 명령을 실행하세요:\n\n```js\ntalos-bootstrap install\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_6.png)\n\n![Image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_7.png)\n\nAfter some time, the talos-bootstrap should find your Raspberry Pi nodes in talos maintenance mode. Select your first node:\n\n![Image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_8.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n그럼 역할을 선택할 수 있어요, 먼저 controlplane으로 시작할게요.\n\n![control node](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_9.png)\n\n해당 control 노드에 대한 호스트명을 입력해주세요.\n\n![hostname](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_10.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n탈로스를 설치할 디스크를 선택해주세요:\n\n![이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_11.png)\n\n저는 HDD와 USB 스틱이 연결되어 있습니다. 더 큰 240GB 디스크를 선택했습니다.\n\n탈로스가 사용해야 할 네트워크 인터페이스를 선택해주세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Node custom address](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_12.png)\n\nSelect a custom address for your node.\n\n![Gateway address](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_13.png)\n\nSet your gateway address. In most cases, it's your router address.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n아래는 Markdown 형식으로 변경한 텍스트입니다.\n\n![이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_14.png)\n\n기본 DNS 서버를 선택하세요.\n\n![이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_15.png)\n\n다음 단계에서 클러스터에 대한 VIP(가상 공유 IP)를 선택할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n아래는 데모를 위해 두 개의 노드 클러스터를 설정한 주소입니다:\n\n- 192.168.2.81\n- 192.168.2.82\n\nVIP 주소로 192.168.2.240를 선택했습니다. 또한 이는 DHCP 범위를 벗어난 곳에 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이것은 탈로스와 함께 제공되는 항목입니다. 아래와 같이 설명되어 있습니다.\n\n원본\n\n간단히 말해서, 클러스터 액세스를 위한 주소를 정의할 수 있습니다. 이는 실제 노드 주소와는 독립적입니다. 탈로스-리눅스의 매우 편리한 기능입니다.\n\nKubernetes 엔드포인트를 사용자 정의하십시오:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래와 같이 설정이 되었는지 확인해 주세요:\n\n![Configuration 1](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_17.png)\n\n다음 대화 상자에서 \"예\"를 선택해주세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_19.png)\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_20.png)\n\n다이얼로그를 완료하면 talos-boostrap을 실행하는 경로에 kubeconfig 파일이 생성됩니다.\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_21.png)\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 테스트\n\n```js\nexport KUBECONFIG=./kubeconfig\nkubectl get nodes\n```\n\n다음과 같이 출력됩니다:\n\n```js\nNAME          STATUS   ROLES           AGE     VERSION\nk8s-control   Ready    control-plane   4m55s   v1.30.1\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n컨트롤 플레인이 성공적으로 생성되었습니다!\n\n## 워커 노드\n\n워커 노드의 경우, 대부분의 경우 작업 노드 역할을 선택하는 것을 제외하고 대부분 동일한 단계가 수행됩니다:\n\n![이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_22.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_23.png)\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_24.png)\n\n![image](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_25.png)\n\n## Testing\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n워커 노드에 시간을 주고 다시 다음을 실행해보세요:\n\n```js\nexport KUBECONFIG=./kubeconfig\nkubectl get nodes\n```\n\n이렇게 하면 클러스터 내 양쪽 노드를 볼 수 있을 겁니다:\n\n![노드 이미지](/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_26.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 요약\n\n지침을 읽어보면 모든 단계에 대해 설명이나 주석을 다 해 놓았기 때문에 클러스터 설정이 길어 보일 수 있지만, 제가 말하건대로 (모든 것이 순조롭게 진행된다면 🤞🏻) 5~10분 안에 설정이 완료됩니다. 🚀\n\n이제 완전히 작동하는 클러스터를 갖추었으므로 인그레스, 스토리지, 인증서 또는 flux-cd와 같은 다른 유용한 구성 요소를 설치할 수 있습니다.","ogImage":{"url":"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png"},"coverImage":"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e최근에 라즈베리 파이 4 싱글보드 컴퓨터를 사용하여 쿠버네티스 클러스터를 빠르고 쉽게 부트스트랩 할 수 있는 솔루션을 발견했어요. 이 솔루션은 다른 베어 메탈 클러스터에도 훌륭하게 작동해요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_0.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e문제점 - 왜 이것을 해야 할까요?\u003c/h1\u003e\n\u003cp\u003e쿠버네티스 클러스터를 설정하고 필요한 모든 단계를 수행하는 방법에 대한 이전 자습서를 확인할 수 있어요:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003ek3sup를 사용하더라도 아직 시간이 많이 소요되고 오류가 발생하기 쉬운 것 같아요.\u003c/p\u003e\n\u003ch1\u003e더 나은 방법\u003c/h1\u003e\n\u003cp\u003eTalos-Linux 및 Kubernetes 및 Talos-Linux 커뮤니티의 놀라운 작업 덕분에 빠르고 쉬운 해결책을 얻을 수 있어요. (\u003ca href=\"https://www.talos.dev/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.talos.dev/\u003c/a\u003e)\u003c/p\u003e\n\u003ch2\u003eTalos Linux이란?\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e태로스는 컨테이너를 최적화한 리눅스 배포판입니다. 쿠버네티스와 같은 분산 시스템을 위해 리눅스를 새롭게 상상해 만든 제품입니다. 실용성을 유지하면서 최대한 최소화된 디자인으로 제작되었습니다. 이러한 이유로 탈로스에는 몇 가지 고유한 기능들이 있습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e변경할 수 없습니다\u003c/li\u003e\n\u003cli\u003e원자적입니다\u003c/li\u003e\n\u003cli\u003e일시적입니다\u003c/li\u003e\n\u003cli\u003e최소화되어 있습니다\u003c/li\u003e\n\u003cli\u003e기본적으로 보안이 설정되어 있습니다\u003c/li\u003e\n\u003cli\u003e단일 선언 구성 파일과 gRPC API를 통해 관리됩니다\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e탈로스는 컨테이너, 클라우드, 가상화, 그리고 베어 메탈 플랫폼에 배포할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e출처: \u003ca href=\"https://www.talos.dev/v1.7/introduction/what-is-talos/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.talos.dev/v1.7/introduction/what-is-talos/\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e왜 Talos Linux를 사용해야 할까요?\u003c/h2\u003e\n\u003cp\u003e주로 API를 통해 제어할 수 있는 Kubernetes용 운영 체제입니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eKubernetes를 사용하려면 구성해야 할 우분투 또는 유사한 배포판을 사용할 필요가 없습니다. Talos는 오직 Kubernetes를 위해 만들어졌습니다!\u003c/li\u003e\n\u003cli\u003eKubernetes 노드로 사용할 모든 장치는 Talos 이미지로 간편하게 로드됩니다.\u003c/li\u003e\n\u003cli\u003e부팅 과정 이후, 모든 장치는 유지 보수 모드에서 시작되어 추가 명령을 실행할 준비가 됩니다.\u003c/li\u003e\n\u003cli\u003etalosctl 도구를 사용하여 Kubernetes 클러스터의 각 개별 노드가 어떻게 동작해야 하는지 구성할 수 있습니다.\u003c/li\u003e\n\u003cli\u003e모든 노드에 SSH를 설정할 필요가 없습니다.\u003c/li\u003e\n\u003cli\u003e모든 노드에 k3s 또는 유사한 것을 설치할 필요가 없습니다.\u003c/li\u003e\n\u003cli\u003e제어 노드에서 토큰을 복사하고 작업자 노드를 설정하기 위해 초기화할 때 고려해야 하는 번거로움이 없습니다.\u003c/li\u003e\n\u003cli\u003e호스트 컴퓨터로 kubectl 파일을 복사해야 하는 걱정을 할 필요가 없습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eTalos-Bootstrap\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eTalos-Linux과 talosctl은 Kubernetes 클러스터 초기화를 매우 간단하게 만듭니다. Talos의 API 중심적인 특성으로 인해 다른 도구들은 이러한 API를 사용하여 초기화를 더욱 간단하게 할 수 있습니다.\u003c/p\u003e\n\u003cp\u003eaenix-io의 놀라운 팀에서 만든 도구인 talos-bootstrap이 있습니다.\u003c/p\u003e\n\u003cp\u003e우리는 이 도구를 사용하여 기록 시간 안에 Kubernetes를 설정할 것입니다.\u003c/p\u003e\n\u003ch2\u003e파이들을 준비하세요\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래 명령어를 사용하여 Talos 이미지를 다운로드하세요. (\u003ca href=\"https://www.talos.dev/v1.7/talos-guides/install/single-board-computers/rpi_generic/#download-the-image\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://www.talos.dev/v1.7/talos-guides/install/single-board-computers/rpi_generic/#download-the-image\u003c/a\u003e)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ecurl -LO https://factory.talos.dev/image/ee21ef4a5ef808a9b7484cc0dda0f25075021691c8c09a276591eedb638ea1f9/v1.7.0/metal-arm64.raw.xz\nxz -d metal-arm64.raw.xz\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e라즈베리 파이 장치에 이미지를 플래싱하세요.\u003c/p\u003e\n\u003cp\u003e저는 Balena Etcher를 사용하고 있지만 별도의 플래시 도구를 사용할 수도 있습니다. 한 장치마다 요렇게 하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다운로드한 탈로스 이미지를 라즈베리 파이용으로 선택해주세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_1.png\" alt=\"Talos Image 1\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_2.png\" alt=\"Talos Image 2\"\u003e\u003c/p\u003e\n\u003cp\u003e대상 드라이브를 선택하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_3.png\" alt=\"Image 3\"\u003e\u003c/p\u003e\n\u003cp\u003eFinally flash the image\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_4.png\" alt=\"Image 4\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_5.png\" alt=\"Image 5\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003eTalos Tools 준비 사항\u003c/h2\u003e\n\u003cp\u003e먼저 talosctrl 도구를 설치해야 합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ecurl -sL \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//talos.dev/install | sh\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e다음 단계에서는 talos-bootstrap 도구를 설치하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ecurl -LO https://github.com/aenix-io/talos-bootstrap/raw/master/talos-bootstrap\n\u003cspan class=\"hljs-built_in\"\u003echmod\u003c/span\u003e +x ./talos-bootstrap\nsudo \u003cspan class=\"hljs-built_in\"\u003emv\u003c/span\u003e ./talos-bootstrap /usr/local/bin/talos-bootstrap\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e보너스\u003c/h2\u003e\n\u003cp\u003e전체 과정을 간편화하기 위해 개발 컨테이너 환경을 만들었습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edevcontainers 확장 프로그램을 설치하세요 (\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers\u003c/a\u003e).\u003c/li\u003e\n\u003cli\u003e위의 저장소를 복제하세요.\u003c/li\u003e\n\u003cli\u003eVSCode로 이 저장소를 열어보세요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e제 Macbook Pro M1에서 Orbstack을 Docker 런타임으로 사용하여 전체 프로세스를 테스트했어요. 그러나 MacOS와 Linux에서 다른 Docker 런타임을 사용해도 잘 작동해야 합니다.\u003c/p\u003e\n\u003ch2\u003e클러스터 부트스트랩\u003c/h2\u003e\n\u003cp\u003e클러스터를 부트스트랩하려면 다음 명령을 실행하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003etalos-bootstrap install\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_6.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_7.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003cp\u003eAfter some time, the talos-bootstrap should find your Raspberry Pi nodes in talos maintenance mode. Select your first node:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_8.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e그럼 역할을 선택할 수 있어요, 먼저 controlplane으로 시작할게요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_9.png\" alt=\"control node\"\u003e\u003c/p\u003e\n\u003cp\u003e해당 control 노드에 대한 호스트명을 입력해주세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_10.png\" alt=\"hostname\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e탈로스를 설치할 디스크를 선택해주세요:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_11.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e저는 HDD와 USB 스틱이 연결되어 있습니다. 더 큰 240GB 디스크를 선택했습니다.\u003c/p\u003e\n\u003cp\u003e탈로스가 사용해야 할 네트워크 인터페이스를 선택해주세요:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_12.png\" alt=\"Node custom address\"\u003e\u003c/p\u003e\n\u003cp\u003eSelect a custom address for your node.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_13.png\" alt=\"Gateway address\"\u003e\u003c/p\u003e\n\u003cp\u003eSet your gateway address. In most cases, it's your router address.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래는 Markdown 형식으로 변경한 텍스트입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_14.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e기본 DNS 서버를 선택하세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_15.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e다음 단계에서 클러스터에 대한 VIP(가상 공유 IP)를 선택할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래는 데모를 위해 두 개의 노드 클러스터를 설정한 주소입니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e192.168.2.81\u003c/li\u003e\n\u003cli\u003e192.168.2.82\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eVIP 주소로 192.168.2.240를 선택했습니다. 또한 이는 DHCP 범위를 벗어난 곳에 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이것은 탈로스와 함께 제공되는 항목입니다. 아래와 같이 설명되어 있습니다.\u003c/p\u003e\n\u003cp\u003e원본\u003c/p\u003e\n\u003cp\u003e간단히 말해서, 클러스터 액세스를 위한 주소를 정의할 수 있습니다. 이는 실제 노드 주소와는 독립적입니다. 탈로스-리눅스의 매우 편리한 기능입니다.\u003c/p\u003e\n\u003cp\u003eKubernetes 엔드포인트를 사용자 정의하십시오:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래와 같이 설정이 되었는지 확인해 주세요:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_17.png\" alt=\"Configuration 1\"\u003e\u003c/p\u003e\n\u003cp\u003e다음 대화 상자에서 \"예\"를 선택해주세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_19.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_20.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e다이얼로그를 완료하면 talos-boostrap을 실행하는 경로에 kubeconfig 파일이 생성됩니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_21.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e테스트\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eKUBECONFIG\u003c/span\u003e=./kubeconfig\nkubectl get nodes\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e다음과 같이 출력됩니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eNAME\u003c/span\u003e          \u003cspan class=\"hljs-variable constant_\"\u003eSTATUS\u003c/span\u003e   \u003cspan class=\"hljs-variable constant_\"\u003eROLES\u003c/span\u003e           \u003cspan class=\"hljs-variable constant_\"\u003eAGE\u003c/span\u003e     \u003cspan class=\"hljs-variable constant_\"\u003eVERSION\u003c/span\u003e\nk8s-control   \u003cspan class=\"hljs-title class_\"\u003eReady\u003c/span\u003e    control-plane   4m55s   v1\u003cspan class=\"hljs-number\"\u003e.30\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e컨트롤 플레인이 성공적으로 생성되었습니다!\u003c/p\u003e\n\u003ch2\u003e워커 노드\u003c/h2\u003e\n\u003cp\u003e워커 노드의 경우, 대부분의 경우 작업 노드 역할을 선택하는 것을 제외하고 대부분 동일한 단계가 수행됩니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_22.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_23.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_24.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_25.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003ch2\u003eTesting\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e워커 노드에 시간을 주고 다시 다음을 실행해보세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eKUBECONFIG\u003c/span\u003e=./kubeconfig\nkubectl get nodes\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이렇게 하면 클러스터 내 양쪽 노드를 볼 수 있을 겁니다:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster_26.png\" alt=\"노드 이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e요약\u003c/h1\u003e\n\u003cp\u003e지침을 읽어보면 모든 단계에 대해 설명이나 주석을 다 해 놓았기 때문에 클러스터 설정이 길어 보일 수 있지만, 제가 말하건대로 (모든 것이 순조롭게 진행된다면 🤞🏻) 5~10분 안에 설정이 완료됩니다. 🚀\u003c/p\u003e\n\u003cp\u003e이제 완전히 작동하는 클러스터를 갖추었으므로 인그레스, 스토리지, 인증서 또는 flux-cd와 같은 다른 유용한 구성 요소를 설치할 수 있습니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-20-IsThistheFastestWaytoDeployKubernetesDiveintoSettingUpaRaspberryPiCluster"},"buildId":"8coAiP0lmiEK5aH6nkQkj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>