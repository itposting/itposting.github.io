<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다 | itposting" data-gatsby-head="true"/><meta property="og:title" content="LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture" data-gatsby-head="true"/><meta name="twitter:title" content="LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-19 01:52" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_buildManifest.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 19, 2024</span><span class="posts_reading_time__f7YPP">17<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>트렌드 AI 에이전트의 등장은 비즈니스 인텔리전스 및 데이터 관리 분야를 혁신적으로 변화시켰습니다. 가까운 미래에는 여러 AI 에이전트가 배포되어 데이터베이스와 데이터 웨어하우스에 저장된 방대한 내부 지식을 활용하고 해석할 것입니다. 이를 용이하게 하기 위해서는 의미론적 엔진이 필수적입니다. 이 엔진은 데이터 스키마를 관련 비즈니스 맥락에 매핑하여 AI 에이전트가 데이터의 기저 의미를 이해할 수 있도록 합니다. 비즈니스 맥락에 대한 구조화된 이해를 제공함으로써 의미론적 엔진은 AI 에이전트가 특정 비즈니스 요구에 맞는 정확한 SQL 쿼리를 생성하고 정확하고 맥락에 맞는 데이터 검색을 보장할 수 있도록합니다.</p>
<h1>LLMs가 데이터 구조와 어떤 문제를 가지고 있을까요?</h1>
<p>AI 에이전트가 데이터베이스와 직접 대화할 수 있도록 하는 것입니다. 기술적으로는 자연어를 SQL로 변환하고 데이터베이스를 쿼리하기 위한 인터페이스를 제공합니다.</p>
<p>그러나 데이터베이스로부터 맥락을 가진 스키마를 매핑하는 일은 간단한 작업이 아닙니다. 스키마와 메타데이터를 단순히 저장하는 것만으로 충분하지 않습니다. 데이터를 이해하고 처리하는 데 더 심층적으로 파고들어야 합니다.</p>
<div class="content-ad"></div>
<h2>의미론적 문맥의 부족</h2>
<p>데이터베이스 상단에 직접 LLMs를 활성화하면, 데이터베이스에 이미 있는 DDL 정보를 활용하여 LLMs가 데이터베이스 구조와 유형을 학습하도록 할 수 있습니다. 또한 주어진 DDL을 기반으로 각 테이블과 열의 정의를 이해하는 데 도움을 줄 수 있는 제목과 설명을 추가할 수도 있습니다.</p>
<p>LLMs로부터 최적의 성능과 정확도를 얻으려면, 단순히 DDL과 스키마 정의만으로는 충분하지 않습니다. LLMs는 다양한 엔티티 간의 관계를 이해하고 조직 내에서 사용되는 계산 공식을 파악해야 합니다. 계산, 메트릭, 관계 (조인 경로)와 같은 추가 정보를 제공하여 LLMs가 이러한 측면을 이해하는 데 도움이 되도록 하는 것이 중요합니다.</p>
<h2>LLMs와 의미론적 인터페이스 정의의 부재</h2>
<div class="content-ad"></div>
<p>이전 섹션에서 언급한 것처럼 LLM이 계산, 지표, 관계 등의 복잡성을 이해할 수 있는 의미론적 맥락이 중요합니다. 아래에서 우리가 직면한 주제들을 일반화할 정의가 필요합니다.</p>
<p>계산</p>
<p>미리 훈련된 LLM에는 각 용어에 대한 일정이 있으며, 각 회사가 자체 KPI 또는 공식을 정의하는 방식과는 다릅니다. 계산은 우리가 일반화할 정의를 제공하는 곳입니다. 예를 들어, 총이익률은 (수익 - 판매비용) / 수익으로 정의됩니다. LLM은 이미 총이익률, 순이익률, CLTV 등과 같은 일반적인 KPI를 이해할 수 있는 능력이 충분히 있는 상태일 수 있습니다.</p>
<p>그러나 현실 세계에서는 열이 보통 혼란스럽고, 수익은 rev라는 열 이름으로 설정될 수 있으며, rev1, pre_rev_1, rev2 등을 볼 수도 있을 것입니다. 의미론적 맥락 없이는 LLM이 이들이 무엇을 의미 하는지 알 방법이 없습니다.</p>
<div class="content-ad"></div>
<p>메트릭</p>
<p>"슬라이스 앤 다이스"는 데이터 분석에서 특히 다차원 데이터의 맥락에서 사용되는 기술로, 데이터를 다양한 관점에서 분해하고 보는 것을 말합니다. 이 접근 방식은 데이터를 자세히 탐색하고 분석하는 데 도움이 됩니다.</p>
<p>예를 들어, 판매 메트릭스 예시:</p>
<ul>
<li>총 판매량: 특정 기간 동안 생성된 총 수익.</li>
<li>지역별 판매: 지리적 지역별로 분할된 판매 데이터.</li>
<li>제품별 판매: 개별 제품 또는 제품 카테고리별로 분할된 판매 데이터.</li>
<li>채널별 판매: 온라인, 소매, 도매 등 다양한 판매 채널별로 분할된 판매 데이터.</li>
</ul>
<div class="content-ad"></div>
<p>또 다른 예시로 고객 지표를 사용해보겠습니다:</p>
<ul>
<li>고객 인구 통계: 고객을 나이, 성별, 위치 등으로 분석한 것입니다.</li>
<li>고객 세분화: 행동, 구매 이력, 선호도 등을 기반으로 한 고객을 분류한 것입니다.</li>
<li>고객 유치: 특정 기간 동안 새로 유치한 고객의 수를 의미합니다.</li>
<li>고객 이탈률: 회사와의 거래를 중단한 고객의 비율입니다.</li>
</ul>
<p>의미론적 관계</p>
<p>의미론적 관계는 주 키와 외래 키와는 다르지만, 데이터베이스와 데이터 관리의 맥락에서 관련 있는 개념입니다.</p>
<div class="content-ad"></div>
<p>의미 관계는 주로 실제 세계의 관계에 기반하여 데이터 간의 의미 있는 연결을 나타냅니다. 이러한 관계는 데이터 요소들이 단순히 기본 키(primary key)와 외래 키(foreign key)에 의해 제공되는 구조적 링크 이상의 개념적 상호 관련을 설명합니다. 예를 들어, 고객(Customers)과 주문(Orders) 테이블 사이의 의미 관계는 "고객이 여러 주문을 할 수 있다"로 설명될 수 있습니다. 이는 기술적 연결을 넘어 관계의 실제 의미를 포착합니다.</p>
<p>반면, 기본 키와 외래 키는 데이터 무결성을 강화하고 데이터베이스 스키마 수준에서 관계를 설정하는 데 사용됩니다. 의미 관계는 데이터 엔티티 간의 관련을 보다 넓은 맥락에서 설명하고 이해하는 데 사용되며, 기본 키와 외래 키 설정에서 제공되지 않는 일대다, 다대다, 일대일 관계를 정의할 수도 있습니다.</p>
<h2>LLM과 다양한 데이터 소스 통합의 도전</h2>
<p>불안정한 SQL 생성 성능</p>
<div class="content-ad"></div>
<p>다양한 SQL 방양을 원활하게 처리할 수 있도록 여러 데이터 소스를 연결하고 LLMs가 다양한 소스 간의 성능 일관성을 보장함에는 상당한 어려움이 따릅니다. 데이터 소스의 수가 증가함에 따라 이 어려움은 더욱 부각됩니다. 일관성은 AI 시스템에 대한 신뢰를 구축하는 데 중요합니다. 안정적인 성능을 보장하는 것은 AI 솔루션의 전반적인 사용성과 신뢰성과 직결됩니다.</p>
<p>접근 제어 불일치</p>
<p>다양한 데이터 소스는 종종 각각의 접근 제어 메커니즘을 갖고 있습니다. 이러한 소스들이 직접 연결되면 일관된 데이터 정책을 유지하는 것이 어려워지며, 이는 대규모 데이터 팀 협업에 매우 중요합니다. 이 문제를 해결하기 위해 중앙 통제 계층이 필요합니다. 이 계층은 모든 LLM 사용 사례를 통해 접근 제어를 관리하여 데이터 정책이 균일하게 시행되고 기업 전체에서 보안 및 규정 준수를 강화합니다.</p>
<h1>시맨틱 레이어의 출현</h1>
<div class="content-ad"></div>
<p>다수의 데이터 소스에 직접 연결하는 것은 일관성과 성능 면에서 중요한 도전을 야기합니다. 더 효과적인 접근 방법은 LLM 사용 사례를 위한 의미론적 레이어를 구현하는 것입니다.</p>
<h2>의미론적 레이어란?</h2>
<p>의미론적 아키텍처의 핵심 개념은 <em>온톨로지</em>입니다. 온톨로지는 도메인을 형식적으로 나타내는 것으로, 엔티티와 속성을 나타내는 클래스 및 다른 엔티티와의 관계로 구성된다.</p>
<p>데이터셋의 도메인을 위한 온톨로지를 제공함으로써 LLM은 데이터를 제시하는 방법 뿐만 아니라 데이터가 무엇을 나타내는지에 대한 이해를 얻게 됩니다. 이를 통해 시스템은 데이터셋 내에 명시적으로 명시되지 않은 새로운 정보도 처리하고 추론할 수 있게 됩니다.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png">
<h2>시맨틱 레이어의 장점</h2>
<p>시맨틱 레이어는 AI 에이전트가 서로 다른 도메인, 엔티티, 그리고 관계들 사이의 의미론을 이해하는 데 도움을 주는 것 이상의 역할을 합니다. 또한 AI 에이전트가 다음과 같은 프레임워크를 제공합니다:</p>
<ul>
<li>올바른 공식을 사용하여 계산</li>
<li>결합 경로와 메트릭에 대한 맥락 제공</li>
<li>서로 다른 데이터 소스 간 일관성을 보장하는 표준화된 SQL 레이어 제공</li>
<li>캡슐화된 비즈니스 논리를 적용하고 엔티티 간 복잡한 관계를 런타임에서 관리</li>
</ul>
<div class="content-ad"></div>
<p>의미론적 계층을 구현함으로써 AI 에이전트의 능력을 향상시킵니다. 이는 다양한 데이터 원본과 복잡한 비즈니스 맥락 간의 간극을 줄여 정확하고 일관된 통찰력을 제공할 수 있도록 돕습니다.</p>
<h1>렌 엔진 — LLM을 위한 의미론적 엔진</h1>
<p>그렇기 때문에 우리는 LLM을 위한 의미론적 엔진인 렌 엔진을 디자인했으며, 우리가 제시한 과제를 해결하기 위해 노력하고 있습니다.</p>
<p>렌 엔진을 사용하여 '모델링 정의 언어'(MDL)를 정의했으며, 이를 통해 LLM에게 적절한 문맥과 의미론적 메타데이터를 제공하고 엔진은 다양한 사용자 페르소나 및 의미론적 데이터 모델링 방법을 기반으로 SQL을 다시 작성할 수 있습니다. 엔진을 사용하여 의미론적 계층에 속하는 엑세스 제어 및 거버넌스와 같은 솔루션을 구축할 수 있습니다.</p>
<div class="content-ad"></div>
<h2>의미론적 데이터 모델링</h2>
<p>온톨로지의 기본 개념은 메타데이터와 데이터를 그래프 구조로 설계하는 것인데, 이를 일반적으로 지식 그래프라고 합니다. Wren Engine을 사용하면 데이터 모델과 측정 항목을 이 그래프 기반 아키텍처 내에서 정의할 수 있습니다. 이를 통해 서로 다른 모델의 열이 어떻게 관련되어 있는지와 해당 관계가 의미하는 바를 명시할 수 있습니다. 이러한 구조화된 정의는 데이터 관계를 명확히하고 SQL 쿼리를 정확하고 효율적으로 재작성할 수 있는 능력을 향상시킵니다.</p>
<p>의미론적 명명과 설명</p>
<p>MDL에서는 모델, 열, 뷰, 그리고 관계의 의미론적 명명과 설명을 손쉽게 정의할 수 있습니다. 의미론적 정의를 사용하면 LLM이 데이터 구조의 의미를 이해하는데 도움을 줄 수 있습니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"customers"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"columns"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"City"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"VARCHAR"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"isCalculated"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"notNull"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"expression"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
            <span class="hljs-comment">// 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.</span>
            <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"고객이 위치한 고객 도시입니다. \"고객 세그먼트\"로도 불립니다."</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"displayName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"도시"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-comment">// 시맨틱 네이밍</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"UserId"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"VARCHAR"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"isCalculated"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"notNull"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"expression"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Id"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"데이터 모델에서 각 고객의 고유 식별자입니다."</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"displayName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Id"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"refSql"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"select * from main.customers"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cached"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"refreshTime"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">// 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.</span>
    <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"main"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"catalog"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"memory"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"구매를 한 고객들의 도시를 포함하는 고객 테이블"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"displayName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"customers"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"primaryKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Id"</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>관계와 계산을 지원하는 런타임 SQL 재작성</p>
<p>Wren Engine을 사용하면 "모델 정의 언어"로 시맨틱 표현을 설계할 수 있고, AI 애플리케이션인 WrenAI에서 해당 주변에 UI를 구축하며 여기서도 오픈 소스로 제공됩니다. WrenAI 뒤에서는 서로 다른 엔티티 간의 관계를 정의하고, 일대다, 다대일, 일대일로 선언할 수 있습니다.</p>
<img src="/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_1.png">
<div class="content-ad"></div>
<p>다음은 관계를 정의하는 간단한 예시입니다.</p>
<pre><code class="hljs language-js">{
    <span class="hljs-string">"name"</span> : <span class="hljs-string">"CustomerOrders"</span>,
    <span class="hljs-string">"models"</span> : [ <span class="hljs-string">"Customer"</span>, <span class="hljs-string">"Orders"</span> ],
    <span class="hljs-string">"joinType"</span> : <span class="hljs-string">"ONE_TO_MANY"</span>,  <span class="hljs-comment">// 원 대 다 아키텍처입니다.</span>
    <span class="hljs-string">"condition"</span> : <span class="hljs-string">"Customer.custkey = Orders.custkey"</span>
}
</code></pre>
<p>관계는 다음으로 구성됩니다:</p>
<ul>
<li>name: 관계의 이름</li>
<li>models: 이 관계와 관련된 모델들. Wren Engine은 관계에서 2개의 모델만 연결합니다.</li>
<li>joinType: 관계의 유형. 일반적으로 2개의 모델 간에는 4종류의 관계가 있습니다: ONE_TO_ONE (1 대 1), ONE_TO_MANY (1 대 다), MANY_TO_ONE (다 대 1), MANY_TO_MANY (다 대 다).</li>
<li>condition: 두 모델 간의 조인 조건. Wren Engine은 SQL 생성 중 조인 조건을 담당합니다.</li>
</ul>
<div class="content-ad"></div>
<p>모델에서 계산(식)을 추가할 때 사용자 정의 계산(식)도 추가할 수 있어요.</p>
<pre><code class="hljs language-js">{
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"Customer"</span>,
    <span class="hljs-string">"refSql"</span>: <span class="hljs-string">"select * from tpch.customer"</span>,
    <span class="hljs-string">"columns"</span>: [
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"custkey"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"expression"</span>: <span class="hljs-string">"c_orderkey"</span>
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"name"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"varchar"</span>,
            <span class="hljs-string">"expression"</span>: <span class="hljs-string">"c_name"</span>
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"orders"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"Orders"</span>,
            <span class="hljs-string">"relationship"</span>: <span class="hljs-string">"CustomerOrders"</span>
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"consumption"</span>,
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"isCalculated"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">"expression"</span>: <span class="hljs-string">"sum(orders.totalprice)"</span> <span class="hljs-comment">// 식 정의</span>
        }
    ],
    <span class="hljs-string">"primaryKey"</span>: <span class="hljs-string">"custkey"</span>
},
</code></pre>
<p>재사용 가능한 계산식과 함수 형태의 매크로를 지원해요.</p>
<p>계산에 관해서</p>
<div class="content-ad"></div>
<p>Wren Engine은 모델에서 계산을 정의하는 계산 필드를 제공합니다. 계산은 동일한 모델의 정의된 열 또는 관계를 통해 다른 모델의 관련 열을 사용할 수 있습니다. 일반적으로 공통 메트릭은 여러 다른 테이블에 관련이 있습니다. 계산된 필드를 통해 서로 다른 모델 간에 상호 작용하는 공통 메트릭을 정의하는 것이 쉽습니다.</p>
<p>예를 들어, 아래는 3개의 열이 있는 orders라는 정의된 모델입니다. 모델을 향상시키기 위해 각 고객의 성장을 알기 위해 customer_last_month_orders_price라는 열을 추가하려고 할 수 있습니다. 다음과 같이 계산된 필드를 정의할 수 있습니다.</p>
<pre><code class="hljs language-js"><span class="hljs-string">"columns"</span>: [
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"orderkey"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"INTEGER"</span>
    },
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"custkey"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"INTEGER"</span>
    },
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"price"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"INTEGER"</span>
    },
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"purchasetimestamp"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"TIMESTAMP"</span>
    },
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"customer_last_month_orders_price"</span>,
        <span class="hljs-string">"type"</span>: <span class="hljs-string">"INTEGER"</span>,
        <span class="hljs-string">"isCalculated"</span>: <span class="hljs-string">"true"</span>,
        <span class="hljs-comment">// column</span>
        <span class="hljs-string">"expression"</span>: <span class="hljs-string">"lag(price) over (partition by custkey order by date_trunc('YEAR', purchasetimestamp), 0, 0)"</span>
    }
]
</code></pre>
<p>Macro 함수에 관해</p>
<div class="content-ad"></div>
<p>매크로는 모델 정의 언어(MDL)의 템플릿 기능입니다. MDL을 간소화하거나 핵심 개념을 중앙 집중화하는 데 유용합니다. 매크로는 Jinja 사양을 따르는 JVM의 템플릿 엔진 인 JinJava에 의해 구현됩니다. 매크로를 사용하면 특정 매개변수를 사용하여 템플릿을 정의하고 모든 표현식에서 사용할 수 있습니다.</p>
<p>아래 시나리오에서 twdToUsd는 전체 MDL 전체에 걸친 범용적 개념을 나타냅니다. 반면에 revenue 및 totalpriceUsd는 개별 모델에 특정한 부분 개념을 포함합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-string">"macros"</span>: [
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"twdToUsd"</span>,
        <span class="hljs-string">"definition"</span>: <span class="hljs-string">"(twd: Expression) => twd / 30"</span> <span class="hljs-comment">// 매크로 정의</span>
    }
],
<span class="hljs-string">"models"</span>: [
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Orders"</span>,
        <span class="hljs-string">"columns"</span>: [
            {
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"totalprice"</span>,
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"double"</span>
            },
            {
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"totalpriceUsd"</span>,
                <span class="hljs-string">"expression"</span>: <span class="hljs-string">"{ twdToUsd('totalprice') }"</span> <span class="hljs-comment">// 매크로 함수 재사용</span>
            }
        ]
    },
    {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"Customer"</span>,
        <span class="hljs-string">"columns"</span>: [
            {
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"revenue"</span>,
                <span class="hljs-string">"isCalculated"</span>: <span class="hljs-literal">true</span>,
                <span class="hljs-string">"expression"</span>: <span class="hljs-string">"{ twdToUsd('sum(orders.totalprice)') }"</span> <span class="hljs-comment">// 매크로 함수 재사용</span>
            },
            {
                <span class="hljs-string">"name"</span>: <span class="hljs-string">"orders"</span>,
                <span class="hljs-string">"Type"</span>: <span class="hljs-string">"Orders"</span>,
                <span class="hljs-string">"relationship"</span>: <span class="hljs-string">"OrdersCustomer"</span>
            }
        ]
    }
]
</code></pre>
<h2>표준 SQL 구문 지원</h2>
<div class="content-ad"></div>
<p>Wren Engine은 내장된 SQL 프로세서와 변환기를 가지고 있습니다. Wren Engine을 통해 우리는 SQL을 파싱하고 WrenSQL 구문에서 표준 ANSI SQL과 호환되는 BigQuery, PostgreSQL, Snowflake 등과 같은 다른 방양으로 변환합니다.</p>
<p>아래는 간단한 예시입니다. 여기서 데이터셋의 MDL을 정의하고 SQL을 제출하면 모든 관계, 계산, 메트릭이 대상 방양에 특화된 SQL로 변환됩니다.</p>
<p>아래는 MDL 파일의 예시입니다 (Gist에서 확인해주세요): <a href="https://gist.github.com/..." rel="nofollow" target="_blank">Gist 링크</a></p>
<div class="content-ad"></div>
<p>위의 쿼리를 제출하면</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">SELECT</span> * <span class="hljs-variable constant_">FROM</span> orders
</code></pre>
<p>Wren 엔진은 Wren SQL을 MDL 정의에 따라 다음과 같이 방언별 SQL로 변환합니다.</p>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">WITH</span>
    <span class="hljs-string">"order_items"</span> <span class="hljs-variable constant_">AS</span> (
    <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"FreightValue"</span> <span class="hljs-string">"FreightValue"</span>
    , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ItemNumber"</span> <span class="hljs-string">"ItemNumber"</span>
    , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
    , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"Price"</span> <span class="hljs-string">"Price"</span>
    , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ProductId"</span> <span class="hljs-string">"ProductId"</span>
    , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ShippingLimitDate"</span> <span class="hljs-string">"ShippingLimitDate"</span>
    <span class="hljs-variable constant_">FROM</span>
        (
        <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"FreightValue"</span> <span class="hljs-string">"FreightValue"</span>
        , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ItemNumber"</span> <span class="hljs-string">"ItemNumber"</span>
        , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
        , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"Price"</span> <span class="hljs-string">"Price"</span>
        , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ProductId"</span> <span class="hljs-string">"ProductId"</span>
        , <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"ShippingLimitDate"</span> <span class="hljs-string">"ShippingLimitDate"</span>
        <span class="hljs-variable constant_">FROM</span>
        (
            <span class="hljs-variable constant_">SELECT</span>
            <span class="hljs-string">"FreightValue"</span> <span class="hljs-string">"FreightValue"</span>
            , <span class="hljs-string">"ItemNumber"</span> <span class="hljs-string">"ItemNumber"</span>
            , <span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
            , <span class="hljs-string">"Price"</span> <span class="hljs-string">"Price"</span>
            , <span class="hljs-string">"ProductId"</span> <span class="hljs-string">"ProductId"</span>
            , <span class="hljs-string">"ShippingLimitDate"</span> <span class="hljs-string">"ShippingLimitDate"</span>
            <span class="hljs-variable constant_">FROM</span>
            (
            <span class="hljs-variable constant_">SELECT</span> *
            <span class="hljs-variable constant_">FROM</span>
                main.<span class="hljs-property">order_items</span>
            )  <span class="hljs-string">"order_items"</span>
        )  <span class="hljs-string">"order_items"</span>
    )  <span class="hljs-string">"order_items"</span>
) 
, <span class="hljs-string">"payments"</span> <span class="hljs-variable constant_">AS</span> (
    <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Installments"</span> <span class="hljs-string">"Installments"</span>
    , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
    , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Sequential"</span> <span class="hljs-string">"Sequential"</span>
    , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Type"</span> <span class="hljs-string">"Type"</span>
    , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Value"</span> <span class="hljs-string">"Value"</span>
    <span class="hljs-variable constant_">FROM</span>
        (
        <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Installments"</span> <span class="hljs-string">"Installments"</span>
        , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
        , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Sequential"</span> <span class="hljs-string">"Sequential"</span>
        , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Type"</span> <span class="hljs-string">"Type"</span>
        , <span class="hljs-string">"payments"</span>.<span class="hljs-string">"Value"</span> <span class="hljs-string">"Value"</span>
        <span class="hljs-variable constant_">FROM</span>
        (
            <span class="hljs-variable constant_">SELECT</span>
            <span class="hljs-string">"Installments"</span> <span class="hljs-string">"Installments"</span>
            , <span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
            , <span class="hljs-string">"Sequential"</span> <span class="hljs-string">"Sequential"</span>
            , <span class="hljs-string">"Type"</span> <span class="hljs-string">"Type"</span>
            , <span class="hljs-string">"Value"</span> <span class="hljs-string">"Value"</span>
            <span class="hljs-variable constant_">FROM</span>
            (
            <span class="hljs-variable constant_">SELECT</span> *
            <span class="hljs-variable constant_">FROM</span>
                main.<span class="hljs-property">payments</span>
            )  <span class="hljs-string">"payments"</span>
        )  <span class="hljs-string">"payments"</span>
    )  <span class="hljs-string">"payments"</span>
) 
, <span class="hljs-string">"orders"</span> <span class="hljs-variable constant_">AS</span> (
    <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"orders"</span>.<span class="hljs-string">"ApprovedTimestamp"</span> <span class="hljs-string">"ApprovedTimestamp"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"CustomerId"</span> <span class="hljs-string">"CustomerId"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"DeliveredCarrierDate"</span> <span class="hljs-string">"DeliveredCarrierDate"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"DeliveredCustomerDate"</span> <span class="hljs-string">"DeliveredCustomerDate"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"EstimatedDeliveryDate"</span> <span class="hljs-string">"EstimatedDeliveryDate"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"PurchaseTimestamp"</span> <span class="hljs-string">"PurchaseTimestamp"</span>
    , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"Status"</span> <span class="hljs-string">"Status"</span>
    , <span class="hljs-string">"RevenueA"</span>.<span class="hljs-string">"RevenueA"</span> <span class="hljs-string">"RevenueA"</span>
    , <span class="hljs-string">"Sales"</span>.<span class="hljs-string">"Sales"</span> <span class="hljs-string">"Sales"</span>
    <span class="hljs-variable constant_">FROM</span>
        (((
        <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"orders"</span>.<span class="hljs-string">"ApprovedTimestamp"</span> <span class="hljs-string">"ApprovedTimestamp"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"CustomerId"</span> <span class="hljs-string">"CustomerId"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"DeliveredCarrierDate"</span> <span class="hljs-string">"DeliveredCarrierDate"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"DeliveredCustomerDate"</span> <span class="hljs-string">"DeliveredCustomerDate"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"EstimatedDeliveryDate"</span> <span class="hljs-string">"EstimatedDeliveryDate"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"PurchaseTimestamp"</span> <span class="hljs-string">"PurchaseTimestamp"</span>
        , <span class="hljs-string">"orders"</span>.<span class="hljs-string">"Status"</span> <span class="hljs-string">"Status"</span>
        <span class="hljs-variable constant_">FROM</span>
        (
            <span class="hljs-variable constant_">SELECT</span>
            <span class="hljs-string">"ApprovedTimestamp"</span> <span class="hljs-string">"ApprovedTimestamp"</span>
            , <span class="hljs-string">"CustomerId"</span> <span class="hljs-string">"CustomerId"</span>
            , <span class="hljs-string">"DeliveredCarrierDate"</span> <span class="hljs-string">"DeliveredCarrierDate"</span>
            , <span class="hljs-string">"DeliveredCustomerDate"</span> <span class="hljs-string">"DeliveredCustomerDate"</span>
            , <span class="hljs-string">"EstimatedDeliveryDate"</span> <span class="hljs-string">"EstimatedDeliveryDate"</span>
            , <span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
            , <span class="hljs-string">"PurchaseTimestamp"</span> <span class="hljs-string">"PurchaseTimestamp"</span>
            , <span class="hljs-string">"Status"</span> <span class="hljs-string">"Status"</span>
            <span class="hljs-variable constant_">FROM</span>
            (
            <span class="hljs-variable constant_">SELECT</span> *
            <span class="hljs-variable constant_">FROM</span>
                main.<span class="hljs-property">orders</span>
            )  <span class="hljs-string">"orders"</span>
        )  <span class="hljs-string">"orders"</span>
    )  <span class="hljs-string">"orders"</span>
    <span class="hljs-variable constant_">LEFT</span> <span class="hljs-variable constant_">JOIN</span> (
        <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span>
        , <span class="hljs-title function_">sum</span>(<span class="hljs-string">"order_items"</span>.<span class="hljs-string">"Price"</span>) <span class="hljs-string">"RevenueA"</span>
        <span class="hljs-variable constant_">FROM</span>
        ((
            <span class="hljs-variable constant_">SELECT</span>
            <span class="hljs-string">"ApprovedTimestamp"</span> <span class="hljs-string">"ApprovedTimestamp"</span>
            , <span class="hljs-string">"CustomerId"</span> <span class="hljs-string">"CustomerId"</span>
            , <span class="hljs-string">"DeliveredCarrierDate"</span> <span class="hljs-string">"DeliveredCarrierDate"</span>
            , <span class="hljs-string">"DeliveredCustomerDate"</span> <span class="hljs-string">"DeliveredCustomerDate"</span>
            , <span class="hljs-string">"EstimatedDeliveryDate"</span> <span class="hljs-string">"EstimatedDeliveryDate"</span>
            , <span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
            , <span class="hljs-string">"PurchaseTimestamp"</span> <span class="hljs-string">"PurchaseTimestamp"</span>
            , <span class="hljs-string">"Status"</span> <span class="hljs-string">"Status"</span>
            <span class="hljs-variable constant_">FROM</span>
            (
            <span class="hljs-variable constant_">SELECT</span> *
            <span class="hljs-variable constant_">FROM</span>
                main.<span class="hljs-property">orders</span>
            )  <span class="hljs-string">"orders"</span>
        )  <span class="hljs-string">"orders"</span>
        <span class="hljs-variable constant_">LEFT</span> <span class="hljs-variable constant_">JOIN</span> <span class="hljs-string">"order_items"</span> <span class="hljs-variable constant_">ON</span> (<span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span> = <span class="hljs-string">"order_items"</span>.<span class="hljs-string">"OrderId"</span>))
        <span class="hljs-variable constant_">GROUP</span> <span class="hljs-variable constant_">BY</span> <span class="hljs-number">1</span>
    )  <span class="hljs-string">"RevenueA"</span> <span class="hljs-variable constant_">ON</span> (<span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span> = <span class="hljs-string">"RevenueA"</span>.<span class="hljs-string">"OrderId"</span>))
    <span class="hljs-variable constant_">LEFT</span> <span class="hljs-variable constant_">JOIN</span> (
        <span class="hljs-variable constant_">SELECT</span>
        <span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span>
        , <span class="hljs-title function_">sum</span>(<span class="hljs-string">"payments"</span>.<span class="hljs-string">"Value"</span>) <span class="hljs-string">"Sales"</span>
        <span class="hljs-variable constant_">FROM</span>
        ((
            <span class="hljs-variable constant_">SELECT</span>
            <span class="hljs-string">"ApprovedTimestamp"</span> <span class="hljs-string">"ApprovedTimestamp"</span>
            , <span class="hljs-string">"CustomerId"</span> <span class="hljs-string">"CustomerId"</span>
            , <span class="hljs-string">"DeliveredCarrierDate"</span> <span class="hljs-string">"DeliveredCarrierDate"</span>
            , <span class="hljs-string">"DeliveredCustomerDate"</span> <span class="hljs-string">"DeliveredCustomerDate"</span>
            , <span class="hljs-string">"EstimatedDeliveryDate"</span> <span class="hljs-string">"EstimatedDeliveryDate"</span>
            , <span class="hljs-string">"OrderId"</span> <span class="hljs-string">"OrderId"</span>
            , <span class="hljs-string">"PurchaseTimestamp"</span> <span class="hljs-string">"PurchaseTimestamp"</span>
            , <span class="hljs-string">"Status"</span> <span class="hljs-string">"Status"</span>
            <span class="hljs-variable constant_">FROM</span>
            (
            <span class="hljs-variable constant_">SELECT</span> *
            <span class="hljs-variable constant_">FROM</span>
                main.<span class="hljs-property">orders</span>
            )  <span class="hljs-string">"orders"</span>
        )  <span class="hljs-string">"orders"</span>
        <span class="hljs-variable constant_">LEFT</span> <span class="hljs-variable constant_">JOIN</span> <span class="hljs-string">"payments"</span> <span class="hljs-variable constant_">ON</span> (<span class="hljs-string">"payments"</span>.<span class="hljs-string">"OrderId"</span> = <span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span>))
        <span class="hljs-variable constant_">GROUP</span> <span class="hljs-variable constant_">BY</span> <span class="hljs-number">1</span>
    )  <span class="hljs-string">"Sales"</span> <span class="hljs-variable constant_">ON</span> (<span class="hljs-string">"orders"</span>.<span class="hljs-string">"OrderId"</span> = <span class="hljs-string">"Sales"</span>.<span class="hljs-string">"OrderId"</span>))
) 
<span class="hljs-variable constant_">SELECT</span> *
<span class="hljs-variable constant_">FROM</span>
    orders
</code></pre>
<div class="content-ad"></div>
<h2>다양한 소스에서 일관된 액세스 제어 (계획)</h2>
<p>여러 데이터 소스 간의 액세스 제어를 관리하는 것은 서로 다른 액세스 제어 메커니즘으로 인해 어려울 수 있습니다. Wren Engine은 또한 다음과 같은 문제를 해결하고 있습니다.</p>
<ul>
<li>데이터 정책 정의: 모든 데이터 소스가 동일한 보안 및 액세스 프로토콜을 준수하도록 보장합니다.</li>
<li>통합된 인증 및 권한 부여: 단일 엔진 아래에서 다양한 데이터 소스를 통합함으로써 인증 및 권한 부여 프로세스가 간소화됩니다. 이 일관성은 무단 액세스의 위험을 줄이고 사용자가 모든 데이터 소스에서 일관된 액세스 권한을 갖도록 보장합니다.</li>
<li>역할 기반의 액세스 제어 (RBAC): 역할에 기반하여 액세스 권한이 개별 사용자가 아닌 역할에 할당되는 RBAC를 구현합니다.</li>
</ul>
<p>프로젝트를 실행할 때 자세한 내용을 공유할 예정이니 기대해주세요!</p>
<div class="content-ad"></div>
<h2>오픈 및 스탠드얼론 아키텍처</h2>
<p>Wren Engine은 오픈 소스로 제공되며 독립적인 의미 엔진으로 설계되어 있습니다. 이 엔진은 어떤 AI 에이전트와도 쉽게 구현할 수 있으며 일반적인 의미 엔진으로 사용할 수 있습니다.</p>
<p><img src="/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_3.png" alt="이미지"></p>
<h1>최종 의견</h1>
<div class="content-ad"></div>
<p>Wren Engine의 미션은 LLMs의 시맨틱 엔진으로서의 역할을 하여 시맨틱 레이어를 제공하고 BI 및 LLMs에 비즈니스 컨텍스트를 전달하는 것입니다. 우리는 엔진이 모든 애플리케이션 및 데이터 소스와 호환되도록 하는 오픈 커뮤니티를 구축하는 것을 믿습니다. 또한 개발자가 그 위에 자유롭게 AI 에이전트를 구축할 수 있는 아키텍처를 제공하는 것이 우리의 목표입니다.</p>
<p>WrenAI와 Wren Engine에 관심이 있다면, 우리의 GitHub을 확인해보세요. 모두 오픈 소스입니다!</p>
<p>WrenAI를 아직 확인하지 않았다면, 지금 확인해보세요!</p>
<p>👉 GitHub: <a href="https://github.com/Canner/WrenAI" rel="nofollow" target="_blank">https://github.com/Canner/WrenAI</a></p>
<div class="content-ad"></div>
<p>👉 X: <a href="https://twitter.com/getwrenai" rel="nofollow" target="_blank">https://twitter.com/getwrenai</a></p>
<p>👉 Medium: <a href="https://blog.getwren.ai/" rel="nofollow" target="_blank">https://blog.getwren.ai/</a></p>
<p>이 기사를 즐겼다면 ⭐ Github에서 WrenAI에 별표를 주시는 걸 잊지 마세요 ⭐ 항상 읽어 주셔서 감사합니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"LLM을 위한 의미론적 엔진을 어떻게 설계했나요 LLM 아키텍처를 위한 의미론적 레이어의 중추입니다","description":"","date":"2024-06-19 01:52","slug":"2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture","content":"\n\n트렌드 AI 에이전트의 등장은 비즈니스 인텔리전스 및 데이터 관리 분야를 혁신적으로 변화시켰습니다. 가까운 미래에는 여러 AI 에이전트가 배포되어 데이터베이스와 데이터 웨어하우스에 저장된 방대한 내부 지식을 활용하고 해석할 것입니다. 이를 용이하게 하기 위해서는 의미론적 엔진이 필수적입니다. 이 엔진은 데이터 스키마를 관련 비즈니스 맥락에 매핑하여 AI 에이전트가 데이터의 기저 의미를 이해할 수 있도록 합니다. 비즈니스 맥락에 대한 구조화된 이해를 제공함으로써 의미론적 엔진은 AI 에이전트가 특정 비즈니스 요구에 맞는 정확한 SQL 쿼리를 생성하고 정확하고 맥락에 맞는 데이터 검색을 보장할 수 있도록합니다.\n\n# LLMs가 데이터 구조와 어떤 문제를 가지고 있을까요?\n\nAI 에이전트가 데이터베이스와 직접 대화할 수 있도록 하는 것입니다. 기술적으로는 자연어를 SQL로 변환하고 데이터베이스를 쿼리하기 위한 인터페이스를 제공합니다.\n\n그러나 데이터베이스로부터 맥락을 가진 스키마를 매핑하는 일은 간단한 작업이 아닙니다. 스키마와 메타데이터를 단순히 저장하는 것만으로 충분하지 않습니다. 데이터를 이해하고 처리하는 데 더 심층적으로 파고들어야 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 의미론적 문맥의 부족\n\n데이터베이스 상단에 직접 LLMs를 활성화하면, 데이터베이스에 이미 있는 DDL 정보를 활용하여 LLMs가 데이터베이스 구조와 유형을 학습하도록 할 수 있습니다. 또한 주어진 DDL을 기반으로 각 테이블과 열의 정의를 이해하는 데 도움을 줄 수 있는 제목과 설명을 추가할 수도 있습니다.\n\nLLMs로부터 최적의 성능과 정확도를 얻으려면, 단순히 DDL과 스키마 정의만으로는 충분하지 않습니다. LLMs는 다양한 엔티티 간의 관계를 이해하고 조직 내에서 사용되는 계산 공식을 파악해야 합니다. 계산, 메트릭, 관계 (조인 경로)와 같은 추가 정보를 제공하여 LLMs가 이러한 측면을 이해하는 데 도움이 되도록 하는 것이 중요합니다.\n\n## LLMs와 의미론적 인터페이스 정의의 부재\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이전 섹션에서 언급한 것처럼 LLM이 계산, 지표, 관계 등의 복잡성을 이해할 수 있는 의미론적 맥락이 중요합니다. 아래에서 우리가 직면한 주제들을 일반화할 정의가 필요합니다.\n\n계산\n\n미리 훈련된 LLM에는 각 용어에 대한 일정이 있으며, 각 회사가 자체 KPI 또는 공식을 정의하는 방식과는 다릅니다. 계산은 우리가 일반화할 정의를 제공하는 곳입니다. 예를 들어, 총이익률은 (수익 - 판매비용) / 수익으로 정의됩니다. LLM은 이미 총이익률, 순이익률, CLTV 등과 같은 일반적인 KPI를 이해할 수 있는 능력이 충분히 있는 상태일 수 있습니다.\n\n그러나 현실 세계에서는 열이 보통 혼란스럽고, 수익은 rev라는 열 이름으로 설정될 수 있으며, rev1, pre_rev_1, rev2 등을 볼 수도 있을 것입니다. 의미론적 맥락 없이는 LLM이 이들이 무엇을 의미 하는지 알 방법이 없습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n메트릭\n\n\"슬라이스 앤 다이스\"는 데이터 분석에서 특히 다차원 데이터의 맥락에서 사용되는 기술로, 데이터를 다양한 관점에서 분해하고 보는 것을 말합니다. 이 접근 방식은 데이터를 자세히 탐색하고 분석하는 데 도움이 됩니다.\n\n예를 들어, 판매 메트릭스 예시:\n\n- 총 판매량: 특정 기간 동안 생성된 총 수익.\n- 지역별 판매: 지리적 지역별로 분할된 판매 데이터.\n- 제품별 판매: 개별 제품 또는 제품 카테고리별로 분할된 판매 데이터.\n- 채널별 판매: 온라인, 소매, 도매 등 다양한 판매 채널별로 분할된 판매 데이터.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n또 다른 예시로 고객 지표를 사용해보겠습니다:\n\n- 고객 인구 통계: 고객을 나이, 성별, 위치 등으로 분석한 것입니다.\n- 고객 세분화: 행동, 구매 이력, 선호도 등을 기반으로 한 고객을 분류한 것입니다.\n- 고객 유치: 특정 기간 동안 새로 유치한 고객의 수를 의미합니다.\n- 고객 이탈률: 회사와의 거래를 중단한 고객의 비율입니다.\n\n의미론적 관계\n\n의미론적 관계는 주 키와 외래 키와는 다르지만, 데이터베이스와 데이터 관리의 맥락에서 관련 있는 개념입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n의미 관계는 주로 실제 세계의 관계에 기반하여 데이터 간의 의미 있는 연결을 나타냅니다. 이러한 관계는 데이터 요소들이 단순히 기본 키(primary key)와 외래 키(foreign key)에 의해 제공되는 구조적 링크 이상의 개념적 상호 관련을 설명합니다. 예를 들어, 고객(Customers)과 주문(Orders) 테이블 사이의 의미 관계는 \"고객이 여러 주문을 할 수 있다\"로 설명될 수 있습니다. 이는 기술적 연결을 넘어 관계의 실제 의미를 포착합니다.\n\n반면, 기본 키와 외래 키는 데이터 무결성을 강화하고 데이터베이스 스키마 수준에서 관계를 설정하는 데 사용됩니다. 의미 관계는 데이터 엔티티 간의 관련을 보다 넓은 맥락에서 설명하고 이해하는 데 사용되며, 기본 키와 외래 키 설정에서 제공되지 않는 일대다, 다대다, 일대일 관계를 정의할 수도 있습니다.\n\n## LLM과 다양한 데이터 소스 통합의 도전\n\n불안정한 SQL 생성 성능\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다양한 SQL 방양을 원활하게 처리할 수 있도록 여러 데이터 소스를 연결하고 LLMs가 다양한 소스 간의 성능 일관성을 보장함에는 상당한 어려움이 따릅니다. 데이터 소스의 수가 증가함에 따라 이 어려움은 더욱 부각됩니다. 일관성은 AI 시스템에 대한 신뢰를 구축하는 데 중요합니다. 안정적인 성능을 보장하는 것은 AI 솔루션의 전반적인 사용성과 신뢰성과 직결됩니다.\n\n접근 제어 불일치\n\n다양한 데이터 소스는 종종 각각의 접근 제어 메커니즘을 갖고 있습니다. 이러한 소스들이 직접 연결되면 일관된 데이터 정책을 유지하는 것이 어려워지며, 이는 대규모 데이터 팀 협업에 매우 중요합니다. 이 문제를 해결하기 위해 중앙 통제 계층이 필요합니다. 이 계층은 모든 LLM 사용 사례를 통해 접근 제어를 관리하여 데이터 정책이 균일하게 시행되고 기업 전체에서 보안 및 규정 준수를 강화합니다.\n\n# 시맨틱 레이어의 출현\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다수의 데이터 소스에 직접 연결하는 것은 일관성과 성능 면에서 중요한 도전을 야기합니다. 더 효과적인 접근 방법은 LLM 사용 사례를 위한 의미론적 레이어를 구현하는 것입니다.\n\n## 의미론적 레이어란?\n\n의미론적 아키텍처의 핵심 개념은 *온톨로지*입니다. 온톨로지는 도메인을 형식적으로 나타내는 것으로, 엔티티와 속성을 나타내는 클래스 및 다른 엔티티와의 관계로 구성된다.\n\n데이터셋의 도메인을 위한 온톨로지를 제공함으로써 LLM은 데이터를 제시하는 방법 뿐만 아니라 데이터가 무엇을 나타내는지에 대한 이해를 얻게 됩니다. 이를 통해 시스템은 데이터셋 내에 명시적으로 명시되지 않은 새로운 정보도 처리하고 추론할 수 있게 됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png\" /\u003e\n\n## 시맨틱 레이어의 장점\n\n시맨틱 레이어는 AI 에이전트가 서로 다른 도메인, 엔티티, 그리고 관계들 사이의 의미론을 이해하는 데 도움을 주는 것 이상의 역할을 합니다. 또한 AI 에이전트가 다음과 같은 프레임워크를 제공합니다:\n\n- 올바른 공식을 사용하여 계산\n- 결합 경로와 메트릭에 대한 맥락 제공\n- 서로 다른 데이터 소스 간 일관성을 보장하는 표준화된 SQL 레이어 제공\n- 캡슐화된 비즈니스 논리를 적용하고 엔티티 간 복잡한 관계를 런타임에서 관리\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n의미론적 계층을 구현함으로써 AI 에이전트의 능력을 향상시킵니다. 이는 다양한 데이터 원본과 복잡한 비즈니스 맥락 간의 간극을 줄여 정확하고 일관된 통찰력을 제공할 수 있도록 돕습니다.\n\n# 렌 엔진 — LLM을 위한 의미론적 엔진\n\n그렇기 때문에 우리는 LLM을 위한 의미론적 엔진인 렌 엔진을 디자인했으며, 우리가 제시한 과제를 해결하기 위해 노력하고 있습니다.\n\n렌 엔진을 사용하여 '모델링 정의 언어'(MDL)를 정의했으며, 이를 통해 LLM에게 적절한 문맥과 의미론적 메타데이터를 제공하고 엔진은 다양한 사용자 페르소나 및 의미론적 데이터 모델링 방법을 기반으로 SQL을 다시 작성할 수 있습니다. 엔진을 사용하여 의미론적 계층에 속하는 엑세스 제어 및 거버넌스와 같은 솔루션을 구축할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 의미론적 데이터 모델링\n\n온톨로지의 기본 개념은 메타데이터와 데이터를 그래프 구조로 설계하는 것인데, 이를 일반적으로 지식 그래프라고 합니다. Wren Engine을 사용하면 데이터 모델과 측정 항목을 이 그래프 기반 아키텍처 내에서 정의할 수 있습니다. 이를 통해 서로 다른 모델의 열이 어떻게 관련되어 있는지와 해당 관계가 의미하는 바를 명시할 수 있습니다. 이러한 구조화된 정의는 데이터 관계를 명확히하고 SQL 쿼리를 정확하고 효율적으로 재작성할 수 있는 능력을 향상시킵니다.\n\n의미론적 명명과 설명\n\nMDL에서는 모델, 열, 뷰, 그리고 관계의 의미론적 명명과 설명을 손쉽게 정의할 수 있습니다. 의미론적 정의를 사용하면 LLM이 데이터 구조의 의미를 이해하는데 도움을 줄 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```json\n{\n    \"name\": \"customers\",\n    \"columns\": [\n        {\n            \"name\": \"City\",\n            \"type\": \"VARCHAR\",\n            \"isCalculated\": 0,\n            \"notNull\": 0,\n            \"expression\": \"\",\n            // 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.\n            \"properties\": {\n            \"description\": \"고객이 위치한 고객 도시입니다. \\\"고객 세그먼트\\\"로도 불립니다.\",\n            \"displayName\": \"도시\"\n            }\n        },\n        {\n            // 시맨틱 네이밍\n            \"name\": \"UserId\",\n            \"type\": \"VARCHAR\",\n            \"isCalculated\": 0,\n            \"notNull\": 0,\n            \"expression\": \"Id\",\n            \"properties\": {\n            \"description\": \"데이터 모델에서 각 고객의 고유 식별자입니다.\",\n            \"displayName\": \"Id\"\n            }\n        }\n    ],\n    \"refSql\": \"select * from main.customers\",\n    \"cached\": 0,\n    \"refreshTime\": null,\n    // 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.\n    \"properties\": {\n        \"schema\": \"main\",\n        \"catalog\": \"memory\",\n        \"description\": \"구매를 한 고객들의 도시를 포함하는 고객 테이블\",\n        \"displayName\": \"customers\"\n    },\n    \"primaryKey\": \"Id\"\n},\n```\n\n관계와 계산을 지원하는 런타임 SQL 재작성\n\nWren Engine을 사용하면 \"모델 정의 언어\"로 시맨틱 표현을 설계할 수 있고, AI 애플리케이션인 WrenAI에서 해당 주변에 UI를 구축하며 여기서도 오픈 소스로 제공됩니다. WrenAI 뒤에서는 서로 다른 엔티티 간의 관계를 정의하고, 일대다, 다대일, 일대일로 선언할 수 있습니다.\n\n\u003cimg src=\"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_1.png\" /\u003e\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음은 관계를 정의하는 간단한 예시입니다.\n\n```js\n{\n    \"name\" : \"CustomerOrders\",\n    \"models\" : [ \"Customer\", \"Orders\" ],\n    \"joinType\" : \"ONE_TO_MANY\",  // 원 대 다 아키텍처입니다.\n    \"condition\" : \"Customer.custkey = Orders.custkey\"\n}\n```\n\n관계는 다음으로 구성됩니다:\n\n- name: 관계의 이름\n- models: 이 관계와 관련된 모델들. Wren Engine은 관계에서 2개의 모델만 연결합니다.\n- joinType: 관계의 유형. 일반적으로 2개의 모델 간에는 4종류의 관계가 있습니다: ONE_TO_ONE (1 대 1), ONE_TO_MANY (1 대 다), MANY_TO_ONE (다 대 1), MANY_TO_MANY (다 대 다).\n- condition: 두 모델 간의 조인 조건. Wren Engine은 SQL 생성 중 조인 조건을 담당합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n모델에서 계산(식)을 추가할 때 사용자 정의 계산(식)도 추가할 수 있어요.\n\n```js\n{\n    \"name\": \"Customer\",\n    \"refSql\": \"select * from tpch.customer\",\n    \"columns\": [\n        {\n            \"name\": \"custkey\",\n            \"type\": \"integer\",\n            \"expression\": \"c_orderkey\"\n        },\n        {\n            \"name\": \"name\",\n            \"type\": \"varchar\",\n            \"expression\": \"c_name\"\n        },\n        {\n            \"name\": \"orders\",\n            \"type\": \"Orders\",\n            \"relationship\": \"CustomerOrders\"\n        },\n        {\n            \"name\": \"consumption\",\n            \"type\": \"integer\",\n            \"isCalculated\": true,\n            \"expression\": \"sum(orders.totalprice)\" // 식 정의\n        }\n    ],\n    \"primaryKey\": \"custkey\"\n},\n```\n\n재사용 가능한 계산식과 함수 형태의 매크로를 지원해요.\n\n계산에 관해서\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nWren Engine은 모델에서 계산을 정의하는 계산 필드를 제공합니다. 계산은 동일한 모델의 정의된 열 또는 관계를 통해 다른 모델의 관련 열을 사용할 수 있습니다. 일반적으로 공통 메트릭은 여러 다른 테이블에 관련이 있습니다. 계산된 필드를 통해 서로 다른 모델 간에 상호 작용하는 공통 메트릭을 정의하는 것이 쉽습니다.\n\n예를 들어, 아래는 3개의 열이 있는 orders라는 정의된 모델입니다. 모델을 향상시키기 위해 각 고객의 성장을 알기 위해 customer_last_month_orders_price라는 열을 추가하려고 할 수 있습니다. 다음과 같이 계산된 필드를 정의할 수 있습니다.\n\n```js\n\"columns\": [\n    {\n        \"name\": \"orderkey\",\n        \"type\": \"INTEGER\"\n    },\n    {\n        \"name\": \"custkey\",\n        \"type\": \"INTEGER\"\n    },\n    {\n        \"name\": \"price\",\n        \"type\": \"INTEGER\"\n    },\n    {\n        \"name\": \"purchasetimestamp\",\n        \"type\": \"TIMESTAMP\"\n    },\n    {\n        \"name\": \"customer_last_month_orders_price\",\n        \"type\": \"INTEGER\",\n        \"isCalculated\": \"true\",\n        // column\n        \"expression\": \"lag(price) over (partition by custkey order by date_trunc('YEAR', purchasetimestamp), 0, 0)\"\n    }\n]\n```\n\nMacro 함수에 관해\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n매크로는 모델 정의 언어(MDL)의 템플릿 기능입니다. MDL을 간소화하거나 핵심 개념을 중앙 집중화하는 데 유용합니다. 매크로는 Jinja 사양을 따르는 JVM의 템플릿 엔진 인 JinJava에 의해 구현됩니다. 매크로를 사용하면 특정 매개변수를 사용하여 템플릿을 정의하고 모든 표현식에서 사용할 수 있습니다.\n\n아래 시나리오에서 twdToUsd는 전체 MDL 전체에 걸친 범용적 개념을 나타냅니다. 반면에 revenue 및 totalpriceUsd는 개별 모델에 특정한 부분 개념을 포함합니다.\n\n```js\n\"macros\": [\n    {\n        \"name\": \"twdToUsd\",\n        \"definition\": \"(twd: Expression) =\u003e twd / 30\" // 매크로 정의\n    }\n],\n\"models\": [\n    {\n        \"name\": \"Orders\",\n        \"columns\": [\n            {\n                \"name\": \"totalprice\",\n                \"type\": \"double\"\n            },\n            {\n                \"name\": \"totalpriceUsd\",\n                \"expression\": \"{ twdToUsd('totalprice') }\" // 매크로 함수 재사용\n            }\n        ]\n    },\n    {\n        \"name\": \"Customer\",\n        \"columns\": [\n            {\n                \"name\": \"revenue\",\n                \"isCalculated\": true,\n                \"expression\": \"{ twdToUsd('sum(orders.totalprice)') }\" // 매크로 함수 재사용\n            },\n            {\n                \"name\": \"orders\",\n                \"Type\": \"Orders\",\n                \"relationship\": \"OrdersCustomer\"\n            }\n        ]\n    }\n]\r\n```\n\n## 표준 SQL 구문 지원\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nWren Engine은 내장된 SQL 프로세서와 변환기를 가지고 있습니다. Wren Engine을 통해 우리는 SQL을 파싱하고 WrenSQL 구문에서 표준 ANSI SQL과 호환되는 BigQuery, PostgreSQL, Snowflake 등과 같은 다른 방양으로 변환합니다.\n\n아래는 간단한 예시입니다. 여기서 데이터셋의 MDL을 정의하고 SQL을 제출하면 모든 관계, 계산, 메트릭이 대상 방양에 특화된 SQL로 변환됩니다.\n\n아래는 MDL 파일의 예시입니다 (Gist에서 확인해주세요): [Gist 링크](https://gist.github.com/...)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 쿼리를 제출하면\n\n```js\nSELECT * FROM orders\n```\n\nWren 엔진은 Wren SQL을 MDL 정의에 따라 다음과 같이 방언별 SQL로 변환합니다.\n\n```js\nWITH\n    \"order_items\" AS (\n    SELECT\n        \"order_items\".\"FreightValue\" \"FreightValue\"\n    , \"order_items\".\"ItemNumber\" \"ItemNumber\"\n    , \"order_items\".\"OrderId\" \"OrderId\"\n    , \"order_items\".\"Price\" \"Price\"\n    , \"order_items\".\"ProductId\" \"ProductId\"\n    , \"order_items\".\"ShippingLimitDate\" \"ShippingLimitDate\"\n    FROM\n        (\n        SELECT\n        \"order_items\".\"FreightValue\" \"FreightValue\"\n        , \"order_items\".\"ItemNumber\" \"ItemNumber\"\n        , \"order_items\".\"OrderId\" \"OrderId\"\n        , \"order_items\".\"Price\" \"Price\"\n        , \"order_items\".\"ProductId\" \"ProductId\"\n        , \"order_items\".\"ShippingLimitDate\" \"ShippingLimitDate\"\n        FROM\n        (\n            SELECT\n            \"FreightValue\" \"FreightValue\"\n            , \"ItemNumber\" \"ItemNumber\"\n            , \"OrderId\" \"OrderId\"\n            , \"Price\" \"Price\"\n            , \"ProductId\" \"ProductId\"\n            , \"ShippingLimitDate\" \"ShippingLimitDate\"\n            FROM\n            (\n            SELECT *\n            FROM\n                main.order_items\n            )  \"order_items\"\n        )  \"order_items\"\n    )  \"order_items\"\n) \n, \"payments\" AS (\n    SELECT\n        \"payments\".\"Installments\" \"Installments\"\n    , \"payments\".\"OrderId\" \"OrderId\"\n    , \"payments\".\"Sequential\" \"Sequential\"\n    , \"payments\".\"Type\" \"Type\"\n    , \"payments\".\"Value\" \"Value\"\n    FROM\n        (\n        SELECT\n        \"payments\".\"Installments\" \"Installments\"\n        , \"payments\".\"OrderId\" \"OrderId\"\n        , \"payments\".\"Sequential\" \"Sequential\"\n        , \"payments\".\"Type\" \"Type\"\n        , \"payments\".\"Value\" \"Value\"\n        FROM\n        (\n            SELECT\n            \"Installments\" \"Installments\"\n            , \"OrderId\" \"OrderId\"\n            , \"Sequential\" \"Sequential\"\n            , \"Type\" \"Type\"\n            , \"Value\" \"Value\"\n            FROM\n            (\n            SELECT *\n            FROM\n                main.payments\n            )  \"payments\"\n        )  \"payments\"\n    )  \"payments\"\n) \n, \"orders\" AS (\n    SELECT\n        \"orders\".\"ApprovedTimestamp\" \"ApprovedTimestamp\"\n    , \"orders\".\"CustomerId\" \"CustomerId\"\n    , \"orders\".\"DeliveredCarrierDate\" \"DeliveredCarrierDate\"\n    , \"orders\".\"DeliveredCustomerDate\" \"DeliveredCustomerDate\"\n    , \"orders\".\"EstimatedDeliveryDate\" \"EstimatedDeliveryDate\"\n    , \"orders\".\"OrderId\" \"OrderId\"\n    , \"orders\".\"PurchaseTimestamp\" \"PurchaseTimestamp\"\n    , \"orders\".\"Status\" \"Status\"\n    , \"RevenueA\".\"RevenueA\" \"RevenueA\"\n    , \"Sales\".\"Sales\" \"Sales\"\n    FROM\n        (((\n        SELECT\n        \"orders\".\"ApprovedTimestamp\" \"ApprovedTimestamp\"\n        , \"orders\".\"CustomerId\" \"CustomerId\"\n        , \"orders\".\"DeliveredCarrierDate\" \"DeliveredCarrierDate\"\n        , \"orders\".\"DeliveredCustomerDate\" \"DeliveredCustomerDate\"\n        , \"orders\".\"EstimatedDeliveryDate\" \"EstimatedDeliveryDate\"\n        , \"orders\".\"OrderId\" \"OrderId\"\n        , \"orders\".\"PurchaseTimestamp\" \"PurchaseTimestamp\"\n        , \"orders\".\"Status\" \"Status\"\n        FROM\n        (\n            SELECT\n            \"ApprovedTimestamp\" \"ApprovedTimestamp\"\n            , \"CustomerId\" \"CustomerId\"\n            , \"DeliveredCarrierDate\" \"DeliveredCarrierDate\"\n            , \"DeliveredCustomerDate\" \"DeliveredCustomerDate\"\n            , \"EstimatedDeliveryDate\" \"EstimatedDeliveryDate\"\n            , \"OrderId\" \"OrderId\"\n            , \"PurchaseTimestamp\" \"PurchaseTimestamp\"\n            , \"Status\" \"Status\"\n            FROM\n            (\n            SELECT *\n            FROM\n                main.orders\n            )  \"orders\"\n        )  \"orders\"\n    )  \"orders\"\n    LEFT JOIN (\n        SELECT\n        \"orders\".\"OrderId\"\n        , sum(\"order_items\".\"Price\") \"RevenueA\"\n        FROM\n        ((\n            SELECT\n            \"ApprovedTimestamp\" \"ApprovedTimestamp\"\n            , \"CustomerId\" \"CustomerId\"\n            , \"DeliveredCarrierDate\" \"DeliveredCarrierDate\"\n            , \"DeliveredCustomerDate\" \"DeliveredCustomerDate\"\n            , \"EstimatedDeliveryDate\" \"EstimatedDeliveryDate\"\n            , \"OrderId\" \"OrderId\"\n            , \"PurchaseTimestamp\" \"PurchaseTimestamp\"\n            , \"Status\" \"Status\"\n            FROM\n            (\n            SELECT *\n            FROM\n                main.orders\n            )  \"orders\"\n        )  \"orders\"\n        LEFT JOIN \"order_items\" ON (\"orders\".\"OrderId\" = \"order_items\".\"OrderId\"))\n        GROUP BY 1\n    )  \"RevenueA\" ON (\"orders\".\"OrderId\" = \"RevenueA\".\"OrderId\"))\n    LEFT JOIN (\n        SELECT\n        \"orders\".\"OrderId\"\n        , sum(\"payments\".\"Value\") \"Sales\"\n        FROM\n        ((\n            SELECT\n            \"ApprovedTimestamp\" \"ApprovedTimestamp\"\n            , \"CustomerId\" \"CustomerId\"\n            , \"DeliveredCarrierDate\" \"DeliveredCarrierDate\"\n            , \"DeliveredCustomerDate\" \"DeliveredCustomerDate\"\n            , \"EstimatedDeliveryDate\" \"EstimatedDeliveryDate\"\n            , \"OrderId\" \"OrderId\"\n            , \"PurchaseTimestamp\" \"PurchaseTimestamp\"\n            , \"Status\" \"Status\"\n            FROM\n            (\n            SELECT *\n            FROM\n                main.orders\n            )  \"orders\"\n        )  \"orders\"\n        LEFT JOIN \"payments\" ON (\"payments\".\"OrderId\" = \"orders\".\"OrderId\"))\n        GROUP BY 1\n    )  \"Sales\" ON (\"orders\".\"OrderId\" = \"Sales\".\"OrderId\"))\n) \nSELECT *\nFROM\n    orders\r\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 다양한 소스에서 일관된 액세스 제어 (계획)\n\n여러 데이터 소스 간의 액세스 제어를 관리하는 것은 서로 다른 액세스 제어 메커니즘으로 인해 어려울 수 있습니다. Wren Engine은 또한 다음과 같은 문제를 해결하고 있습니다.\n\n- 데이터 정책 정의: 모든 데이터 소스가 동일한 보안 및 액세스 프로토콜을 준수하도록 보장합니다.\n- 통합된 인증 및 권한 부여: 단일 엔진 아래에서 다양한 데이터 소스를 통합함으로써 인증 및 권한 부여 프로세스가 간소화됩니다. 이 일관성은 무단 액세스의 위험을 줄이고 사용자가 모든 데이터 소스에서 일관된 액세스 권한을 갖도록 보장합니다.\n- 역할 기반의 액세스 제어 (RBAC): 역할에 기반하여 액세스 권한이 개별 사용자가 아닌 역할에 할당되는 RBAC를 구현합니다.\n\n프로젝트를 실행할 때 자세한 내용을 공유할 예정이니 기대해주세요!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n## 오픈 및 스탠드얼론 아키텍처\n\nWren Engine은 오픈 소스로 제공되며 독립적인 의미 엔진으로 설계되어 있습니다. 이 엔진은 어떤 AI 에이전트와도 쉽게 구현할 수 있으며 일반적인 의미 엔진으로 사용할 수 있습니다.\n\n![이미지](/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_3.png)\n\n# 최종 의견\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\nWren Engine의 미션은 LLMs의 시맨틱 엔진으로서의 역할을 하여 시맨틱 레이어를 제공하고 BI 및 LLMs에 비즈니스 컨텍스트를 전달하는 것입니다. 우리는 엔진이 모든 애플리케이션 및 데이터 소스와 호환되도록 하는 오픈 커뮤니티를 구축하는 것을 믿습니다. 또한 개발자가 그 위에 자유롭게 AI 에이전트를 구축할 수 있는 아키텍처를 제공하는 것이 우리의 목표입니다.\n\nWrenAI와 Wren Engine에 관심이 있다면, 우리의 GitHub을 확인해보세요. 모두 오픈 소스입니다!\n\nWrenAI를 아직 확인하지 않았다면, 지금 확인해보세요!\n\n👉 GitHub: https://github.com/Canner/WrenAI\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n👉 X: https://twitter.com/getwrenai\n\n👉 Medium: https://blog.getwren.ai/\n\n이 기사를 즐겼다면 ⭐ Github에서 WrenAI에 별표를 주시는 걸 잊지 마세요 ⭐ 항상 읽어 주셔서 감사합니다.","ogImage":{"url":"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png"},"coverImage":"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png","tag":["Tech"],"readingTime":17},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e트렌드 AI 에이전트의 등장은 비즈니스 인텔리전스 및 데이터 관리 분야를 혁신적으로 변화시켰습니다. 가까운 미래에는 여러 AI 에이전트가 배포되어 데이터베이스와 데이터 웨어하우스에 저장된 방대한 내부 지식을 활용하고 해석할 것입니다. 이를 용이하게 하기 위해서는 의미론적 엔진이 필수적입니다. 이 엔진은 데이터 스키마를 관련 비즈니스 맥락에 매핑하여 AI 에이전트가 데이터의 기저 의미를 이해할 수 있도록 합니다. 비즈니스 맥락에 대한 구조화된 이해를 제공함으로써 의미론적 엔진은 AI 에이전트가 특정 비즈니스 요구에 맞는 정확한 SQL 쿼리를 생성하고 정확하고 맥락에 맞는 데이터 검색을 보장할 수 있도록합니다.\u003c/p\u003e\n\u003ch1\u003eLLMs가 데이터 구조와 어떤 문제를 가지고 있을까요?\u003c/h1\u003e\n\u003cp\u003eAI 에이전트가 데이터베이스와 직접 대화할 수 있도록 하는 것입니다. 기술적으로는 자연어를 SQL로 변환하고 데이터베이스를 쿼리하기 위한 인터페이스를 제공합니다.\u003c/p\u003e\n\u003cp\u003e그러나 데이터베이스로부터 맥락을 가진 스키마를 매핑하는 일은 간단한 작업이 아닙니다. 스키마와 메타데이터를 단순히 저장하는 것만으로 충분하지 않습니다. 데이터를 이해하고 처리하는 데 더 심층적으로 파고들어야 합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e의미론적 문맥의 부족\u003c/h2\u003e\n\u003cp\u003e데이터베이스 상단에 직접 LLMs를 활성화하면, 데이터베이스에 이미 있는 DDL 정보를 활용하여 LLMs가 데이터베이스 구조와 유형을 학습하도록 할 수 있습니다. 또한 주어진 DDL을 기반으로 각 테이블과 열의 정의를 이해하는 데 도움을 줄 수 있는 제목과 설명을 추가할 수도 있습니다.\u003c/p\u003e\n\u003cp\u003eLLMs로부터 최적의 성능과 정확도를 얻으려면, 단순히 DDL과 스키마 정의만으로는 충분하지 않습니다. LLMs는 다양한 엔티티 간의 관계를 이해하고 조직 내에서 사용되는 계산 공식을 파악해야 합니다. 계산, 메트릭, 관계 (조인 경로)와 같은 추가 정보를 제공하여 LLMs가 이러한 측면을 이해하는 데 도움이 되도록 하는 것이 중요합니다.\u003c/p\u003e\n\u003ch2\u003eLLMs와 의미론적 인터페이스 정의의 부재\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이전 섹션에서 언급한 것처럼 LLM이 계산, 지표, 관계 등의 복잡성을 이해할 수 있는 의미론적 맥락이 중요합니다. 아래에서 우리가 직면한 주제들을 일반화할 정의가 필요합니다.\u003c/p\u003e\n\u003cp\u003e계산\u003c/p\u003e\n\u003cp\u003e미리 훈련된 LLM에는 각 용어에 대한 일정이 있으며, 각 회사가 자체 KPI 또는 공식을 정의하는 방식과는 다릅니다. 계산은 우리가 일반화할 정의를 제공하는 곳입니다. 예를 들어, 총이익률은 (수익 - 판매비용) / 수익으로 정의됩니다. LLM은 이미 총이익률, 순이익률, CLTV 등과 같은 일반적인 KPI를 이해할 수 있는 능력이 충분히 있는 상태일 수 있습니다.\u003c/p\u003e\n\u003cp\u003e그러나 현실 세계에서는 열이 보통 혼란스럽고, 수익은 rev라는 열 이름으로 설정될 수 있으며, rev1, pre_rev_1, rev2 등을 볼 수도 있을 것입니다. 의미론적 맥락 없이는 LLM이 이들이 무엇을 의미 하는지 알 방법이 없습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e메트릭\u003c/p\u003e\n\u003cp\u003e\"슬라이스 앤 다이스\"는 데이터 분석에서 특히 다차원 데이터의 맥락에서 사용되는 기술로, 데이터를 다양한 관점에서 분해하고 보는 것을 말합니다. 이 접근 방식은 데이터를 자세히 탐색하고 분석하는 데 도움이 됩니다.\u003c/p\u003e\n\u003cp\u003e예를 들어, 판매 메트릭스 예시:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e총 판매량: 특정 기간 동안 생성된 총 수익.\u003c/li\u003e\n\u003cli\u003e지역별 판매: 지리적 지역별로 분할된 판매 데이터.\u003c/li\u003e\n\u003cli\u003e제품별 판매: 개별 제품 또는 제품 카테고리별로 분할된 판매 데이터.\u003c/li\u003e\n\u003cli\u003e채널별 판매: 온라인, 소매, 도매 등 다양한 판매 채널별로 분할된 판매 데이터.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e또 다른 예시로 고객 지표를 사용해보겠습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e고객 인구 통계: 고객을 나이, 성별, 위치 등으로 분석한 것입니다.\u003c/li\u003e\n\u003cli\u003e고객 세분화: 행동, 구매 이력, 선호도 등을 기반으로 한 고객을 분류한 것입니다.\u003c/li\u003e\n\u003cli\u003e고객 유치: 특정 기간 동안 새로 유치한 고객의 수를 의미합니다.\u003c/li\u003e\n\u003cli\u003e고객 이탈률: 회사와의 거래를 중단한 고객의 비율입니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e의미론적 관계\u003c/p\u003e\n\u003cp\u003e의미론적 관계는 주 키와 외래 키와는 다르지만, 데이터베이스와 데이터 관리의 맥락에서 관련 있는 개념입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e의미 관계는 주로 실제 세계의 관계에 기반하여 데이터 간의 의미 있는 연결을 나타냅니다. 이러한 관계는 데이터 요소들이 단순히 기본 키(primary key)와 외래 키(foreign key)에 의해 제공되는 구조적 링크 이상의 개념적 상호 관련을 설명합니다. 예를 들어, 고객(Customers)과 주문(Orders) 테이블 사이의 의미 관계는 \"고객이 여러 주문을 할 수 있다\"로 설명될 수 있습니다. 이는 기술적 연결을 넘어 관계의 실제 의미를 포착합니다.\u003c/p\u003e\n\u003cp\u003e반면, 기본 키와 외래 키는 데이터 무결성을 강화하고 데이터베이스 스키마 수준에서 관계를 설정하는 데 사용됩니다. 의미 관계는 데이터 엔티티 간의 관련을 보다 넓은 맥락에서 설명하고 이해하는 데 사용되며, 기본 키와 외래 키 설정에서 제공되지 않는 일대다, 다대다, 일대일 관계를 정의할 수도 있습니다.\u003c/p\u003e\n\u003ch2\u003eLLM과 다양한 데이터 소스 통합의 도전\u003c/h2\u003e\n\u003cp\u003e불안정한 SQL 생성 성능\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다양한 SQL 방양을 원활하게 처리할 수 있도록 여러 데이터 소스를 연결하고 LLMs가 다양한 소스 간의 성능 일관성을 보장함에는 상당한 어려움이 따릅니다. 데이터 소스의 수가 증가함에 따라 이 어려움은 더욱 부각됩니다. 일관성은 AI 시스템에 대한 신뢰를 구축하는 데 중요합니다. 안정적인 성능을 보장하는 것은 AI 솔루션의 전반적인 사용성과 신뢰성과 직결됩니다.\u003c/p\u003e\n\u003cp\u003e접근 제어 불일치\u003c/p\u003e\n\u003cp\u003e다양한 데이터 소스는 종종 각각의 접근 제어 메커니즘을 갖고 있습니다. 이러한 소스들이 직접 연결되면 일관된 데이터 정책을 유지하는 것이 어려워지며, 이는 대규모 데이터 팀 협업에 매우 중요합니다. 이 문제를 해결하기 위해 중앙 통제 계층이 필요합니다. 이 계층은 모든 LLM 사용 사례를 통해 접근 제어를 관리하여 데이터 정책이 균일하게 시행되고 기업 전체에서 보안 및 규정 준수를 강화합니다.\u003c/p\u003e\n\u003ch1\u003e시맨틱 레이어의 출현\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다수의 데이터 소스에 직접 연결하는 것은 일관성과 성능 면에서 중요한 도전을 야기합니다. 더 효과적인 접근 방법은 LLM 사용 사례를 위한 의미론적 레이어를 구현하는 것입니다.\u003c/p\u003e\n\u003ch2\u003e의미론적 레이어란?\u003c/h2\u003e\n\u003cp\u003e의미론적 아키텍처의 핵심 개념은 \u003cem\u003e온톨로지\u003c/em\u003e입니다. 온톨로지는 도메인을 형식적으로 나타내는 것으로, 엔티티와 속성을 나타내는 클래스 및 다른 엔티티와의 관계로 구성된다.\u003c/p\u003e\n\u003cp\u003e데이터셋의 도메인을 위한 온톨로지를 제공함으로써 LLM은 데이터를 제시하는 방법 뿐만 아니라 데이터가 무엇을 나타내는지에 대한 이해를 얻게 됩니다. 이를 통해 시스템은 데이터셋 내에 명시적으로 명시되지 않은 새로운 정보도 처리하고 추론할 수 있게 됩니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_0.png\"\u003e\n\u003ch2\u003e시맨틱 레이어의 장점\u003c/h2\u003e\n\u003cp\u003e시맨틱 레이어는 AI 에이전트가 서로 다른 도메인, 엔티티, 그리고 관계들 사이의 의미론을 이해하는 데 도움을 주는 것 이상의 역할을 합니다. 또한 AI 에이전트가 다음과 같은 프레임워크를 제공합니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e올바른 공식을 사용하여 계산\u003c/li\u003e\n\u003cli\u003e결합 경로와 메트릭에 대한 맥락 제공\u003c/li\u003e\n\u003cli\u003e서로 다른 데이터 소스 간 일관성을 보장하는 표준화된 SQL 레이어 제공\u003c/li\u003e\n\u003cli\u003e캡슐화된 비즈니스 논리를 적용하고 엔티티 간 복잡한 관계를 런타임에서 관리\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e의미론적 계층을 구현함으로써 AI 에이전트의 능력을 향상시킵니다. 이는 다양한 데이터 원본과 복잡한 비즈니스 맥락 간의 간극을 줄여 정확하고 일관된 통찰력을 제공할 수 있도록 돕습니다.\u003c/p\u003e\n\u003ch1\u003e렌 엔진 — LLM을 위한 의미론적 엔진\u003c/h1\u003e\n\u003cp\u003e그렇기 때문에 우리는 LLM을 위한 의미론적 엔진인 렌 엔진을 디자인했으며, 우리가 제시한 과제를 해결하기 위해 노력하고 있습니다.\u003c/p\u003e\n\u003cp\u003e렌 엔진을 사용하여 '모델링 정의 언어'(MDL)를 정의했으며, 이를 통해 LLM에게 적절한 문맥과 의미론적 메타데이터를 제공하고 엔진은 다양한 사용자 페르소나 및 의미론적 데이터 모델링 방법을 기반으로 SQL을 다시 작성할 수 있습니다. 엔진을 사용하여 의미론적 계층에 속하는 엑세스 제어 및 거버넌스와 같은 솔루션을 구축할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e의미론적 데이터 모델링\u003c/h2\u003e\n\u003cp\u003e온톨로지의 기본 개념은 메타데이터와 데이터를 그래프 구조로 설계하는 것인데, 이를 일반적으로 지식 그래프라고 합니다. Wren Engine을 사용하면 데이터 모델과 측정 항목을 이 그래프 기반 아키텍처 내에서 정의할 수 있습니다. 이를 통해 서로 다른 모델의 열이 어떻게 관련되어 있는지와 해당 관계가 의미하는 바를 명시할 수 있습니다. 이러한 구조화된 정의는 데이터 관계를 명확히하고 SQL 쿼리를 정확하고 효율적으로 재작성할 수 있는 능력을 향상시킵니다.\u003c/p\u003e\n\u003cp\u003e의미론적 명명과 설명\u003c/p\u003e\n\u003cp\u003eMDL에서는 모델, 열, 뷰, 그리고 관계의 의미론적 명명과 설명을 손쉽게 정의할 수 있습니다. 의미론적 정의를 사용하면 LLM이 데이터 구조의 의미를 이해하는데 도움을 줄 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e\u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"customers\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"columns\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\n        \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"City\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"VARCHAR\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"isCalculated\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"notNull\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"expression\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"properties\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"고객이 위치한 고객 도시입니다. \\\"고객 세그먼트\\\"로도 불립니다.\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"displayName\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"도시\"\u003c/span\u003e\n            \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-comment\"\u003e// 시맨틱 네이밍\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"name\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"UserId\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"type\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"VARCHAR\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"isCalculated\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"notNull\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"expression\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Id\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"properties\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"데이터 모델에서 각 고객의 고유 식별자입니다.\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"hljs-attr\"\u003e\"displayName\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Id\"\u003c/span\u003e\n            \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n        \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"refSql\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"select * from main.customers\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"cached\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"refreshTime\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003e\u003cspan class=\"hljs-keyword\"\u003enull\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-comment\"\u003e// 시맨틱 속성, 예를 들어 설명, 표시 이름 및 별칭을 여기에 추가할 수 있습니다.\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"properties\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"schema\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"main\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"catalog\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"memory\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"description\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"구매를 한 고객들의 도시를 포함하는 고객 테이블\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"hljs-attr\"\u003e\"displayName\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"customers\"\u003c/span\u003e\n    \u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003e\"primaryKey\"\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Id\"\u003c/span\u003e\n\u003cspan class=\"hljs-punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e,\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e관계와 계산을 지원하는 런타임 SQL 재작성\u003c/p\u003e\n\u003cp\u003eWren Engine을 사용하면 \"모델 정의 언어\"로 시맨틱 표현을 설계할 수 있고, AI 애플리케이션인 WrenAI에서 해당 주변에 UI를 구축하며 여기서도 오픈 소스로 제공됩니다. WrenAI 뒤에서는 서로 다른 엔티티 간의 관계를 정의하고, 일대다, 다대일, 일대일로 선언할 수 있습니다.\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_1.png\"\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음은 관계를 정의하는 간단한 예시입니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n    \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\"CustomerOrders\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"models\"\u003c/span\u003e : [ \u003cspan class=\"hljs-string\"\u003e\"Customer\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"Orders\"\u003c/span\u003e ],\n    \u003cspan class=\"hljs-string\"\u003e\"joinType\"\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\"ONE_TO_MANY\"\u003c/span\u003e,  \u003cspan class=\"hljs-comment\"\u003e// 원 대 다 아키텍처입니다.\u003c/span\u003e\n    \u003cspan class=\"hljs-string\"\u003e\"condition\"\u003c/span\u003e : \u003cspan class=\"hljs-string\"\u003e\"Customer.custkey = Orders.custkey\"\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e관계는 다음으로 구성됩니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ename: 관계의 이름\u003c/li\u003e\n\u003cli\u003emodels: 이 관계와 관련된 모델들. Wren Engine은 관계에서 2개의 모델만 연결합니다.\u003c/li\u003e\n\u003cli\u003ejoinType: 관계의 유형. 일반적으로 2개의 모델 간에는 4종류의 관계가 있습니다: ONE_TO_ONE (1 대 1), ONE_TO_MANY (1 대 다), MANY_TO_ONE (다 대 1), MANY_TO_MANY (다 대 다).\u003c/li\u003e\n\u003cli\u003econdition: 두 모델 간의 조인 조건. Wren Engine은 SQL 생성 중 조인 조건을 담당합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e모델에서 계산(식)을 추가할 때 사용자 정의 계산(식)도 추가할 수 있어요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e{\n    \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Customer\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"refSql\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"select * from tpch.customer\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"columns\"\u003c/span\u003e: [\n        {\n            \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"custkey\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"integer\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"c_orderkey\"\u003c/span\u003e\n        },\n        {\n            \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"varchar\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"c_name\"\u003c/span\u003e\n        },\n        {\n            \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Orders\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"relationship\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"CustomerOrders\"\u003c/span\u003e\n        },\n        {\n            \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"consumption\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"integer\"\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"isCalculated\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n            \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"sum(orders.totalprice)\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 식 정의\u003c/span\u003e\n        }\n    ],\n    \u003cspan class=\"hljs-string\"\u003e\"primaryKey\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"custkey\"\u003c/span\u003e\n},\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e재사용 가능한 계산식과 함수 형태의 매크로를 지원해요.\u003c/p\u003e\n\u003cp\u003e계산에 관해서\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eWren Engine은 모델에서 계산을 정의하는 계산 필드를 제공합니다. 계산은 동일한 모델의 정의된 열 또는 관계를 통해 다른 모델의 관련 열을 사용할 수 있습니다. 일반적으로 공통 메트릭은 여러 다른 테이블에 관련이 있습니다. 계산된 필드를 통해 서로 다른 모델 간에 상호 작용하는 공통 메트릭을 정의하는 것이 쉽습니다.\u003c/p\u003e\n\u003cp\u003e예를 들어, 아래는 3개의 열이 있는 orders라는 정의된 모델입니다. 모델을 향상시키기 위해 각 고객의 성장을 알기 위해 customer_last_month_orders_price라는 열을 추가하려고 할 수 있습니다. 다음과 같이 계산된 필드를 정의할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-string\"\u003e\"columns\"\u003c/span\u003e: [\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"orderkey\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"INTEGER\"\u003c/span\u003e\n    },\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"custkey\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"INTEGER\"\u003c/span\u003e\n    },\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"price\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"INTEGER\"\u003c/span\u003e\n    },\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"purchasetimestamp\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"TIMESTAMP\"\u003c/span\u003e\n    },\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"customer_last_month_orders_price\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"INTEGER\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"isCalculated\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"true\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-comment\"\u003e// column\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"lag(price) over (partition by custkey order by date_trunc('YEAR', purchasetimestamp), 0, 0)\"\u003c/span\u003e\n    }\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eMacro 함수에 관해\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e매크로는 모델 정의 언어(MDL)의 템플릿 기능입니다. MDL을 간소화하거나 핵심 개념을 중앙 집중화하는 데 유용합니다. 매크로는 Jinja 사양을 따르는 JVM의 템플릿 엔진 인 JinJava에 의해 구현됩니다. 매크로를 사용하면 특정 매개변수를 사용하여 템플릿을 정의하고 모든 표현식에서 사용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e아래 시나리오에서 twdToUsd는 전체 MDL 전체에 걸친 범용적 개념을 나타냅니다. 반면에 revenue 및 totalpriceUsd는 개별 모델에 특정한 부분 개념을 포함합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-string\"\u003e\"macros\"\u003c/span\u003e: [\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"twdToUsd\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"definition\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"(twd: Expression) =\u003e twd / 30\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 매크로 정의\u003c/span\u003e\n    }\n],\n\u003cspan class=\"hljs-string\"\u003e\"models\"\u003c/span\u003e: [\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Orders\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"columns\"\u003c/span\u003e: [\n            {\n                \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"totalprice\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"double\"\u003c/span\u003e\n            },\n            {\n                \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"totalpriceUsd\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"{ twdToUsd('totalprice') }\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 매크로 함수 재사용\u003c/span\u003e\n            }\n        ]\n    },\n    {\n        \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Customer\"\u003c/span\u003e,\n        \u003cspan class=\"hljs-string\"\u003e\"columns\"\u003c/span\u003e: [\n            {\n                \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"revenue\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"isCalculated\"\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"expression\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"{ twdToUsd('sum(orders.totalprice)') }\"\u003c/span\u003e \u003cspan class=\"hljs-comment\"\u003e// 매크로 함수 재사용\u003c/span\u003e\n            },\n            {\n                \u003cspan class=\"hljs-string\"\u003e\"name\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"Orders\"\u003c/span\u003e,\n                \u003cspan class=\"hljs-string\"\u003e\"relationship\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"OrdersCustomer\"\u003c/span\u003e\n            }\n        ]\n    }\n]\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e표준 SQL 구문 지원\u003c/h2\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eWren Engine은 내장된 SQL 프로세서와 변환기를 가지고 있습니다. Wren Engine을 통해 우리는 SQL을 파싱하고 WrenSQL 구문에서 표준 ANSI SQL과 호환되는 BigQuery, PostgreSQL, Snowflake 등과 같은 다른 방양으로 변환합니다.\u003c/p\u003e\n\u003cp\u003e아래는 간단한 예시입니다. 여기서 데이터셋의 MDL을 정의하고 SQL을 제출하면 모든 관계, 계산, 메트릭이 대상 방양에 특화된 SQL로 변환됩니다.\u003c/p\u003e\n\u003cp\u003e아래는 MDL 파일의 예시입니다 (Gist에서 확인해주세요): \u003ca href=\"https://gist.github.com/...\" rel=\"nofollow\" target=\"_blank\"\u003eGist 링크\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위의 쿼리를 제출하면\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e * \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e orders\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWren 엔진은 Wren SQL을 MDL 정의에 따라 다음과 같이 방언별 SQL로 변환합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003eWITH\u003c/span\u003e\n    \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e (\n    \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e\n    \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (\n        \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"FreightValue\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ItemNumber\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ProductId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ShippingLimitDate\"\u003c/span\u003e\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n            (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n                main.\u003cspan class=\"hljs-property\"\u003eorder_items\u003c/span\u003e\n            )  \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e\n        )  \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e\n    )  \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e\n) \n, \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e (\n    \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e\n    \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (\n        \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Installments\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Sequential\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Type\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n            (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n                main.\u003cspan class=\"hljs-property\"\u003epayments\u003c/span\u003e\n            )  \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e\n        )  \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e\n    )  \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e\n) \n, \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e (\n    \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e\n    , \u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e\n    \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (((\n        \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n            (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n                main.\u003cspan class=\"hljs-property\"\u003eorders\u003c/span\u003e\n            )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n        )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n    )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n    \u003cspan class=\"hljs-variable constant_\"\u003eLEFT\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e (\n        \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-title function_\"\u003esum\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Price\"\u003c/span\u003e) \u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        ((\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n            (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n                main.\u003cspan class=\"hljs-property\"\u003eorders\u003c/span\u003e\n            )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n        )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eLEFT\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e (\u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"order_items\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e))\n        \u003cspan class=\"hljs-variable constant_\"\u003eGROUP\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    )  \u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e (\u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"RevenueA\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e))\n    \u003cspan class=\"hljs-variable constant_\"\u003eLEFT\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e (\n        \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n        \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n        , \u003cspan class=\"hljs-title function_\"\u003esum\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"Value\"\u003c/span\u003e) \u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n        ((\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e\n            \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"ApprovedTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"CustomerId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCarrierDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"DeliveredCustomerDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"EstimatedDeliveryDate\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"PurchaseTimestamp\"\u003c/span\u003e\n            , \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"Status\"\u003c/span\u003e\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n            (\n            \u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n            \u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n                main.\u003cspan class=\"hljs-property\"\u003eorders\u003c/span\u003e\n            )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n        )  \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e\n        \u003cspan class=\"hljs-variable constant_\"\u003eLEFT\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eJOIN\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e (\u003cspan class=\"hljs-string\"\u003e\"payments\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e))\n        \u003cspan class=\"hljs-variable constant_\"\u003eGROUP\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n    )  \u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eON\u003c/span\u003e (\u003cspan class=\"hljs-string\"\u003e\"orders\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"Sales\"\u003c/span\u003e.\u003cspan class=\"hljs-string\"\u003e\"OrderId\"\u003c/span\u003e))\n) \n\u003cspan class=\"hljs-variable constant_\"\u003eSELECT\u003c/span\u003e *\n\u003cspan class=\"hljs-variable constant_\"\u003eFROM\u003c/span\u003e\n    orders\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e다양한 소스에서 일관된 액세스 제어 (계획)\u003c/h2\u003e\n\u003cp\u003e여러 데이터 소스 간의 액세스 제어를 관리하는 것은 서로 다른 액세스 제어 메커니즘으로 인해 어려울 수 있습니다. Wren Engine은 또한 다음과 같은 문제를 해결하고 있습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e데이터 정책 정의: 모든 데이터 소스가 동일한 보안 및 액세스 프로토콜을 준수하도록 보장합니다.\u003c/li\u003e\n\u003cli\u003e통합된 인증 및 권한 부여: 단일 엔진 아래에서 다양한 데이터 소스를 통합함으로써 인증 및 권한 부여 프로세스가 간소화됩니다. 이 일관성은 무단 액세스의 위험을 줄이고 사용자가 모든 데이터 소스에서 일관된 액세스 권한을 갖도록 보장합니다.\u003c/li\u003e\n\u003cli\u003e역할 기반의 액세스 제어 (RBAC): 역할에 기반하여 액세스 권한이 개별 사용자가 아닌 역할에 할당되는 RBAC를 구현합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e프로젝트를 실행할 때 자세한 내용을 공유할 예정이니 기대해주세요!\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch2\u003e오픈 및 스탠드얼론 아키텍처\u003c/h2\u003e\n\u003cp\u003eWren Engine은 오픈 소스로 제공되며 독립적인 의미 엔진으로 설계되어 있습니다. 이 엔진은 어떤 AI 에이전트와도 쉽게 구현할 수 있으며 일반적인 의미 엔진으로 사용할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture_3.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e최종 의견\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eWren Engine의 미션은 LLMs의 시맨틱 엔진으로서의 역할을 하여 시맨틱 레이어를 제공하고 BI 및 LLMs에 비즈니스 컨텍스트를 전달하는 것입니다. 우리는 엔진이 모든 애플리케이션 및 데이터 소스와 호환되도록 하는 오픈 커뮤니티를 구축하는 것을 믿습니다. 또한 개발자가 그 위에 자유롭게 AI 에이전트를 구축할 수 있는 아키텍처를 제공하는 것이 우리의 목표입니다.\u003c/p\u003e\n\u003cp\u003eWrenAI와 Wren Engine에 관심이 있다면, 우리의 GitHub을 확인해보세요. 모두 오픈 소스입니다!\u003c/p\u003e\n\u003cp\u003eWrenAI를 아직 확인하지 않았다면, 지금 확인해보세요!\u003c/p\u003e\n\u003cp\u003e👉 GitHub: \u003ca href=\"https://github.com/Canner/WrenAI\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://github.com/Canner/WrenAI\u003c/a\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e👉 X: \u003ca href=\"https://twitter.com/getwrenai\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://twitter.com/getwrenai\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e👉 Medium: \u003ca href=\"https://blog.getwren.ai/\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://blog.getwren.ai/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e이 기사를 즐겼다면 ⭐ Github에서 WrenAI에 별표를 주시는 걸 잊지 마세요 ⭐ 항상 읽어 주셔서 감사합니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-19-HowwedesignoursemanticengineforLLMsThebackboneofthesemanticlayerforLLMarchitecture"},"buildId":"8coAiP0lmiEK5aH6nkQkj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>