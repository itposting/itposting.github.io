<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>NBA 네트워크 분석 Neo4j를 활용한 연결하기 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="NBA 네트워크 분석 Neo4j를 활용한 연결하기 | itposting" data-gatsby-head="true"/><meta property="og:title" content="NBA 네트워크 분석 Neo4j를 활용한 연결하기 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j" data-gatsby-head="true"/><meta name="twitter:title" content="NBA 네트워크 분석 Neo4j를 활용한 연결하기 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-05-27 12:40" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/QYe6gFAUryFKFgjKBoIfo/_buildManifest.js" defer=""></script><script src="/_next/static/QYe6gFAUryFKFgjKBoIfo/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">NBA 네트워크 분석 Neo4j를 활용한 연결하기</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="NBA 네트워크 분석 Neo4j를 활용한 연결하기" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On May 27, 2024</span><span class="posts_reading_time__f7YPP">8<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<h2>두 NBA 선수 사이의 가장 짧은 링크를 찾는 동안... 그리고 그래프 데이터베이스로 놀아보기.</h2>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png" alt="Image"></p>
<h1>소개</h1>
<p>NBA 경기를 관람하다가 해설자들이 가리키는 선수들 간의 예상치 못한 연결에 흥미를 느낀 적이 있나요? 이러한 즉흥적인 발언에 영감을 받아 우리는 프로젝트에 착수했습니다. 영화 역할을 통해 이질적인 배우들을 연결하는 '케빈 베이컨의 여섯 단계'의 개념과 마찬가지로 NBA 선수들을 비슷한 방식으로 연결하려고 노력했습니다.</p>
<div class="content-ad"></div>
<p>이 블로그 포스트에서는 우리가 그래프 데이터베이스를 탐험한 과정과 다른 세대의 NBA 선수들 간의 관계를 발견하는 데 Neo4j를 어떻게 활용했는지에 대해 안내해드릴 거에요.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:996/0*ZjUZ-n48dZTqe14R.gif" alt="이미지"></p>
<h1>프로젝트 개요</h1>
<p>우리의 목표는 명확했습니다: 서로 다른 NBA 선수들 간의 가장 짧은 경로를 식별하는 것이었어요. 이를 달성하기 위해 NBA 드래프트 데이터와 함께 작업하여, Neo4j를 사용해 복잡한 선수 간의 연결을 매핑하는 데 도움을 받았어요. 이 작업은 단순히 숫자들을 연산하는 데 그치는 것이 아니라, 데이터 안에 숨겨진 매력적이고 가끔은 꽤 재미있는 이야기들을 발견하는 데 관한 것이었어요.</p>
<div class="content-ad"></div>
<p>다음은 이 프로젝트를 복제하는 데 필요한 단계를 간략하게 설명합니다:</p>
<ul>
<li>필요한 데이터 확보하기;</li>
<li>데이터를 노드와 엣지로 포맷팅하기;</li>
<li>Neo4j 데이터베이스 인스턴스 구성하기;</li>
<li>데이터를 Neo4j로 가져오기;</li>
<li>데이터와 상호 작용하기 위해 Cypher 표기법 활용하기.</li>
</ul>
<h1>데이터 획득과 처리</h1>
<p>대부분의 데이터 애호가들처럼, 우리는 NBA 드래프트 데이터에 초점을 맞춘 Kaggle에서 데이터셋을 확보했습니다. 그런 다음 Python을 사용하여 이 데이터셋을 처리했습니다. 이 과정은 데이터를 그래프 데이터베이스에 필요한 형식에 맞게 변환하는 것을 포함했습니다: 엔티티를 노드로 분할하고 연결을 엣지로 나누는 것입니다.</p>
<div class="content-ad"></div>
<p><img src="https://miro.medium.com/v2/resize:fit:608/0*eaiZYXxaq4pFOsiH.gif" alt="image"></p>
<p>After some basic processing, we can input the data to the Neo4j instance using the neo4j python package.</p>
<p>To increase the complexity of our ‘Six Degrees’ game though, we decided to only consider relationships of players with the team they were initially drafted from, rather than all the teams they played for throughout their career. A good challenge always adds a bit of spice!</p>
<h1>Why Graph Databases?</h1>
<div class="content-ad"></div>
<p>간단히 말해서, 그래프 데이터베이스는 데이터를 노드에 저장하고 노드 간의 관계를 엣지를 사용하여 표현합니다. 이를 통해 NBA 선수 연결과 같이 복잡하게 연결된 데이터를 시각화하고 분석하는 데 적합합니다.</p>
<p>이 프로젝트에 구조화된 데이터베이스를 사용할 수도 있었지만, 몇 가지 이유로 그래프 데이터베이스를 선택했습니다. 그 이유 중 일부는 다음과 같습니다: 데이터 포인트 간의 복잡한 연결을 처리하는 데 더 적합하다는 점; 데이터가 얼마나 크고 복잡하더라도 빠르고 효율적으로 유지한다는 점; 무엇보다도 이러한 데이터베이스의 시각적인 특성 덕분에 선수 간의 연결을 이해하고 확인하기 쉽습니다. ‘Six Degrees’와 같은 프로젝트에서 두 선수 간의 가장 짧은 링크를 찾는 경우, 그래프 데이터베이스가 정말 빛을 발합니다.</p>
<h1>Neo4j 사용하기</h1>
<p>이 프로젝트에 사용한 도구는 Neo4j였습니다. 우리는 Neo4j의 무료 샌드박스를 활용했는데, 이는 비용 없이 이용할 수 있는 작고 임시적인 데이터베이스입니다. 인스턴스를 설정하고 그 가능성을 발견하고 싶다면 위 링크를 통해 시도해보세요.</p>
<div class="content-ad"></div>
<p>다음과 같이 노드가 생성되었습니다:</p>
<ul>
<li>Player: NBA 선수를 나타냅니다. (예: Jalen Brunson)</li>
<li>Team: NBA 프랜차이즈를 나타냅니다. (예: Dallas Mavericks)</li>
<li>Organization: 선수가 선발된 대학, 대학교 및 국제 기관을 나타냅니다. (예: Villanova)</li>
<li>Draft Class: 실제 드래프트 연도를 나타냅니다. (예: 2018)</li>
</ul>
<p>노드 간의 연결은 다음 엣지를 통해 설정됩니다:</p>
<ul>
<li>DRAFTED_BY: 선수와 프랜차이즈를 연결합니다. (예: Jalen Brunson ↔ Dallas Mavericks)</li>
<li>IS_OF_DRAFT_SEASON: 선수와 드래프트 클래스를 연결합니다. (예: Jalen Brunson ↔ 2018)</li>
<li>IS_OF_ORG: 선수와 기관을 연결합니다. (예: Jalen Brunson ↔ Villanova)</li>
</ul>
<div class="content-ad"></div>
<p>위의 텍스트를 번역하면 다음과 같습니다.</p>
<p>네오4j 데이터베이스를 채우고 아래와 같이 시각적으로 매력적인 그래프를 만들 수 있었어요! 다음과 같은 Cypher 구문을 사용하여 데이터베이스를 쿼리할 수 있어요:</p>
<pre><code class="hljs language-js"># 제일로 브런슨(<span class="hljs-title class_">Jalen</span> <span class="hljs-title class_">Brunson</span>)의 연결을 보여줘 (<span class="hljs-attr">id</span>: <span class="hljs-number">1628973</span>)
<span class="hljs-variable constant_">MATCH</span> (<span class="hljs-attr">n</span>:<span class="hljs-title class_">Player</span> {<span class="hljs-attr">id</span>: <span class="hljs-number">1628973</span>})
<span class="hljs-variable constant_">RETURN</span> n
</code></pre>
<img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_1.png">
<p>하나의 선수의 연결을 시각화하고 그리는 것은 비교적 쉽지만, 대량의 개체를 처리할 때 복잡해집니다. 여기서 그래프 데이터베이스의 강점이 정말로 드러나는 거죠!</p>
<div class="content-ad"></div>
<p>아래는 Markdown 형식으로 변환된 표입니다.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*2jWbvPxLe9SzQw_YTXR11A.gif" alt="이미지"></p>
<h1>결과 및 발견</h1>
<p>몇 가지 간단한 쿼리를 사용하여 데이터 세트를 탐색할 수 있습니다:</p>
<pre><code class="hljs language-js"># 유형별 그룹화된 모든 엣지 수 세기
<span class="hljs-variable constant_">MATCH</span> ()-[relationship]->()
<span class="hljs-variable constant_">RETURN</span> <span class="hljs-title function_">TYPE</span>(relationship) <span class="hljs-variable constant_">AS</span> type, <span class="hljs-title function_">COUNT</span>(relationship) <span class="hljs-variable constant_">AS</span> amount
<span class="hljs-variable constant_">ORDER</span> <span class="hljs-variable constant_">BY</span> amount <span class="hljs-variable constant_">DESC</span>;

# 유형별 그룹화된 모든 노드 수 세기
<span class="hljs-variable constant_">MATCH</span> (n)
<span class="hljs-variable constant_">RETURN</span> <span class="hljs-title function_">labels</span>(n)[<span class="hljs-number">0</span>] <span class="hljs-variable constant_">AS</span> type, <span class="hljs-title function_">COUNT</span>(*) <span class="hljs-variable constant_">AS</span> amount
<span class="hljs-variable constant_">ORDER</span> <span class="hljs-variable constant_">BY</span> amount <span class="hljs-variable constant_">DESC</span>;
</code></pre>
<div class="content-ad"></div>
<p>아래는 결과 요약입니다:</p>
<h3>노드 (8,900)</h3>
<ul>
<li>Player: 7,884</li>
<li>Organization: 903</li>
<li>DraftClass: 74</li>
<li>Team: 39</li>
</ul>
<h3>연결 (24,320)</h3>
<div class="content-ad"></div>
<ul>
<li>IS_OF_DRAFT_SEASON: 8,454</li>
<li>DRAFTED_BY: 8,001</li>
<li>IS_OF_ORG: 7,865</li>
</ul>
<p>하지만 가장 중요한 쿼리 — 이 블로그 포스트의 주요 목표인 — 두 Player 엔티티 사이의 가장 짧은 경로를 보여주는 쿼리입니다!</p>
<p>여러분… 그 시간입니다! 🥁</p>
<pre><code class="hljs language-js"># 두 선수 사이의 가장 짧은 경로를 보여줍니다
<span class="hljs-variable constant_">MATCH</span> path=<span class="hljs-title function_">shortestPath</span>(
  (<span class="hljs-attr">p1</span>:<span class="hljs-title class_">Player</span> {<span class="hljs-attr">id</span>: <span class="hljs-string">"PLAYER-ID-1"</span>})-[*]-(<span class="hljs-attr">p2</span>:<span class="hljs-title class_">Player</span> {<span class="hljs-attr">id</span>: <span class="hljs-string">"PLAYER-ID-2"</span>})
)
<span class="hljs-variable constant_">RETURN</span> path
</code></pre>
<div class="content-ad"></div>
<p>위 쿼리를 서로 다른 선수 ID에 대해 실행하여 NBA 선수들 간의 흥미로운 관계를 볼 수 있습니다. 어떤 관계는 간단하지만, 다른 것들은 조금 복잡할 수도 있어요:</p>
<ul>
<li>조쉬 하트와 돈테 디빈첸조 모를 사이에 빌라노바로 연결된 관계를 볼 수 있어요. 대학 시절 함께 뛰었기 때문이에요:</li>
</ul>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_2.png" alt="image"></p>
<ul>
<li>또한, 동일한 드래프트 클래스를 공유한 선수들, 즉 르브론 제임스와 듀에인 웨이드는 2003년 드래프트 클래스를 통해 연결되어 있어요.</li>
</ul>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3.png" alt="2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3"></p>
<ul>
<li>서로 매우 다른 세대에서 나왔지만 동일한 팀에 드래프트된 선수들도이 연결을 공유합니다. 즉, D'Angelo Russel과 Jerry West는 둘 다 레이커스에 드래프트되었습니다.</li>
</ul>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4.png" alt="2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4"></p>
<p>지금까지 간단한 연결을 본 것처럼, 재미있는 부분은 LeBron James와 Kobe Bryant 사이의 연결과 같은 놀라운 연결을 찾는 것입니다. 이 두 거장이 직접적인 연결을 공유하지 않기 때문에, 그들을 연결하는 경로가 반드시 있어야 합니다. 어떻게 될까요? 🥁🥁🥁🥁🥁</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_5.png" alt="image"></p>
<p>Ever wondered how Zydrunas Ilgauskas, the Lithuanian center drafted by the Cavaliers in ’96, played a key role in linking LeBron and Kobe?</p>
<p><img src="https://miro.medium.com/v2/resize:fit:784/0*eblTJD0vmN4IyzQ9.gif" alt="gif"></p>
<p>But if you’re a Cavaliers fan — or simply a curious individual who researched the 1996 NBA Draft, you’ll find that the Cavaliers had more than one pick; they had three. So, how can we show all possible shortest paths between Kobe and LeBron? We would need to modify our query slightly:</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js"># 레브론 제임스(<span class="hljs-number">2544</span>)와 코비 브라이언트(<span class="hljs-number">977</span>) <span class="hljs-variable constant_">ID</span> 매치
<span class="hljs-variable constant_">MATCH</span> path=<span class="hljs-title function_">allShortestPaths</span>(
  (<span class="hljs-attr">p1</span>:<span class="hljs-title class_">Player</span> {<span class="hljs-attr">id</span>: <span class="hljs-number">2544</span>})-[*]-(<span class="hljs-attr">p2</span>:<span class="hljs-title class_">Player</span> {<span class="hljs-attr">id</span>: <span class="hljs-number">977</span>})
)
<span class="hljs-variable constant_">RETURN</span> path
</code></pre>
<p>결과:</p>
<img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_6.png">
<h1>추가 정보: 몇 가지 추가적 탐색 데이터 분석</h1>
<div class="content-ad"></div>
<p>더 나아가 Bleacher Report에 따르면 역사상 가장 우수한 드래프트 클래스는 1984 년의 것으로, Michael Jordan, John Stockton, Charles Barkley, Hakeem Olajuwon 등의 이름이 소개되었습니다.</p>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_7.png" alt="이미지"></p>
<p>모든 연도에서, 어떤 팀이 가장 많은 선수들을 섭외했을까요? 다음 쿼리가 이 질문에 대한 답을 제시합니다:</p>
<pre><code class="hljs language-js"># 각 팀이 섭외한 선수의 수를 세는 쿼리
<span class="hljs-variable constant_">MATCH</span> (<span class="hljs-attr">t</span>:<span class="hljs-title class_">Team</span>)&#x3C;-[:<span class="hljs-variable constant_">DRAFTED_BY</span>]-(<span class="hljs-attr">p</span>:<span class="hljs-title class_">Player</span>)
<span class="hljs-variable constant_">RETURN</span> t.<span class="hljs-property">team_name</span> <span class="hljs-variable constant_">AS</span> <span class="hljs-title class_">Team</span>, <span class="hljs-title function_">count</span>(p) <span class="hljs-variable constant_">AS</span> <span class="hljs-title class_">Drafts</span>
<span class="hljs-variable constant_">ORDER</span> <span class="hljs-variable constant_">BY</span> <span class="hljs-title class_">Drafts</span> <span class="hljs-variable constant_">DESC</span>
</code></pre>
<div class="content-ad"></div>
<p>결과에 따르면 사크라멘토 킹스가 최상의 위치를 차지했습니다(508명), 뒤를 이어 애틀랜타 호크스(489명)와 뉴욕 닉스(473명)가 있습니다. 킹스의 드래프트 픽 분포를 자세히 살펴봅시다...</p>
<pre><code class="hljs language-js"># 킹스가 올해 드래프트한 모든 선수 및 그들의 드래프트 클래스 가져오기
<span class="hljs-variable constant_">MATCH</span> path = (<span class="hljs-attr">t</span>:<span class="hljs-title class_">Team</span> {<span class="hljs-attr">team_name</span>: <span class="hljs-string">'Kings'</span>})
&#x3C;-[:<span class="hljs-variable constant_">DRAFTED_BY</span>]-
(<span class="hljs-attr">p</span>:<span class="hljs-title class_">Player</span>)
-[:<span class="hljs-variable constant_">IS_OF_DRAFT_SEASON</span>]->
(<span class="hljs-attr">d</span>:<span class="hljs-title class_">DraftClass</span>)
<span class="hljs-variable constant_">RETURN</span> path
</code></pre>
<p>이 쿼리는 킹스에 의해 드래프트된 모든 선수와 해당 드래프트 클래스를 보여주는 멋진 그래프를 반환합니다.</p>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8.png" alt="2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8"></p>
<div class="content-ad"></div>
<p>오른쪽에 보시다시피 킹스가 픽을 하지 않은 드래프트 클래스들이 있습니다. NBA 창시 프랜차이즈인 킹스 팀이 픽을 하지 않은 것은 가능한 일일까요? 네, 70년대 초 이전에는 킹스 프랜차이즈가 로열스로 알려졌기 때문입니다. 1970년 이전에 이 프랜차이즈의 모든 드래프트 픽은 로열스 팀 노드에 할당되었습니다.</p>
<h1>결론</h1>
<p>우리는 Neo4j를 사용하여 NBA 선수 관계를 매핑하여 'Six Degrees' 게임에 데이터 중심 접근법을 적용했습니다. 이 프로젝트는 데이터 분석뿐만 아니라 농구의 상호 연결된 세계를 탐험하는 것이었습니다!</p>
<p>이러한 다양한 관계를 탐색하는 것은 압도적이면서 매혹적일 수 있습니다. 저는 최종 이미지로 마무리하며, 이 그래프가 얼마나 멋질 수 있는지를 보여주는데, 그 복잡성과 아름다움에서 불꽃놀이를 연상케 합니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-json">경로 = (p<span class="hljs-punctuation">:</span>Player) -<span class="hljs-punctuation">[</span><span class="hljs-punctuation">:</span>DRAFTED_BY|IS_OF_DRAFT_SEASON*<span class="hljs-number">1.</span><span class="hljs-number">.2</span><span class="hljs-punctuation">]</span>-> (t)
WHERE (t<span class="hljs-punctuation">:</span>Team) OR (t<span class="hljs-punctuation">:</span>DraftClass) OR ((<span class="hljs-punctuation">:</span>Player) -<span class="hljs-punctuation">[</span><span class="hljs-punctuation">:</span>IS_OF_ORG<span class="hljs-punctuation">]</span>-> (t))
RETURN path
LIMIT <span class="hljs-number">500</span>
</code></pre>
<p><img src="/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_9.png" alt="이미지"></p>
<h1>감사의 말</h1>
<p>이 프로젝트의 MVP인 João Pedro Boufleur에게 특별한 찬사를 보냅니다. 그의 기여는 이 모험의 성공에 필수적이었습니다.</p>
<div class="content-ad"></div>
<h1>참고 자료</h1>
<ul>
<li>Kaggle: NBA 데이터베이스</li>
<li>Neo4j 샌드박스</li>
<li>Neo4j Cypher 매뉴얼</li>
</ul>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"NBA 네트워크 분석 Neo4j를 활용한 연결하기","description":"","date":"2024-05-27 12:40","slug":"2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j","content":"\n## 두 NBA 선수 사이의 가장 짧은 링크를 찾는 동안... 그리고 그래프 데이터베이스로 놀아보기.\n\n![Image](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png)\n\n# 소개\n\nNBA 경기를 관람하다가 해설자들이 가리키는 선수들 간의 예상치 못한 연결에 흥미를 느낀 적이 있나요? 이러한 즉흥적인 발언에 영감을 받아 우리는 프로젝트에 착수했습니다. 영화 역할을 통해 이질적인 배우들을 연결하는 '케빈 베이컨의 여섯 단계'의 개념과 마찬가지로 NBA 선수들을 비슷한 방식으로 연결하려고 노력했습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 블로그 포스트에서는 우리가 그래프 데이터베이스를 탐험한 과정과 다른 세대의 NBA 선수들 간의 관계를 발견하는 데 Neo4j를 어떻게 활용했는지에 대해 안내해드릴 거에요.\n\n![이미지](https://miro.medium.com/v2/resize:fit:996/0*ZjUZ-n48dZTqe14R.gif)\n\n# 프로젝트 개요\n\n우리의 목표는 명확했습니다: 서로 다른 NBA 선수들 간의 가장 짧은 경로를 식별하는 것이었어요. 이를 달성하기 위해 NBA 드래프트 데이터와 함께 작업하여, Neo4j를 사용해 복잡한 선수 간의 연결을 매핑하는 데 도움을 받았어요. 이 작업은 단순히 숫자들을 연산하는 데 그치는 것이 아니라, 데이터 안에 숨겨진 매력적이고 가끔은 꽤 재미있는 이야기들을 발견하는 데 관한 것이었어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음은 이 프로젝트를 복제하는 데 필요한 단계를 간략하게 설명합니다:\n\n- 필요한 데이터 확보하기;\n- 데이터를 노드와 엣지로 포맷팅하기;\n- Neo4j 데이터베이스 인스턴스 구성하기;\n- 데이터를 Neo4j로 가져오기;\n- 데이터와 상호 작용하기 위해 Cypher 표기법 활용하기.\n\n# 데이터 획득과 처리\n\n대부분의 데이터 애호가들처럼, 우리는 NBA 드래프트 데이터에 초점을 맞춘 Kaggle에서 데이터셋을 확보했습니다. 그런 다음 Python을 사용하여 이 데이터셋을 처리했습니다. 이 과정은 데이터를 그래프 데이터베이스에 필요한 형식에 맞게 변환하는 것을 포함했습니다: 엔티티를 노드로 분할하고 연결을 엣지로 나누는 것입니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](https://miro.medium.com/v2/resize:fit:608/0*eaiZYXxaq4pFOsiH.gif)\n\nAfter some basic processing, we can input the data to the Neo4j instance using the neo4j python package.\n\nTo increase the complexity of our ‘Six Degrees’ game though, we decided to only consider relationships of players with the team they were initially drafted from, rather than all the teams they played for throughout their career. A good challenge always adds a bit of spice!\n\n# Why Graph Databases?\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n간단히 말해서, 그래프 데이터베이스는 데이터를 노드에 저장하고 노드 간의 관계를 엣지를 사용하여 표현합니다. 이를 통해 NBA 선수 연결과 같이 복잡하게 연결된 데이터를 시각화하고 분석하는 데 적합합니다.\n\n이 프로젝트에 구조화된 데이터베이스를 사용할 수도 있었지만, 몇 가지 이유로 그래프 데이터베이스를 선택했습니다. 그 이유 중 일부는 다음과 같습니다: 데이터 포인트 간의 복잡한 연결을 처리하는 데 더 적합하다는 점; 데이터가 얼마나 크고 복잡하더라도 빠르고 효율적으로 유지한다는 점; 무엇보다도 이러한 데이터베이스의 시각적인 특성 덕분에 선수 간의 연결을 이해하고 확인하기 쉽습니다. ‘Six Degrees’와 같은 프로젝트에서 두 선수 간의 가장 짧은 링크를 찾는 경우, 그래프 데이터베이스가 정말 빛을 발합니다.\n\n# Neo4j 사용하기\n\n이 프로젝트에 사용한 도구는 Neo4j였습니다. 우리는 Neo4j의 무료 샌드박스를 활용했는데, 이는 비용 없이 이용할 수 있는 작고 임시적인 데이터베이스입니다. 인스턴스를 설정하고 그 가능성을 발견하고 싶다면 위 링크를 통해 시도해보세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음과 같이 노드가 생성되었습니다:\n\n- Player: NBA 선수를 나타냅니다. (예: Jalen Brunson)\n- Team: NBA 프랜차이즈를 나타냅니다. (예: Dallas Mavericks)\n- Organization: 선수가 선발된 대학, 대학교 및 국제 기관을 나타냅니다. (예: Villanova)\n- Draft Class: 실제 드래프트 연도를 나타냅니다. (예: 2018)\n\n노드 간의 연결은 다음 엣지를 통해 설정됩니다:\n\n- DRAFTED_BY: 선수와 프랜차이즈를 연결합니다. (예: Jalen Brunson ↔ Dallas Mavericks)\n- IS_OF_DRAFT_SEASON: 선수와 드래프트 클래스를 연결합니다. (예: Jalen Brunson ↔ 2018)\n- IS_OF_ORG: 선수와 기관을 연결합니다. (예: Jalen Brunson ↔ Villanova)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 텍스트를 번역하면 다음과 같습니다.\n\n네오4j 데이터베이스를 채우고 아래와 같이 시각적으로 매력적인 그래프를 만들 수 있었어요! 다음과 같은 Cypher 구문을 사용하여 데이터베이스를 쿼리할 수 있어요:\n\n```js\n# 제일로 브런슨(Jalen Brunson)의 연결을 보여줘 (id: 1628973)\nMATCH (n:Player {id: 1628973})\nRETURN n\n```\n\n\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_1.png\" /\u003e\n\n하나의 선수의 연결을 시각화하고 그리는 것은 비교적 쉽지만, 대량의 개체를 처리할 때 복잡해집니다. 여기서 그래프 데이터베이스의 강점이 정말로 드러나는 거죠!\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래는 Markdown 형식으로 변환된 표입니다.\n\n![이미지](https://miro.medium.com/v2/resize:fit:1400/1*2jWbvPxLe9SzQw_YTXR11A.gif)\n\n# 결과 및 발견\n\n몇 가지 간단한 쿼리를 사용하여 데이터 세트를 탐색할 수 있습니다:\n\n```js\n# 유형별 그룹화된 모든 엣지 수 세기\nMATCH ()-[relationship]-\u003e()\nRETURN TYPE(relationship) AS type, COUNT(relationship) AS amount\nORDER BY amount DESC;\n\n# 유형별 그룹화된 모든 노드 수 세기\nMATCH (n)\nRETURN labels(n)[0] AS type, COUNT(*) AS amount\nORDER BY amount DESC;\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래는 결과 요약입니다:\n\n### 노드 (8,900)\n\n- Player: 7,884\n- Organization: 903\n- DraftClass: 74\n- Team: 39\n\n### 연결 (24,320)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n- IS_OF_DRAFT_SEASON: 8,454\n- DRAFTED_BY: 8,001\n- IS_OF_ORG: 7,865\n\n하지만 가장 중요한 쿼리 — 이 블로그 포스트의 주요 목표인 — 두 Player 엔티티 사이의 가장 짧은 경로를 보여주는 쿼리입니다!\n\n여러분… 그 시간입니다! 🥁\n\n```js\n# 두 선수 사이의 가장 짧은 경로를 보여줍니다\nMATCH path=shortestPath(\n  (p1:Player {id: \"PLAYER-ID-1\"})-[*]-(p2:Player {id: \"PLAYER-ID-2\"})\n)\nRETURN path\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위 쿼리를 서로 다른 선수 ID에 대해 실행하여 NBA 선수들 간의 흥미로운 관계를 볼 수 있습니다. 어떤 관계는 간단하지만, 다른 것들은 조금 복잡할 수도 있어요:\n\n- 조쉬 하트와 돈테 디빈첸조 모를 사이에 빌라노바로 연결된 관계를 볼 수 있어요. 대학 시절 함께 뛰었기 때문이에요:\n\n![image](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_2.png)\n\n- 또한, 동일한 드래프트 클래스를 공유한 선수들, 즉 르브론 제임스와 듀에인 웨이드는 2003년 드래프트 클래스를 통해 연결되어 있어요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n![2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3.png)\n\n- 서로 매우 다른 세대에서 나왔지만 동일한 팀에 드래프트된 선수들도이 연결을 공유합니다. 즉, D'Angelo Russel과 Jerry West는 둘 다 레이커스에 드래프트되었습니다.\n\n![2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4.png)\n\n지금까지 간단한 연결을 본 것처럼, 재미있는 부분은 LeBron James와 Kobe Bryant 사이의 연결과 같은 놀라운 연결을 찾는 것입니다. 이 두 거장이 직접적인 연결을 공유하지 않기 때문에, 그들을 연결하는 경로가 반드시 있어야 합니다. 어떻게 될까요? 🥁🥁🥁🥁🥁\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![image](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_5.png)\n\nEver wondered how Zydrunas Ilgauskas, the Lithuanian center drafted by the Cavaliers in ’96, played a key role in linking LeBron and Kobe?\n\n![gif](https://miro.medium.com/v2/resize:fit:784/0*eblTJD0vmN4IyzQ9.gif)\n\nBut if you’re a Cavaliers fan — or simply a curious individual who researched the 1996 NBA Draft, you’ll find that the Cavaliers had more than one pick; they had three. So, how can we show all possible shortest paths between Kobe and LeBron? We would need to modify our query slightly:\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\n# 레브론 제임스(2544)와 코비 브라이언트(977) ID 매치\nMATCH path=allShortestPaths(\n  (p1:Player {id: 2544})-[*]-(p2:Player {id: 977})\n)\nRETURN path\n```\n\n결과:\n\n\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_6.png\" /\u003e\n\n# 추가 정보: 몇 가지 추가적 탐색 데이터 분석\n\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n더 나아가 Bleacher Report에 따르면 역사상 가장 우수한 드래프트 클래스는 1984 년의 것으로, Michael Jordan, John Stockton, Charles Barkley, Hakeem Olajuwon 등의 이름이 소개되었습니다.\n\n![이미지](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_7.png)\n\n모든 연도에서, 어떤 팀이 가장 많은 선수들을 섭외했을까요? 다음 쿼리가 이 질문에 대한 답을 제시합니다:\n\n```js\n# 각 팀이 섭외한 선수의 수를 세는 쿼리\nMATCH (t:Team)\u003c-[:DRAFTED_BY]-(p:Player)\nRETURN t.team_name AS Team, count(p) AS Drafts\nORDER BY Drafts DESC\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n결과에 따르면 사크라멘토 킹스가 최상의 위치를 차지했습니다(508명), 뒤를 이어 애틀랜타 호크스(489명)와 뉴욕 닉스(473명)가 있습니다. 킹스의 드래프트 픽 분포를 자세히 살펴봅시다...\n\n```js\n# 킹스가 올해 드래프트한 모든 선수 및 그들의 드래프트 클래스 가져오기\nMATCH path = (t:Team {team_name: 'Kings'})\n\u003c-[:DRAFTED_BY]-\n(p:Player)\n-[:IS_OF_DRAFT_SEASON]-\u003e\n(d:DraftClass)\nRETURN path\n```\n\n이 쿼리는 킹스에 의해 드래프트된 모든 선수와 해당 드래프트 클래스를 보여주는 멋진 그래프를 반환합니다.\n\n![2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n오른쪽에 보시다시피 킹스가 픽을 하지 않은 드래프트 클래스들이 있습니다. NBA 창시 프랜차이즈인 킹스 팀이 픽을 하지 않은 것은 가능한 일일까요? 네, 70년대 초 이전에는 킹스 프랜차이즈가 로열스로 알려졌기 때문입니다. 1970년 이전에 이 프랜차이즈의 모든 드래프트 픽은 로열스 팀 노드에 할당되었습니다.\n\n# 결론\n\n우리는 Neo4j를 사용하여 NBA 선수 관계를 매핑하여 'Six Degrees' 게임에 데이터 중심 접근법을 적용했습니다. 이 프로젝트는 데이터 분석뿐만 아니라 농구의 상호 연결된 세계를 탐험하는 것이었습니다!\n\n이러한 다양한 관계를 탐색하는 것은 압도적이면서 매혹적일 수 있습니다. 저는 최종 이미지로 마무리하며, 이 그래프가 얼마나 멋질 수 있는지를 보여주는데, 그 복잡성과 아름다움에서 불꽃놀이를 연상케 합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```json\n경로 = (p:Player) -[:DRAFTED_BY|IS_OF_DRAFT_SEASON*1..2]-\u003e (t)\nWHERE (t:Team) OR (t:DraftClass) OR ((:Player) -[:IS_OF_ORG]-\u003e (t))\nRETURN path\nLIMIT 500\n```\n\n![이미지](/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_9.png)\n\n# 감사의 말\n\n이 프로젝트의 MVP인 João Pedro Boufleur에게 특별한 찬사를 보냅니다. 그의 기여는 이 모험의 성공에 필수적이었습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n# 참고 자료\n\n- Kaggle: NBA 데이터베이스\n- Neo4j 샌드박스\n- Neo4j Cypher 매뉴얼\n","ogImage":{"url":"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png"},"coverImage":"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png","tag":["Tech"],"readingTime":8},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch2\u003e두 NBA 선수 사이의 가장 짧은 링크를 찾는 동안... 그리고 그래프 데이터베이스로 놀아보기.\u003c/h2\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_0.png\" alt=\"Image\"\u003e\u003c/p\u003e\n\u003ch1\u003e소개\u003c/h1\u003e\n\u003cp\u003eNBA 경기를 관람하다가 해설자들이 가리키는 선수들 간의 예상치 못한 연결에 흥미를 느낀 적이 있나요? 이러한 즉흥적인 발언에 영감을 받아 우리는 프로젝트에 착수했습니다. 영화 역할을 통해 이질적인 배우들을 연결하는 '케빈 베이컨의 여섯 단계'의 개념과 마찬가지로 NBA 선수들을 비슷한 방식으로 연결하려고 노력했습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 블로그 포스트에서는 우리가 그래프 데이터베이스를 탐험한 과정과 다른 세대의 NBA 선수들 간의 관계를 발견하는 데 Neo4j를 어떻게 활용했는지에 대해 안내해드릴 거에요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:996/0*ZjUZ-n48dZTqe14R.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e프로젝트 개요\u003c/h1\u003e\n\u003cp\u003e우리의 목표는 명확했습니다: 서로 다른 NBA 선수들 간의 가장 짧은 경로를 식별하는 것이었어요. 이를 달성하기 위해 NBA 드래프트 데이터와 함께 작업하여, Neo4j를 사용해 복잡한 선수 간의 연결을 매핑하는 데 도움을 받았어요. 이 작업은 단순히 숫자들을 연산하는 데 그치는 것이 아니라, 데이터 안에 숨겨진 매력적이고 가끔은 꽤 재미있는 이야기들을 발견하는 데 관한 것이었어요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음은 이 프로젝트를 복제하는 데 필요한 단계를 간략하게 설명합니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e필요한 데이터 확보하기;\u003c/li\u003e\n\u003cli\u003e데이터를 노드와 엣지로 포맷팅하기;\u003c/li\u003e\n\u003cli\u003eNeo4j 데이터베이스 인스턴스 구성하기;\u003c/li\u003e\n\u003cli\u003e데이터를 Neo4j로 가져오기;\u003c/li\u003e\n\u003cli\u003e데이터와 상호 작용하기 위해 Cypher 표기법 활용하기.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1\u003e데이터 획득과 처리\u003c/h1\u003e\n\u003cp\u003e대부분의 데이터 애호가들처럼, 우리는 NBA 드래프트 데이터에 초점을 맞춘 Kaggle에서 데이터셋을 확보했습니다. 그런 다음 Python을 사용하여 이 데이터셋을 처리했습니다. 이 과정은 데이터를 그래프 데이터베이스에 필요한 형식에 맞게 변환하는 것을 포함했습니다: 엔티티를 노드로 분할하고 연결을 엣지로 나누는 것입니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:608/0*eaiZYXxaq4pFOsiH.gif\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eAfter some basic processing, we can input the data to the Neo4j instance using the neo4j python package.\u003c/p\u003e\n\u003cp\u003eTo increase the complexity of our ‘Six Degrees’ game though, we decided to only consider relationships of players with the team they were initially drafted from, rather than all the teams they played for throughout their career. A good challenge always adds a bit of spice!\u003c/p\u003e\n\u003ch1\u003eWhy Graph Databases?\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e간단히 말해서, 그래프 데이터베이스는 데이터를 노드에 저장하고 노드 간의 관계를 엣지를 사용하여 표현합니다. 이를 통해 NBA 선수 연결과 같이 복잡하게 연결된 데이터를 시각화하고 분석하는 데 적합합니다.\u003c/p\u003e\n\u003cp\u003e이 프로젝트에 구조화된 데이터베이스를 사용할 수도 있었지만, 몇 가지 이유로 그래프 데이터베이스를 선택했습니다. 그 이유 중 일부는 다음과 같습니다: 데이터 포인트 간의 복잡한 연결을 처리하는 데 더 적합하다는 점; 데이터가 얼마나 크고 복잡하더라도 빠르고 효율적으로 유지한다는 점; 무엇보다도 이러한 데이터베이스의 시각적인 특성 덕분에 선수 간의 연결을 이해하고 확인하기 쉽습니다. ‘Six Degrees’와 같은 프로젝트에서 두 선수 간의 가장 짧은 링크를 찾는 경우, 그래프 데이터베이스가 정말 빛을 발합니다.\u003c/p\u003e\n\u003ch1\u003eNeo4j 사용하기\u003c/h1\u003e\n\u003cp\u003e이 프로젝트에 사용한 도구는 Neo4j였습니다. 우리는 Neo4j의 무료 샌드박스를 활용했는데, 이는 비용 없이 이용할 수 있는 작고 임시적인 데이터베이스입니다. 인스턴스를 설정하고 그 가능성을 발견하고 싶다면 위 링크를 통해 시도해보세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음과 같이 노드가 생성되었습니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePlayer: NBA 선수를 나타냅니다. (예: Jalen Brunson)\u003c/li\u003e\n\u003cli\u003eTeam: NBA 프랜차이즈를 나타냅니다. (예: Dallas Mavericks)\u003c/li\u003e\n\u003cli\u003eOrganization: 선수가 선발된 대학, 대학교 및 국제 기관을 나타냅니다. (예: Villanova)\u003c/li\u003e\n\u003cli\u003eDraft Class: 실제 드래프트 연도를 나타냅니다. (예: 2018)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e노드 간의 연결은 다음 엣지를 통해 설정됩니다:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eDRAFTED_BY: 선수와 프랜차이즈를 연결합니다. (예: Jalen Brunson ↔ Dallas Mavericks)\u003c/li\u003e\n\u003cli\u003eIS_OF_DRAFT_SEASON: 선수와 드래프트 클래스를 연결합니다. (예: Jalen Brunson ↔ 2018)\u003c/li\u003e\n\u003cli\u003eIS_OF_ORG: 선수와 기관을 연결합니다. (예: Jalen Brunson ↔ Villanova)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위의 텍스트를 번역하면 다음과 같습니다.\u003c/p\u003e\n\u003cp\u003e네오4j 데이터베이스를 채우고 아래와 같이 시각적으로 매력적인 그래프를 만들 수 있었어요! 다음과 같은 Cypher 구문을 사용하여 데이터베이스를 쿼리할 수 있어요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 제일로 브런슨(\u003cspan class=\"hljs-title class_\"\u003eJalen\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eBrunson\u003c/span\u003e)의 연결을 보여줘 (\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1628973\u003c/span\u003e)\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e (\u003cspan class=\"hljs-attr\"\u003en\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1628973\u003c/span\u003e})\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_1.png\"\u003e\n\u003cp\u003e하나의 선수의 연결을 시각화하고 그리는 것은 비교적 쉽지만, 대량의 개체를 처리할 때 복잡해집니다. 여기서 그래프 데이터베이스의 강점이 정말로 드러나는 거죠!\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래는 Markdown 형식으로 변환된 표입니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:1400/1*2jWbvPxLe9SzQw_YTXR11A.gif\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e결과 및 발견\u003c/h1\u003e\n\u003cp\u003e몇 가지 간단한 쿼리를 사용하여 데이터 세트를 탐색할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 유형별 그룹화된 모든 엣지 수 세기\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e ()-[relationship]-\u003e()\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eTYPE\u003c/span\u003e(relationship) \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e type, \u003cspan class=\"hljs-title function_\"\u003eCOUNT\u003c/span\u003e(relationship) \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e amount\n\u003cspan class=\"hljs-variable constant_\"\u003eORDER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e amount \u003cspan class=\"hljs-variable constant_\"\u003eDESC\u003c/span\u003e;\n\n# 유형별 그룹화된 모든 노드 수 세기\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e (n)\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003elabels\u003c/span\u003e(n)[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e] \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e type, \u003cspan class=\"hljs-title function_\"\u003eCOUNT\u003c/span\u003e(*) \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e amount\n\u003cspan class=\"hljs-variable constant_\"\u003eORDER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e amount \u003cspan class=\"hljs-variable constant_\"\u003eDESC\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래는 결과 요약입니다:\u003c/p\u003e\n\u003ch3\u003e노드 (8,900)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ePlayer: 7,884\u003c/li\u003e\n\u003cli\u003eOrganization: 903\u003c/li\u003e\n\u003cli\u003eDraftClass: 74\u003c/li\u003e\n\u003cli\u003eTeam: 39\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e연결 (24,320)\u003c/h3\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003eIS_OF_DRAFT_SEASON: 8,454\u003c/li\u003e\n\u003cli\u003eDRAFTED_BY: 8,001\u003c/li\u003e\n\u003cli\u003eIS_OF_ORG: 7,865\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e하지만 가장 중요한 쿼리 — 이 블로그 포스트의 주요 목표인 — 두 Player 엔티티 사이의 가장 짧은 경로를 보여주는 쿼리입니다!\u003c/p\u003e\n\u003cp\u003e여러분… 그 시간입니다! 🥁\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 두 선수 사이의 가장 짧은 경로를 보여줍니다\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e path=\u003cspan class=\"hljs-title function_\"\u003eshortestPath\u003c/span\u003e(\n  (\u003cspan class=\"hljs-attr\"\u003ep1\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"PLAYER-ID-1\"\u003c/span\u003e})-[*]-(\u003cspan class=\"hljs-attr\"\u003ep2\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"PLAYER-ID-2\"\u003c/span\u003e})\n)\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e path\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위 쿼리를 서로 다른 선수 ID에 대해 실행하여 NBA 선수들 간의 흥미로운 관계를 볼 수 있습니다. 어떤 관계는 간단하지만, 다른 것들은 조금 복잡할 수도 있어요:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e조쉬 하트와 돈테 디빈첸조 모를 사이에 빌라노바로 연결된 관계를 볼 수 있어요. 대학 시절 함께 뛰었기 때문이에요:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_2.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e또한, 동일한 드래프트 클래스를 공유한 선수들, 즉 르브론 제임스와 듀에인 웨이드는 2003년 드래프트 클래스를 통해 연결되어 있어요.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3.png\" alt=\"2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_3\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e서로 매우 다른 세대에서 나왔지만 동일한 팀에 드래프트된 선수들도이 연결을 공유합니다. 즉, D'Angelo Russel과 Jerry West는 둘 다 레이커스에 드래프트되었습니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4.png\" alt=\"2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_4\"\u003e\u003c/p\u003e\n\u003cp\u003e지금까지 간단한 연결을 본 것처럼, 재미있는 부분은 LeBron James와 Kobe Bryant 사이의 연결과 같은 놀라운 연결을 찾는 것입니다. 이 두 거장이 직접적인 연결을 공유하지 않기 때문에, 그들을 연결하는 경로가 반드시 있어야 합니다. 어떻게 될까요? 🥁🥁🥁🥁🥁\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_5.png\" alt=\"image\"\u003e\u003c/p\u003e\n\u003cp\u003eEver wondered how Zydrunas Ilgauskas, the Lithuanian center drafted by the Cavaliers in ’96, played a key role in linking LeBron and Kobe?\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://miro.medium.com/v2/resize:fit:784/0*eblTJD0vmN4IyzQ9.gif\" alt=\"gif\"\u003e\u003c/p\u003e\n\u003cp\u003eBut if you’re a Cavaliers fan — or simply a curious individual who researched the 1996 NBA Draft, you’ll find that the Cavaliers had more than one pick; they had three. So, how can we show all possible shortest paths between Kobe and LeBron? We would need to modify our query slightly:\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 레브론 제임스(\u003cspan class=\"hljs-number\"\u003e2544\u003c/span\u003e)와 코비 브라이언트(\u003cspan class=\"hljs-number\"\u003e977\u003c/span\u003e) \u003cspan class=\"hljs-variable constant_\"\u003eID\u003c/span\u003e 매치\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e path=\u003cspan class=\"hljs-title function_\"\u003eallShortestPaths\u003c/span\u003e(\n  (\u003cspan class=\"hljs-attr\"\u003ep1\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2544\u003c/span\u003e})-[*]-(\u003cspan class=\"hljs-attr\"\u003ep2\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e977\u003c/span\u003e})\n)\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e path\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e결과:\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_6.png\"\u003e\n\u003ch1\u003e추가 정보: 몇 가지 추가적 탐색 데이터 분석\u003c/h1\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e더 나아가 Bleacher Report에 따르면 역사상 가장 우수한 드래프트 클래스는 1984 년의 것으로, Michael Jordan, John Stockton, Charles Barkley, Hakeem Olajuwon 등의 이름이 소개되었습니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_7.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e모든 연도에서, 어떤 팀이 가장 많은 선수들을 섭외했을까요? 다음 쿼리가 이 질문에 대한 답을 제시합니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 각 팀이 섭외한 선수의 수를 세는 쿼리\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e (\u003cspan class=\"hljs-attr\"\u003et\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eTeam\u003c/span\u003e)\u0026#x3C;-[:\u003cspan class=\"hljs-variable constant_\"\u003eDRAFTED_BY\u003c/span\u003e]-(\u003cspan class=\"hljs-attr\"\u003ep\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e)\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e t.\u003cspan class=\"hljs-property\"\u003eteam_name\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eTeam\u003c/span\u003e, \u003cspan class=\"hljs-title function_\"\u003ecount\u003c/span\u003e(p) \u003cspan class=\"hljs-variable constant_\"\u003eAS\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDrafts\u003c/span\u003e\n\u003cspan class=\"hljs-variable constant_\"\u003eORDER\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eBY\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDrafts\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDESC\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e결과에 따르면 사크라멘토 킹스가 최상의 위치를 차지했습니다(508명), 뒤를 이어 애틀랜타 호크스(489명)와 뉴욕 닉스(473명)가 있습니다. 킹스의 드래프트 픽 분포를 자세히 살펴봅시다...\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# 킹스가 올해 드래프트한 모든 선수 및 그들의 드래프트 클래스 가져오기\n\u003cspan class=\"hljs-variable constant_\"\u003eMATCH\u003c/span\u003e path = (\u003cspan class=\"hljs-attr\"\u003et\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eTeam\u003c/span\u003e {\u003cspan class=\"hljs-attr\"\u003eteam_name\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Kings'\u003c/span\u003e})\n\u0026#x3C;-[:\u003cspan class=\"hljs-variable constant_\"\u003eDRAFTED_BY\u003c/span\u003e]-\n(\u003cspan class=\"hljs-attr\"\u003ep\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003ePlayer\u003c/span\u003e)\n-[:\u003cspan class=\"hljs-variable constant_\"\u003eIS_OF_DRAFT_SEASON\u003c/span\u003e]-\u003e\n(\u003cspan class=\"hljs-attr\"\u003ed\u003c/span\u003e:\u003cspan class=\"hljs-title class_\"\u003eDraftClass\u003c/span\u003e)\n\u003cspan class=\"hljs-variable constant_\"\u003eRETURN\u003c/span\u003e path\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 쿼리는 킹스에 의해 드래프트된 모든 선수와 해당 드래프트 클래스를 보여주는 멋진 그래프를 반환합니다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8.png\" alt=\"2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_8\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e오른쪽에 보시다시피 킹스가 픽을 하지 않은 드래프트 클래스들이 있습니다. NBA 창시 프랜차이즈인 킹스 팀이 픽을 하지 않은 것은 가능한 일일까요? 네, 70년대 초 이전에는 킹스 프랜차이즈가 로열스로 알려졌기 때문입니다. 1970년 이전에 이 프랜차이즈의 모든 드래프트 픽은 로열스 팀 노드에 할당되었습니다.\u003c/p\u003e\n\u003ch1\u003e결론\u003c/h1\u003e\n\u003cp\u003e우리는 Neo4j를 사용하여 NBA 선수 관계를 매핑하여 'Six Degrees' 게임에 데이터 중심 접근법을 적용했습니다. 이 프로젝트는 데이터 분석뿐만 아니라 농구의 상호 연결된 세계를 탐험하는 것이었습니다!\u003c/p\u003e\n\u003cp\u003e이러한 다양한 관계를 탐색하는 것은 압도적이면서 매혹적일 수 있습니다. 저는 최종 이미지로 마무리하며, 이 그래프가 얼마나 멋질 수 있는지를 보여주는데, 그 복잡성과 아름다움에서 불꽃놀이를 연상케 합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-json\"\u003e경로 = (p\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003ePlayer) -\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003eDRAFTED_BY|IS_OF_DRAFT_SEASON*\u003cspan class=\"hljs-number\"\u003e1.\u003c/span\u003e\u003cspan class=\"hljs-number\"\u003e.2\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e-\u003e (t)\nWHERE (t\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003eTeam) OR (t\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003eDraftClass) OR ((\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003ePlayer) -\u003cspan class=\"hljs-punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"hljs-punctuation\"\u003e:\u003c/span\u003eIS_OF_ORG\u003cspan class=\"hljs-punctuation\"\u003e]\u003c/span\u003e-\u003e (t))\nRETURN path\nLIMIT \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j_9.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003ch1\u003e감사의 말\u003c/h1\u003e\n\u003cp\u003e이 프로젝트의 MVP인 João Pedro Boufleur에게 특별한 찬사를 보냅니다. 그의 기여는 이 모험의 성공에 필수적이었습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch1\u003e참고 자료\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eKaggle: NBA 데이터베이스\u003c/li\u003e\n\u003cli\u003eNeo4j 샌드박스\u003c/li\u003e\n\u003cli\u003eNeo4j Cypher 매뉴얼\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-05-27-NBANetworkAnalysisConnectingtheDotswithNeo4j"},"buildId":"QYe6gFAUryFKFgjKBoIfo","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>