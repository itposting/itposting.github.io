<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법 | itposting" data-gatsby-head="true"/><meta property="og:title" content="윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows" data-gatsby-head="true"/><meta name="twitter:title" content="윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-22 16:31" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_buildManifest.js" defer=""></script><script src="/_next/static/8coAiP0lmiEK5aH6nkQkj/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 22, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<p>안녕하세요! 혹시 업무 중에 도커가 필요하고 관리해야 하는 상황이신가요?</p>
<p>윈도우 기기를 사용 중이지만, 회사 보안 정책, 자금 부족, 또는 기기에 더 많은 소프트웨어를 추가하고 싶지 않아서 Docker Desktop과 같은 라이선스를 확보할 수 없는 상황이신가요?</p>
<p>이 글은 여러분을 위한 것입니다. 개발자들이 리눅스 환경을 실행할 수 있도록 Windows의 기능인 WSL2(Windows 하위 시스템 for Linux)을 사용하여 로컬 기기를 도커 개발에 활성화하는 방법을 단계별로 안내해 드릴 거예요.</p>
<div class="content-ad"></div>
<p><img src="/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png" alt="Screenshot"></p>
<h1>Setting up the host machine</h1>
<h1>Installing WSL2</h1>
<p>Navigate on Windows to %UserProfile% in Windows Explorer</p>
<div class="content-ad"></div>
<p>Add, .wslconfig document (note: DOT (.) is in the front → .wslconfig)</p>
<pre><code class="hljs language-js"># <span class="hljs-title class_">Settings</span> apply across all <span class="hljs-title class_">Linux</span> distros running on <span class="hljs-variable constant_">WSL</span> <span class="hljs-number">2</span>
# <span class="hljs-title class_">Can</span> see memory <span class="hljs-keyword">in</span> wsl2 <span class="hljs-keyword">with</span> <span class="hljs-string">"free -m"</span>
# <span class="hljs-title class_">Goes</span> <span class="hljs-keyword">in</span> windows home directory <span class="hljs-keyword">as</span> .<span class="hljs-property">wslconfig</span>
[wsl2]

# <span class="hljs-title class_">Limits</span> <span class="hljs-variable constant_">VM</span> memory to use no more than <span class="hljs-number">48</span> <span class="hljs-variable constant_">GB</span>, defaults to <span class="hljs-number">50</span>% <span class="hljs-keyword">of</span> ram
memory=4GB

# <span class="hljs-title class_">Sets</span> the <span class="hljs-variable constant_">VM</span> to use <span class="hljs-number">8</span> virtual processors
processors=<span class="hljs-number">8</span>

# <span class="hljs-title class_">Sets</span> the amount <span class="hljs-keyword">of</span> swap storage space to 8GB, <span class="hljs-keyword">default</span> is <span class="hljs-number">25</span>% <span class="hljs-keyword">of</span> available <span class="hljs-variable constant_">RAM</span>
swap=1GB
</code></pre>
<p>Open the command prompt and execute the following commands:</p>
<p>Choose Linux distro</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">wsl --list --online
</code></pre>
<p>리눅스 배포판 설치</p>
<pre><code class="hljs language-js">wsl --install -d <span class="hljs-title class_">Ubuntu</span>-<span class="hljs-number">20.04</span>
</code></pre>
<p>설치 확인하기</p>
<div class="content-ad"></div>
<p>wsl --list --verbose</p>
<p>버전 2로 업그레이드하세요.</p>
<p>wsl --set-default-version 2
wsl --set-version Ubuntu-20.04 2</p>
<p>버전이 2로 설정되었는지 확인하세요.</p>
<div class="content-ad"></div>
<p>다음 명령어를 실행해 WSL 목록을 볼 수 있어요.</p>
<p>wsl --list --verbose</p>
<p>WSL을 다시 시작할 수 있어요.</p>
<p>wsl --shutdown</p>
<p>바시 셸 (Ubuntu)을 열 수 있어요. Windows 시작 → Ubuntu 검색해보세요.</p>
<div class="content-ad"></div>
<p>애플리케이션을 열어서 도커 엔진을 설치하러 이동해주세요.</p>
<p>루트 사용자 이름과 암호를 설정하라는 메시지가 표시될 것입니다.</p>
<h1>도커 엔진 설치</h1>
<p>리눅스 배포판에 로그인하신 후에요.</p>
<div class="content-ad"></div>
<p>사용자를 sudo(관리자)로 추가하세요.</p>
<pre><code class="hljs language-js">grep -E <span class="hljs-string">'sudo|wheel'</span> /etc/group
</code></pre>
<p>확인:</p>
<pre><code class="hljs language-js">sudo grep -E <span class="hljs-string">'%sudo|%wheel'</span> /etc/sudoers
</code></pre>
<div class="content-ad"></div>
<p>위의 내용은 다음과 같이 번역됩니다:</p>
<p>"테이블 태그를 마크다운 형식으로 변경해주세요."</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">sudo apt remove docker docker-engine docker.<span class="hljs-property">io</span> containerd runc
</code></pre>
<p>저장소를 이용해서 Docker를 설치해보세요.</p>
<p>apt를 업데이트하고 저장소를 HTTPS로 사용할 수 있도록 패키지를 설치해주세요.</p>
<pre><code class="hljs language-js">sudo apt-get update

sudo apt-get install \
    ca-certificates \
    curl \
    gnupg \
    lsb-release
</code></pre>
<div class="content-ad"></div>
<p>도커 공식 GPG 키를 추가하세요.</p>
<pre><code class="hljs language-bash">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
</code></pre>
<p>안정적인 저장소를 설정하세요.</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">echo</span> \
  <span class="hljs-string">"deb [arch=<span class="hljs-subst">$(dpkg --print-architecture)</span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  <span class="hljs-subst">$(lsb_release -cs)</span> stable"</span> | sudo <span class="hljs-built_in">tee</span> /etc/apt/sources.list.d/docker.list > /dev/null
</code></pre>
<div class="content-ad"></div>
<p>도커 엔진 설치하기</p>
<pre><code class="hljs language-js">sudo apt-get update

sudo apt-get install docker-ce docker-ce-cli containerd.<span class="hljs-property">io</span> docker-compose-plugin
</code></pre>
<p>사용자를 도커 그룹에 추가하기</p>
<pre><code class="hljs language-js">sudo groupadd docker
sudo usermod -aG docker $USER
</code></pre>
<div class="content-ad"></div>
<p>도커 서비스를 실행하세요.</p>
<pre><code class="hljs language-sh">sudo service docker start
</code></pre>
<p>상태를 확인하세요. ("docker is running"이어야 함)</p>
<pre><code class="hljs language-sh">sudo service docker status
</code></pre>
<div class="content-ad"></div>
<p>도커 컴포즈 (글 쓰는 시점의 최신 버전은 2.5.0입니다)를 설치해보세요.</p>
<pre><code class="hljs language-js">sudo curl -L <span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/docker/compose/releases/download/1.27.4/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose</span>
</code></pre>
<p>실행 권한 부여하기</p>
<pre><code class="hljs language-js">sudo chmod +x /usr/local/bin/docker-compose
</code></pre>
<div class="content-ad"></div>
<p>버전 확인</p>
<pre><code class="hljs language-js">docker-compose --version
</code></pre>
<p>출력: docker-compose version 1.27.4, build 40524192</p>
<p>이제 "wsl"을 사용하여 CMD/Powershell을 통해 도커를 사용할 수 있습니다.</p>
<div class="content-ad"></div>
<pre><code class="hljs language-js">wsl docker image ls
</code></pre>
<h1>도커를 로컬 머신에 노출시키기</h1>
<p>etc/docker/daemon.json 위치에서 daemon.json을 편집하세요.</p>
<div class="content-ad"></div>
<p>"hosts": [ "unix:///var/run/docker.sock","tcp://0.0.0.0:2375"]를 입력하고 저장하세요.</p>
<p><img src="/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_1.png" alt="이미지"></p>
<p>머신을 재시작하고 dockerd로 도커를 시작하세요.</p>
<p>로그를 확인하여 위 사진의 호스트를 확인하세요.</p>
<div class="content-ad"></div>
<p>잘 했어요! 도커와 도커 컴포즈를 사용하여 로컬 환경을 설정하고 생산적으로 사용할 수 있도록 세팅했네요 :)!</p>
<p>참고 자료:
<a href="https://learn.microsoft.com/en-us/windows/wsl/install" rel="nofollow" target="_blank">https://learn.microsoft.com/en-us/windows/wsl/install</a>
<a href="https://dev.to/_nicolas_louis_/how-to-run-docker-on-windows-without-docker-desktop-hik" rel="nofollow" target="_blank">https://dev.to/_nicolas_louis_/how-to-run-docker-on-windows-without-docker-desktop-hik</a>
<a href="https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9" rel="nofollow" target="_blank">https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9</a>
<a href="https://medium.com/geekculture/run-docker-in-windows-10-11-wsl-without-docker-desktop-a2a7eb90556d" rel="nofollow" target="_blank">https://medium.com/geekculture/run-docker-in-windows-10-11-wsl-without-docker-desktop-a2a7eb90556d</a></p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"윈도우에서 로컬 도커 개발을 위한 WSL2 설정 방법","description":"","date":"2024-06-22 16:31","slug":"2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows","content":"\n\n안녕하세요! 혹시 업무 중에 도커가 필요하고 관리해야 하는 상황이신가요?\n\n윈도우 기기를 사용 중이지만, 회사 보안 정책, 자금 부족, 또는 기기에 더 많은 소프트웨어를 추가하고 싶지 않아서 Docker Desktop과 같은 라이선스를 확보할 수 없는 상황이신가요?\n\n이 글은 여러분을 위한 것입니다. 개발자들이 리눅스 환경을 실행할 수 있도록 Windows의 기능인 WSL2(Windows 하위 시스템 for Linux)을 사용하여 로컬 기기를 도커 개발에 활성화하는 방법을 단계별로 안내해 드릴 거예요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n![Screenshot](/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png)\n\n# Setting up the host machine\n\n# Installing WSL2\n\nNavigate on Windows to %UserProfile% in Windows Explorer\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\nAdd, .wslconfig document (note: DOT (.) is in the front → .wslconfig)\n\n```js\n# Settings apply across all Linux distros running on WSL 2\n# Can see memory in wsl2 with \"free -m\"\n# Goes in windows home directory as .wslconfig\n[wsl2]\n\n# Limits VM memory to use no more than 48 GB, defaults to 50% of ram\nmemory=4GB\n\n# Sets the VM to use 8 virtual processors\nprocessors=8\n\n# Sets the amount of swap storage space to 8GB, default is 25% of available RAM\nswap=1GB\n```\n\nOpen the command prompt and execute the following commands:\n\nChoose Linux distro\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nwsl --list --online\n```\n\n리눅스 배포판 설치\n\n```js\nwsl --install -d Ubuntu-20.04\n```\n\n설치 확인하기\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\nwsl --list --verbose\n\n\n버전 2로 업그레이드하세요.\n\n\nwsl --set-default-version 2\nwsl --set-version Ubuntu-20.04 2\n\n\n버전이 2로 설정되었는지 확인하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n다음 명령어를 실행해 WSL 목록을 볼 수 있어요.\n\n\nwsl --list --verbose\n\n\nWSL을 다시 시작할 수 있어요.\n\n\nwsl --shutdown\n\n\n바시 셸 (Ubuntu)을 열 수 있어요. Windows 시작 → Ubuntu 검색해보세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n애플리케이션을 열어서 도커 엔진을 설치하러 이동해주세요.\n\n루트 사용자 이름과 암호를 설정하라는 메시지가 표시될 것입니다.\n\n# 도커 엔진 설치\n\n리눅스 배포판에 로그인하신 후에요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n사용자를 sudo(관리자)로 추가하세요.\n\n```js\ngrep -E 'sudo|wheel' /etc/group\n```\n\n확인:\n\n```js\nsudo grep -E '%sudo|%wheel' /etc/sudoers\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n위의 내용은 다음과 같이 번역됩니다:\n\n\"테이블 태그를 마크다운 형식으로 변경해주세요.\"\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo apt remove docker docker-engine docker.io containerd runc\n```\n\n저장소를 이용해서 Docker를 설치해보세요.\n\napt를 업데이트하고 저장소를 HTTPS로 사용할 수 있도록 패키지를 설치해주세요.\n\n```js\nsudo apt-get update\n\nsudo apt-get install \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도커 공식 GPG 키를 추가하세요.\n\n```bash\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n```\n\n안정적인 저장소를 설정하세요.\n\n```bash\necho \\\n  \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\\n  $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도커 엔진 설치하기\n\n```js\nsudo apt-get update\n\nsudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin\n```\n\n사용자를 도커 그룹에 추가하기\n\n```js\nsudo groupadd docker\nsudo usermod -aG docker $USER\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도커 서비스를 실행하세요.\n\n```sh\nsudo service docker start\n```\n\n상태를 확인하세요. (\"docker is running\"이어야 함)\n\n```sh\nsudo service docker status\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n도커 컴포즈 (글 쓰는 시점의 최신 버전은 2.5.0입니다)를 설치해보세요.\n\n```js\nsudo curl -L https://github.com/docker/compose/releases/download/1.27.4/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\n```\n\n실행 권한 부여하기\n\n```js\nsudo chmod +x /usr/local/bin/docker-compose\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n버전 확인\n\n```js\ndocker-compose --version\n```\n\n출력: docker-compose version 1.27.4, build 40524192\n\n이제 \"wsl\"을 사용하여 CMD/Powershell을 통해 도커를 사용할 수 있습니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nwsl docker image ls\n```\n\n# 도커를 로컬 머신에 노출시키기\n\netc/docker/daemon.json 위치에서 daemon.json을 편집하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\"hosts\": [ \"unix:///var/run/docker.sock\",\"tcp://0.0.0.0:2375\"]를 입력하고 저장하세요.\n\n![이미지](/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_1.png)\n\n머신을 재시작하고 dockerd로 도커를 시작하세요.\n\n로그를 확인하여 위 사진의 호스트를 확인하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n잘 했어요! 도커와 도커 컴포즈를 사용하여 로컬 환경을 설정하고 생산적으로 사용할 수 있도록 세팅했네요 :)!\n\n참고 자료:\nhttps://learn.microsoft.com/en-us/windows/wsl/install\nhttps://dev.to/_nicolas_louis_/how-to-run-docker-on-windows-without-docker-desktop-hik\nhttps://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9\nhttps://medium.com/geekculture/run-docker-in-windows-10-11-wsl-without-docker-desktop-a2a7eb90556d","ogImage":{"url":"/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png"},"coverImage":"/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cp\u003e안녕하세요! 혹시 업무 중에 도커가 필요하고 관리해야 하는 상황이신가요?\u003c/p\u003e\n\u003cp\u003e윈도우 기기를 사용 중이지만, 회사 보안 정책, 자금 부족, 또는 기기에 더 많은 소프트웨어를 추가하고 싶지 않아서 Docker Desktop과 같은 라이선스를 확보할 수 없는 상황이신가요?\u003c/p\u003e\n\u003cp\u003e이 글은 여러분을 위한 것입니다. 개발자들이 리눅스 환경을 실행할 수 있도록 Windows의 기능인 WSL2(Windows 하위 시스템 for Linux)을 사용하여 로컬 기기를 도커 개발에 활성화하는 방법을 단계별로 안내해 드릴 거예요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_0.png\" alt=\"Screenshot\"\u003e\u003c/p\u003e\n\u003ch1\u003eSetting up the host machine\u003c/h1\u003e\n\u003ch1\u003eInstalling WSL2\u003c/h1\u003e\n\u003cp\u003eNavigate on Windows to %UserProfile% in Windows Explorer\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003eAdd, .wslconfig document (note: DOT (.) is in the front → .wslconfig)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e# \u003cspan class=\"hljs-title class_\"\u003eSettings\u003c/span\u003e apply across all \u003cspan class=\"hljs-title class_\"\u003eLinux\u003c/span\u003e distros running on \u003cspan class=\"hljs-variable constant_\"\u003eWSL\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e\n# \u003cspan class=\"hljs-title class_\"\u003eCan\u003c/span\u003e see memory \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e wsl2 \u003cspan class=\"hljs-keyword\"\u003ewith\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\"free -m\"\u003c/span\u003e\n# \u003cspan class=\"hljs-title class_\"\u003eGoes\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ein\u003c/span\u003e windows home directory \u003cspan class=\"hljs-keyword\"\u003eas\u003c/span\u003e .\u003cspan class=\"hljs-property\"\u003ewslconfig\u003c/span\u003e\n[wsl2]\n\n# \u003cspan class=\"hljs-title class_\"\u003eLimits\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eVM\u003c/span\u003e memory to use no more than \u003cspan class=\"hljs-number\"\u003e48\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eGB\u003c/span\u003e, defaults to \u003cspan class=\"hljs-number\"\u003e50\u003c/span\u003e% \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e ram\nmemory=4GB\n\n# \u003cspan class=\"hljs-title class_\"\u003eSets\u003c/span\u003e the \u003cspan class=\"hljs-variable constant_\"\u003eVM\u003c/span\u003e to use \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e virtual processors\nprocessors=\u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e\n\n# \u003cspan class=\"hljs-title class_\"\u003eSets\u003c/span\u003e the amount \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e swap storage space to 8GB, \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e is \u003cspan class=\"hljs-number\"\u003e25\u003c/span\u003e% \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e available \u003cspan class=\"hljs-variable constant_\"\u003eRAM\u003c/span\u003e\nswap=1GB\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOpen the command prompt and execute the following commands:\u003c/p\u003e\n\u003cp\u003eChoose Linux distro\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ewsl --list --online\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e리눅스 배포판 설치\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ewsl --install -d \u003cspan class=\"hljs-title class_\"\u003eUbuntu\u003c/span\u003e-\u003cspan class=\"hljs-number\"\u003e20.04\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e설치 확인하기\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003ewsl --list --verbose\u003c/p\u003e\n\u003cp\u003e버전 2로 업그레이드하세요.\u003c/p\u003e\n\u003cp\u003ewsl --set-default-version 2\nwsl --set-version Ubuntu-20.04 2\u003c/p\u003e\n\u003cp\u003e버전이 2로 설정되었는지 확인하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음 명령어를 실행해 WSL 목록을 볼 수 있어요.\u003c/p\u003e\n\u003cp\u003ewsl --list --verbose\u003c/p\u003e\n\u003cp\u003eWSL을 다시 시작할 수 있어요.\u003c/p\u003e\n\u003cp\u003ewsl --shutdown\u003c/p\u003e\n\u003cp\u003e바시 셸 (Ubuntu)을 열 수 있어요. Windows 시작 → Ubuntu 검색해보세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e애플리케이션을 열어서 도커 엔진을 설치하러 이동해주세요.\u003c/p\u003e\n\u003cp\u003e루트 사용자 이름과 암호를 설정하라는 메시지가 표시될 것입니다.\u003c/p\u003e\n\u003ch1\u003e도커 엔진 설치\u003c/h1\u003e\n\u003cp\u003e리눅스 배포판에 로그인하신 후에요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e사용자를 sudo(관리자)로 추가하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003egrep -E \u003cspan class=\"hljs-string\"\u003e'sudo|wheel'\u003c/span\u003e /etc/group\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e확인:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo grep -E \u003cspan class=\"hljs-string\"\u003e'%sudo|%wheel'\u003c/span\u003e /etc/sudoers\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e위의 내용은 다음과 같이 번역됩니다:\u003c/p\u003e\n\u003cp\u003e\"테이블 태그를 마크다운 형식으로 변경해주세요.\"\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo apt remove docker docker-engine docker.\u003cspan class=\"hljs-property\"\u003eio\u003c/span\u003e containerd runc\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e저장소를 이용해서 Docker를 설치해보세요.\u003c/p\u003e\n\u003cp\u003eapt를 업데이트하고 저장소를 HTTPS로 사용할 수 있도록 패키지를 설치해주세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo apt-get update\n\nsudo apt-get install \\\n    ca-certificates \\\n    curl \\\n    gnupg \\\n    lsb-release\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e도커 공식 GPG 키를 추가하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003ecurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e안정적인 저장소를 설정하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003e\u003cspan class=\"hljs-built_in\"\u003eecho\u003c/span\u003e \\\n  \u003cspan class=\"hljs-string\"\u003e\"deb [arch=\u003cspan class=\"hljs-subst\"\u003e$(dpkg --print-architecture)\u003c/span\u003e signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \\\n  \u003cspan class=\"hljs-subst\"\u003e$(lsb_release -cs)\u003c/span\u003e stable\"\u003c/span\u003e | sudo \u003cspan class=\"hljs-built_in\"\u003etee\u003c/span\u003e /etc/apt/sources.list.d/docker.list \u003e /dev/null\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e도커 엔진 설치하기\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo apt-get update\n\nsudo apt-get install docker-ce docker-ce-cli containerd.\u003cspan class=\"hljs-property\"\u003eio\u003c/span\u003e docker-compose-plugin\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e사용자를 도커 그룹에 추가하기\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo groupadd docker\nsudo usermod -aG docker $USER\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e도커 서비스를 실행하세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003esudo service docker start\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e상태를 확인하세요. (\"docker is running\"이어야 함)\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-sh\"\u003esudo service docker status\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e도커 컴포즈 (글 쓰는 시점의 최신 버전은 2.5.0입니다)를 설치해보세요.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo curl -L \u003cspan class=\"hljs-attr\"\u003ehttps\u003c/span\u003e:\u003cspan class=\"hljs-comment\"\u003e//github.com/docker/compose/releases/download/1.27.4/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e실행 권한 부여하기\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo chmod +x /usr/local/bin/docker-compose\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e버전 확인\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003edocker-compose --version\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e출력: docker-compose version 1.27.4, build 40524192\u003c/p\u003e\n\u003cp\u003e이제 \"wsl\"을 사용하여 CMD/Powershell을 통해 도커를 사용할 수 있습니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ewsl docker image ls\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch1\u003e도커를 로컬 머신에 노출시키기\u003c/h1\u003e\n\u003cp\u003eetc/docker/daemon.json 위치에서 daemon.json을 편집하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e\"hosts\": [ \"unix:///var/run/docker.sock\",\"tcp://0.0.0.0:2375\"]를 입력하고 저장하세요.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows_1.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e머신을 재시작하고 dockerd로 도커를 시작하세요.\u003c/p\u003e\n\u003cp\u003e로그를 확인하여 위 사진의 호스트를 확인하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e잘 했어요! 도커와 도커 컴포즈를 사용하여 로컬 환경을 설정하고 생산적으로 사용할 수 있도록 세팅했네요 :)!\u003c/p\u003e\n\u003cp\u003e참고 자료:\n\u003ca href=\"https://learn.microsoft.com/en-us/windows/wsl/install\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://learn.microsoft.com/en-us/windows/wsl/install\u003c/a\u003e\n\u003ca href=\"https://dev.to/_nicolas_louis_/how-to-run-docker-on-windows-without-docker-desktop-hik\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://dev.to/_nicolas_louis_/how-to-run-docker-on-windows-without-docker-desktop-hik\u003c/a\u003e\n\u003ca href=\"https://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://dev.to/bowmanjd/install-docker-on-windows-wsl-without-docker-desktop-34m9\u003c/a\u003e\n\u003ca href=\"https://medium.com/geekculture/run-docker-in-windows-10-11-wsl-without-docker-desktop-a2a7eb90556d\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://medium.com/geekculture/run-docker-in-windows-10-11-wsl-without-docker-desktop-a2a7eb90556d\u003c/a\u003e\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-22-SetupWSL2forlocaldockerdevelopmentonWindows"},"buildId":"8coAiP0lmiEK5aH6nkQkj","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>