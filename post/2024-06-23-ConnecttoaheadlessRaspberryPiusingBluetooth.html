<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법 | itposting" data-gatsby-head="true"/><meta property="og:title" content="블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth" data-gatsby-head="true"/><meta name="twitter:title" content="블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-23 18:13" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_buildManifest.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 23, 2024</span><span class="posts_reading_time__f7YPP">5<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png">
<p>헤드리스 Raspberry Pi 기반 솔루션을 배포하는 데 있어서의 한 가지 어려움은 고객 네트워크에 라우터 액세스 없이 장치를 구성하는 것입니다. 종종 기계의 무선 설정을 변경해야 하지만 클라이언트 환경에서 설정을 변경할 수 있는 방법이 없습니다. 한 가지 솔루션은 장치에 Bluetooth 시리얼 포트를 구성하여 PC에서 실행 중인 Putty SSH 세션과 통신을 허용하는 것입니다. 연결이 설정되면 Bluetooth 검색을 끄어 다른 사람이 심지어 인식하지 못하도록 할 수 있습니다. 기계에서 액세스 포인트를 여는 것보다 안전하며 훨씬 간단합니다. 사실, 이 솔루션을 사용하려면 설치할 새 소프트웨어가 필요하지 않습니다. 대부분의 Bluetooth 기능을 포함하는 빌드와 함께 제공되는 소프트웨어의 구성만 필요합니다. 이를 Raspberry Pi 3+ 및 OrangePi Zero 3에서 시험했습니다. 한 가지 주의할 점은, 이 솔루션은 미래 릴리스에서 폐기될 예정이라는 RFCOMM 소프트웨어에 기반을 두고 있습니다. 다른 패키지를 사용한 (간단한) 대체 방법을 찾지 못했고, 제 개인적인 구성 도구에서만 사용하고 있기 때문에 미래의 구식화 위험을 감수할 의향이 있습니다. 웹에서 솔루션을 연구하는 동안 해결책에 대한 기술적인 기사를 많이 찾았지만 단계별 가이드는 찾지 못했습니다. 그래서 여기에 있습니다...</p>
<ul>
<li>개발이나 구성을 위해 일반적으로 수행하는 것처럼 Windows PC의 PuTTY를 사용하여 알려진 네트워크의 헤드리스 장치에 연결합니다.</li>
<li>RFCOMM 서비스를 위한 서비스 시작 파일을 추가합니다. 이는 /etc/systemd/system 디렉토리에 있어야하며 파일 이름은 rfcomm.service 여야합니다.</li>
</ul>
<pre><code class="hljs language-js">sudo nano /etc/systemd/system/rfcomm.<span class="hljs-property">service</span>
</code></pre>
<div class="content-ad"></div>
<p>아래 내용을 입력해주세요:</p>
<p>[Unit]
Description=RFCOMM 서비스
After=bluetooth.service
Requires=bluetooth.service
[Service]
ExecStart=/usr/bin/rfcomm watch hci0 1 getty rfcomm0 115200 xterm -a &#x3C;로그인이름>
[Install]
WantedBy=multi-user.target</p>
<p><code>&#x3C;로그인이름></code> 자리에 기기에 로그인하려는 사용자 이름을 입력해주세요. 만약 자동 로그인을 원치 않는다면, <code>ExecStart</code> 줄의 <code>xterm</code> 이후에 있는 모든 내용을 제거해주세요.</p>
<ol start="3">
<li>다음 명령어를 사용하여 재부팅 시 실행되도록 이 서비스를 설치해주세요:</li>
</ol>
<div class="content-ad"></div>
<pre><code class="hljs language-js">sudo systemctl enable rfcomm
</code></pre>
<ol start="4">
<li>다음과 같이 맨 위에 "DisbablePlugins = pnat" 문을 추가하여 파일 /etc/bluetooth/main.conf를 수정하십시오:</li>
</ol>
<pre><code class="hljs language-js">[<span class="hljs-title class_">General</span>]
<span class="hljs-title class_">DisablePlugins</span> = pnat
</code></pre>
<ol start="5">
<li>사용하고 싶은 Bluetooth 이름을 가진 파일 /etc/machine-info를 추가하거나 수정하십시오.</li>
</ol>
<div class="content-ad"></div>
<pre><code class="hljs language-js"><span class="hljs-variable constant_">PRETTY_HOSTNAME</span>=&#x3C;블루투스이름>
</code></pre>
<p>원하는 장치 이름으로 표시하고 싶다면 <code>블루투스이름</code>을 대체하세요.</p>
<ol start="6">
<li>블루투스 서비스 파일을 수정하세요.</li>
</ol>
<pre><code class="hljs language-js">sudo nano /etc/systemd/system/bluetooth.<span class="hljs-property">target</span>.<span class="hljs-property">wants</span>/bluetooth.<span class="hljs-property">service</span>
</code></pre>
<div class="content-ad"></div>
<p>다음 두 줄로 대체해주세요:</p>
<pre><code class="hljs language-js"><span class="hljs-title class_">ExecStart</span>=<span class="hljs-regexp">/usr/</span>libexec/bluetooth/bluetoothd -C
<span class="hljs-title class_">ExecStartPost</span>=<span class="hljs-regexp">/usr/</span>bin/sdptool add <span class="hljs-variable constant_">SP</span>
</code></pre>
<div class="content-ad"></div>
<ol start="7">
<li>
<p>이제 구성이 완료되어 장치를 다시 부팅하여 서비스를 다시 시작하세요.</p>
</li>
<li>
<p>이제 PC와 Bluetooth 연결을 수동으로 설정할 수 있습니다. 이 작업은 한 번만 수행하면 됩니다. 기기가 근접할 때마다 연결이 다시 설정됩니다. 라즈베리 파이 장치에서 다음 명령을 입력하세요:</p>
</li>
</ol>
<pre><code class="hljs language-js">sudo bluetoothctl
discoverable on
agent on
pairable on
scan on
</code></pre>
<p>이제 아래와 같이 Bluetooth 장치 ID가 표시됩니다. 통신하는 기기의 16진수 값을 찾아 작동 중인지 확인하세요.</p>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_1.png">
<ol start="9">
<li>이제 Windows PC로 이동하여 "Bluetooth 및 기타 장치 설정"을 열어주세요. 그런 다음 "Bluetooth 또는 기타 장치 추가"를 선택한 후 "Bluetooth"를 선택합니다. 그러면 장치 목록이 표시됩니다. 해당 장치를 선택하면 페어링 키가 표시되고 확인 메시지가 나타납니다. PC에서 확인한 후 라즈베리 파이에서 두 가지 메시지에 "예"로 답하세요. 이 시점에서 두 장치가 페어링되었으며 이제 라즈베리 파이 창으로 돌아가서 다음과 같이 입력해주세요:</li>
</ol>
<pre><code class="hljs language-js"><span class="hljs-title class_">Discoverable</span> off
exit
</code></pre>
<ol start="10">
<li>올바른 연결을 확인하려면 PC로 돌아가주세요. "Bluetooth 및 기타 장치" 창에서 아래로 스크롤하여 "장치 및 프린터"를 찾아 선택해주세요. 여기에 따라 "Unspecified" 항목 하위에 장치 목록이 표시됩니다.</li>
</ol>
<div class="content-ad"></div>
<img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_2.png">
<p>이제 디바이스에 마우스 오른쪽 버튼을 클릭한 다음 "속성"을 선택하세요. 그런 다음 "서비스" 탭을 선택하세요. 다음과 같은 화면이 나타날 것입니다:</p>
<img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_3.png">
<p>시리얼 포트 항목이 여러분의 디바이스에 연결해야 하는 포트입니다. 다음 단계에서 사용할 COM 포트 번호를 기록해주세요.</p>
<div class="content-ad"></div>
<ol start="11">
<li>이제 PC에서 새 PuTTY 창을 열고 표시된대로 연결 매개변수를 입력하세요. "Serial" 연결 유형을 선택하고 COM 포트 및 속도 값을 입력하세요.</li>
</ol>
<p><img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_4.png" alt="이미지"></p>
<p>이제 "열기"를 선택하고 잠시 후에...</p>
<p><img src="/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_5.png" alt="이미지"></p>
<div class="content-ad"></div>
<p>당신이 있네요!</p>
<p>이제 raspi-config를 사용하여 다른 네트워크를 설정하거나 필요한 다른 구성 변경을 할 수 있습니다.</p>
<p>여기까지 왔으니, 두 장치를 모두 전원을 끄고 다시 키고, 다시 구성하지 않고도 연결할 수 있는 능력을 테스트해보는 것이 좋습니다. 두 기기가 재부팅된 후 PC에서 "Bluetooth 및 기타 장치"로 이동하여 장치가 식별되고 시리얼 포트 서비스가 실행 중인지 확인하세요. 그렇다면 준비된 것입니다. 이제 두 장치를 Wifi 접속이 없는 위치로 옮기고 여전히 PuTTY와 Bluetooth를 통해 무선 장치와 통신할 수 있습니다.</p>
<p>그게 다에요! 마지막으로 한 가지 덧붙이자면, 몇 년간 Medium에서 독자로 활동해 왔지만, 이번이 처음으로 글을 게시하는 시도입니다. 건성적인 피드백을 환영할게요.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"블루투스를 사용하여 헤드리스 라즈베리 파이에 연결하는 방법","description":"","date":"2024-06-23 18:13","slug":"2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth","content":"\n\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png\" /\u003e\n\n헤드리스 Raspberry Pi 기반 솔루션을 배포하는 데 있어서의 한 가지 어려움은 고객 네트워크에 라우터 액세스 없이 장치를 구성하는 것입니다. 종종 기계의 무선 설정을 변경해야 하지만 클라이언트 환경에서 설정을 변경할 수 있는 방법이 없습니다. 한 가지 솔루션은 장치에 Bluetooth 시리얼 포트를 구성하여 PC에서 실행 중인 Putty SSH 세션과 통신을 허용하는 것입니다. 연결이 설정되면 Bluetooth 검색을 끄어 다른 사람이 심지어 인식하지 못하도록 할 수 있습니다. 기계에서 액세스 포인트를 여는 것보다 안전하며 훨씬 간단합니다. 사실, 이 솔루션을 사용하려면 설치할 새 소프트웨어가 필요하지 않습니다. 대부분의 Bluetooth 기능을 포함하는 빌드와 함께 제공되는 소프트웨어의 구성만 필요합니다. 이를 Raspberry Pi 3+ 및 OrangePi Zero 3에서 시험했습니다. 한 가지 주의할 점은, 이 솔루션은 미래 릴리스에서 폐기될 예정이라는 RFCOMM 소프트웨어에 기반을 두고 있습니다. 다른 패키지를 사용한 (간단한) 대체 방법을 찾지 못했고, 제 개인적인 구성 도구에서만 사용하고 있기 때문에 미래의 구식화 위험을 감수할 의향이 있습니다. 웹에서 솔루션을 연구하는 동안 해결책에 대한 기술적인 기사를 많이 찾았지만 단계별 가이드는 찾지 못했습니다. 그래서 여기에 있습니다...\n\n- 개발이나 구성을 위해 일반적으로 수행하는 것처럼 Windows PC의 PuTTY를 사용하여 알려진 네트워크의 헤드리스 장치에 연결합니다.\n- RFCOMM 서비스를 위한 서비스 시작 파일을 추가합니다. 이는 /etc/systemd/system 디렉토리에 있어야하며 파일 이름은 rfcomm.service 여야합니다.\n\n```js\nsudo nano /etc/systemd/system/rfcomm.service\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n아래 내용을 입력해주세요:\n\n\n[Unit]\nDescription=RFCOMM 서비스\nAfter=bluetooth.service\nRequires=bluetooth.service\n[Service]\nExecStart=/usr/bin/rfcomm watch hci0 1 getty rfcomm0 115200 xterm -a \u003c로그인이름\u003e\n[Install]\nWantedBy=multi-user.target\n\n\n`\u003c로그인이름\u003e` 자리에 기기에 로그인하려는 사용자 이름을 입력해주세요. 만약 자동 로그인을 원치 않는다면, `ExecStart` 줄의 `xterm` 이후에 있는 모든 내용을 제거해주세요.\n\n3. 다음 명령어를 사용하여 재부팅 시 실행되도록 이 서비스를 설치해주세요:\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nsudo systemctl enable rfcomm\n```\n\n4. 다음과 같이 맨 위에 \"DisbablePlugins = pnat\" 문을 추가하여 파일 /etc/bluetooth/main.conf를 수정하십시오:\n\n```js\n[General]\nDisablePlugins = pnat\n```\n\n5. 사용하고 싶은 Bluetooth 이름을 가진 파일 /etc/machine-info를 추가하거나 수정하십시오.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n```js\nPRETTY_HOSTNAME=\u003c블루투스이름\u003e\n```\n\n원하는 장치 이름으로 표시하고 싶다면 `블루투스이름`을 대체하세요.\n\n6. 블루투스 서비스 파일을 수정하세요.\n\n```js\nsudo nano /etc/systemd/system/bluetooth.target.wants/bluetooth.service\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n다음 두 줄로 대체해주세요:\n\n```js\nExecStart=/usr/libexec/bluetooth/bluetoothd -C\nExecStartPost=/usr/bin/sdptool add SP\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n7. 이제 구성이 완료되어 장치를 다시 부팅하여 서비스를 다시 시작하세요.\n\n8. 이제 PC와 Bluetooth 연결을 수동으로 설정할 수 있습니다. 이 작업은 한 번만 수행하면 됩니다. 기기가 근접할 때마다 연결이 다시 설정됩니다. 라즈베리 파이 장치에서 다음 명령을 입력하세요:\n\n```js\nsudo bluetoothctl\ndiscoverable on\nagent on\npairable on\nscan on\n```\n\n이제 아래와 같이 Bluetooth 장치 ID가 표시됩니다. 통신하는 기기의 16진수 값을 찾아 작동 중인지 확인하세요.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_1.png\" /\u003e\n\n9. 이제 Windows PC로 이동하여 \"Bluetooth 및 기타 장치 설정\"을 열어주세요. 그런 다음 \"Bluetooth 또는 기타 장치 추가\"를 선택한 후 \"Bluetooth\"를 선택합니다. 그러면 장치 목록이 표시됩니다. 해당 장치를 선택하면 페어링 키가 표시되고 확인 메시지가 나타납니다. PC에서 확인한 후 라즈베리 파이에서 두 가지 메시지에 \"예\"로 답하세요. 이 시점에서 두 장치가 페어링되었으며 이제 라즈베리 파이 창으로 돌아가서 다음과 같이 입력해주세요:\n\n```js\nDiscoverable off\nexit\n```\n\n10. 올바른 연결을 확인하려면 PC로 돌아가주세요. \"Bluetooth 및 기타 장치\" 창에서 아래로 스크롤하여 \"장치 및 프린터\"를 찾아 선택해주세요. 여기에 따라 \"Unspecified\" 항목 하위에 장치 목록이 표시됩니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_2.png\" /\u003e\n\n이제 디바이스에 마우스 오른쪽 버튼을 클릭한 다음 \"속성\"을 선택하세요. 그런 다음 \"서비스\" 탭을 선택하세요. 다음과 같은 화면이 나타날 것입니다:\n\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_3.png\" /\u003e\n\n시리얼 포트 항목이 여러분의 디바이스에 연결해야 하는 포트입니다. 다음 단계에서 사용할 COM 포트 번호를 기록해주세요.\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n11. 이제 PC에서 새 PuTTY 창을 열고 표시된대로 연결 매개변수를 입력하세요. \"Serial\" 연결 유형을 선택하고 COM 포트 및 속도 값을 입력하세요.\n\n![이미지](/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_4.png)\n\n이제 \"열기\"를 선택하고 잠시 후에...\n\n![이미지](/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_5.png)\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n당신이 있네요!\n\n이제 raspi-config를 사용하여 다른 네트워크를 설정하거나 필요한 다른 구성 변경을 할 수 있습니다.\n\n여기까지 왔으니, 두 장치를 모두 전원을 끄고 다시 키고, 다시 구성하지 않고도 연결할 수 있는 능력을 테스트해보는 것이 좋습니다. 두 기기가 재부팅된 후 PC에서 \"Bluetooth 및 기타 장치\"로 이동하여 장치가 식별되고 시리얼 포트 서비스가 실행 중인지 확인하세요. 그렇다면 준비된 것입니다. 이제 두 장치를 Wifi 접속이 없는 위치로 옮기고 여전히 PuTTY와 Bluetooth를 통해 무선 장치와 통신할 수 있습니다.\n\n그게 다에요! 마지막으로 한 가지 덧붙이자면, 몇 년간 Medium에서 독자로 활동해 왔지만, 이번이 처음으로 글을 게시하는 시도입니다. 건성적인 피드백을 환영할게요.","ogImage":{"url":"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png"},"coverImage":"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png","tag":["Tech"],"readingTime":5},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_0.png\"\u003e\n\u003cp\u003e헤드리스 Raspberry Pi 기반 솔루션을 배포하는 데 있어서의 한 가지 어려움은 고객 네트워크에 라우터 액세스 없이 장치를 구성하는 것입니다. 종종 기계의 무선 설정을 변경해야 하지만 클라이언트 환경에서 설정을 변경할 수 있는 방법이 없습니다. 한 가지 솔루션은 장치에 Bluetooth 시리얼 포트를 구성하여 PC에서 실행 중인 Putty SSH 세션과 통신을 허용하는 것입니다. 연결이 설정되면 Bluetooth 검색을 끄어 다른 사람이 심지어 인식하지 못하도록 할 수 있습니다. 기계에서 액세스 포인트를 여는 것보다 안전하며 훨씬 간단합니다. 사실, 이 솔루션을 사용하려면 설치할 새 소프트웨어가 필요하지 않습니다. 대부분의 Bluetooth 기능을 포함하는 빌드와 함께 제공되는 소프트웨어의 구성만 필요합니다. 이를 Raspberry Pi 3+ 및 OrangePi Zero 3에서 시험했습니다. 한 가지 주의할 점은, 이 솔루션은 미래 릴리스에서 폐기될 예정이라는 RFCOMM 소프트웨어에 기반을 두고 있습니다. 다른 패키지를 사용한 (간단한) 대체 방법을 찾지 못했고, 제 개인적인 구성 도구에서만 사용하고 있기 때문에 미래의 구식화 위험을 감수할 의향이 있습니다. 웹에서 솔루션을 연구하는 동안 해결책에 대한 기술적인 기사를 많이 찾았지만 단계별 가이드는 찾지 못했습니다. 그래서 여기에 있습니다...\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e개발이나 구성을 위해 일반적으로 수행하는 것처럼 Windows PC의 PuTTY를 사용하여 알려진 네트워크의 헤드리스 장치에 연결합니다.\u003c/li\u003e\n\u003cli\u003eRFCOMM 서비스를 위한 서비스 시작 파일을 추가합니다. 이는 /etc/systemd/system 디렉토리에 있어야하며 파일 이름은 rfcomm.service 여야합니다.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo nano /etc/systemd/system/rfcomm.\u003cspan class=\"hljs-property\"\u003eservice\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e아래 내용을 입력해주세요:\u003c/p\u003e\n\u003cp\u003e[Unit]\nDescription=RFCOMM 서비스\nAfter=bluetooth.service\nRequires=bluetooth.service\n[Service]\nExecStart=/usr/bin/rfcomm watch hci0 1 getty rfcomm0 115200 xterm -a \u0026#x3C;로그인이름\u003e\n[Install]\nWantedBy=multi-user.target\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\u0026#x3C;로그인이름\u003e\u003c/code\u003e 자리에 기기에 로그인하려는 사용자 이름을 입력해주세요. 만약 자동 로그인을 원치 않는다면, \u003ccode\u003eExecStart\u003c/code\u003e 줄의 \u003ccode\u003exterm\u003c/code\u003e 이후에 있는 모든 내용을 제거해주세요.\u003c/p\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003e다음 명령어를 사용하여 재부팅 시 실행되도록 이 서비스를 설치해주세요:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo systemctl enable rfcomm\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003e다음과 같이 맨 위에 \"DisbablePlugins = pnat\" 문을 추가하여 파일 /etc/bluetooth/main.conf를 수정하십시오:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e[\u003cspan class=\"hljs-title class_\"\u003eGeneral\u003c/span\u003e]\n\u003cspan class=\"hljs-title class_\"\u003eDisablePlugins\u003c/span\u003e = pnat\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003e사용하고 싶은 Bluetooth 이름을 가진 파일 /etc/machine-info를 추가하거나 수정하십시오.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-variable constant_\"\u003ePRETTY_HOSTNAME\u003c/span\u003e=\u0026#x3C;블루투스이름\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e원하는 장치 이름으로 표시하고 싶다면 \u003ccode\u003e블루투스이름\u003c/code\u003e을 대체하세요.\u003c/p\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003e블루투스 서비스 파일을 수정하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo nano /etc/systemd/system/bluetooth.\u003cspan class=\"hljs-property\"\u003etarget\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ewants\u003c/span\u003e/bluetooth.\u003cspan class=\"hljs-property\"\u003eservice\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e다음 두 줄로 대체해주세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eExecStart\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003elibexec/bluetooth/bluetoothd -C\n\u003cspan class=\"hljs-title class_\"\u003eExecStartPost\u003c/span\u003e=\u003cspan class=\"hljs-regexp\"\u003e/usr/\u003c/span\u003ebin/sdptool add \u003cspan class=\"hljs-variable constant_\"\u003eSP\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003e\n\u003cp\u003e이제 구성이 완료되어 장치를 다시 부팅하여 서비스를 다시 시작하세요.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e이제 PC와 Bluetooth 연결을 수동으로 설정할 수 있습니다. 이 작업은 한 번만 수행하면 됩니다. 기기가 근접할 때마다 연결이 다시 설정됩니다. 라즈베리 파이 장치에서 다음 명령을 입력하세요:\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003esudo bluetoothctl\ndiscoverable on\nagent on\npairable on\nscan on\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이제 아래와 같이 Bluetooth 장치 ID가 표시됩니다. 통신하는 기기의 16진수 값을 찾아 작동 중인지 확인하세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_1.png\"\u003e\n\u003col start=\"9\"\u003e\n\u003cli\u003e이제 Windows PC로 이동하여 \"Bluetooth 및 기타 장치 설정\"을 열어주세요. 그런 다음 \"Bluetooth 또는 기타 장치 추가\"를 선택한 후 \"Bluetooth\"를 선택합니다. 그러면 장치 목록이 표시됩니다. 해당 장치를 선택하면 페어링 키가 표시되고 확인 메시지가 나타납니다. PC에서 확인한 후 라즈베리 파이에서 두 가지 메시지에 \"예\"로 답하세요. 이 시점에서 두 장치가 페어링되었으며 이제 라즈베리 파이 창으로 돌아가서 다음과 같이 입력해주세요:\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eDiscoverable\u003c/span\u003e off\nexit\n\u003c/code\u003e\u003c/pre\u003e\n\u003col start=\"10\"\u003e\n\u003cli\u003e올바른 연결을 확인하려면 PC로 돌아가주세요. \"Bluetooth 및 기타 장치\" 창에서 아래로 스크롤하여 \"장치 및 프린터\"를 찾아 선택해주세요. 여기에 따라 \"Unspecified\" 항목 하위에 장치 목록이 표시됩니다.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_2.png\"\u003e\n\u003cp\u003e이제 디바이스에 마우스 오른쪽 버튼을 클릭한 다음 \"속성\"을 선택하세요. 그런 다음 \"서비스\" 탭을 선택하세요. 다음과 같은 화면이 나타날 것입니다:\u003c/p\u003e\n\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_3.png\"\u003e\n\u003cp\u003e시리얼 포트 항목이 여러분의 디바이스에 연결해야 하는 포트입니다. 다음 단계에서 사용할 COM 포트 번호를 기록해주세요.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003col start=\"11\"\u003e\n\u003cli\u003e이제 PC에서 새 PuTTY 창을 열고 표시된대로 연결 매개변수를 입력하세요. \"Serial\" 연결 유형을 선택하고 COM 포트 및 속도 값을 입력하세요.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_4.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cp\u003e이제 \"열기\"를 선택하고 잠시 후에...\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/img/2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth_5.png\" alt=\"이미지\"\u003e\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e당신이 있네요!\u003c/p\u003e\n\u003cp\u003e이제 raspi-config를 사용하여 다른 네트워크를 설정하거나 필요한 다른 구성 변경을 할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e여기까지 왔으니, 두 장치를 모두 전원을 끄고 다시 키고, 다시 구성하지 않고도 연결할 수 있는 능력을 테스트해보는 것이 좋습니다. 두 기기가 재부팅된 후 PC에서 \"Bluetooth 및 기타 장치\"로 이동하여 장치가 식별되고 시리얼 포트 서비스가 실행 중인지 확인하세요. 그렇다면 준비된 것입니다. 이제 두 장치를 Wifi 접속이 없는 위치로 옮기고 여전히 PuTTY와 Bluetooth를 통해 무선 장치와 통신할 수 있습니다.\u003c/p\u003e\n\u003cp\u003e그게 다에요! 마지막으로 한 가지 덧붙이자면, 몇 년간 Medium에서 독자로 활동해 왔지만, 이번이 처음으로 글을 게시하는 시도입니다. 건성적인 피드백을 환영할게요.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-23-ConnecttoaheadlessRaspberryPiusingBluetooth"},"buildId":"CYQjEY3HhSkRTiL0gewc0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>