<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><title>안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠 | itposting</title><meta name="description" content=""/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:url" content="https://itposting.github.io///post/2024-06-19-HowToInstallDockerUsingAnsible" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠 | itposting" data-gatsby-head="true"/><meta property="og:title" content="안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠 | itposting" data-gatsby-head="true"/><meta property="og:description" content="" data-gatsby-head="true"/><meta property="og:image" content="/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png" data-gatsby-head="true"/><meta property="og:locale" content="en_US" data-gatsby-head="true"/><meta name="twitter:card" content="summary_large_image" data-gatsby-head="true"/><meta property="twitter:domain" content="https://itposting.github.io/" data-gatsby-head="true"/><meta property="twitter:url" content="https://itposting.github.io///post/2024-06-19-HowToInstallDockerUsingAnsible" data-gatsby-head="true"/><meta name="twitter:title" content="안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠 | itposting" data-gatsby-head="true"/><meta name="twitter:description" content="" data-gatsby-head="true"/><meta name="twitter:image" content="/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png" data-gatsby-head="true"/><meta name="twitter:data1" content="Dev | itposting" data-gatsby-head="true"/><meta name="article:published_time" content="2024-06-19 18:18" data-gatsby-head="true"/><meta name="next-head-count" content="19"/><meta name="google-site-verification" content="a-yehRo3k3xv7fg6LqRaE8jlE42e5wP2bDE_2F849O4"/><link rel="stylesheet" href="/favicons/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/assets/favicons/favicon-96x96.png"/><link rel="icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-icon" href="/favicons/apple-icon-180x180.png"/><link rel="apple-touch-startup-image" href="/startup.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black"/><meta name="msapplication-config" content="/favicons/browserconfig.xml"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-23YXDLKDCL"></script><script>window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
          
            gtag('config', 'G-23YXDLKDCL');</script><link rel="preload" href="/_next/static/css/6e57edcf9f2ce551.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6e57edcf9f2ce551.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b8ef307c9aee1e34.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b8ef307c9aee1e34.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee6df16fdc6dae4d.js" defer=""></script><script src="/_next/static/chunks/framework-46611630e39cfdeb.js" defer=""></script><script src="/_next/static/chunks/main-cf4a52eec9a970a0.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6fae11262ee5c69b.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-ac4aa08aae62f90e.js" defer=""></script><script src="/_next/static/chunks/463-0429087d4c0b0335.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-d849684d6d83f07a.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_buildManifest.js" defer=""></script><script src="/_next/static/CYQjEY3HhSkRTiL0gewc0/_ssgManifest.js" defer=""></script></head><body><div id="__next"><header class="Header_header__Z8PUO"><div class="Header_inner__tfr0u"><strong class="Header_title__Otn70"><a href="/">IT Posting</a></strong><nav class="Header_nav_area__6KVpk"><a class="nav_item" href="/posts/1">Posts</a></nav></div></header><main class="posts_container__NyRU3"><div class="posts_inner__i3n_i"><h1 class="posts_post_title__EbxNx">안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠</h1><div class="posts_meta__cR7lu"><div class="posts_profile_wrap__mslMl"><div class="posts_profile_image_wrap__kPikV"><img alt="안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠" loading="lazy" width="44" height="44" decoding="async" data-nimg="1" class="profile" style="color:transparent" src="/favicons/apple-icon-114x114.png"/></div><div class="posts_textarea__w_iKT"><span class="writer">IT Posting</span><span class="posts_info__5KJdN"><span class="posts_date__ctqHI">Posted On Jun 19, 2024</span><span class="posts_reading_time__f7YPP">4<!-- --> min read</span></span></div></div><img alt="" loading="lazy" width="50" height="50" decoding="async" data-nimg="1" class="posts_view_badge__tcbfm" style="color:transparent" src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fallround-coder.github.io/post/2024-06-19-HowToInstallDockerUsingAnsible&amp;count_bg=%2379C83D&amp;title_bg=%23555555&amp;icon=&amp;icon_color=%23E7E7E7&amp;title=views&amp;edge_flat=false"/></div><article class="posts_post_content__n_L6j"><div><!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
</head>
<body>
<img src="/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png">
<p>이 게시물에서는 macOS에 Ansible을 설치하고 Docker를 설치하는 방법을 살펴볼 것입니다. Ansible은 서버 및 응용 프로그램 구성을 조직화하고 반복 가능한 방식으로 관리할 수 있는 강력한 자동화 도구입니다.</p>
<p>단계 1: macOS에 Ansible 설치하기
macOS에 Ansible을 설치하는 가장 간단한 방법은 macOS의 패키지 관리자 인 Homebrew를 사용하는 것입니다. 터미널을 열고 다음 명령어를 입력하세요:</p>
<pre><code class="hljs language-js">brew install ansible

# 또는 도커 이미지를 사용하여 플레이북 실행하기, 예시:
docker run --rm -it -v <span class="hljs-attr">$PWD</span>:<span class="hljs-regexp">/app -v ~/</span>.<span class="hljs-property">ssh</span>/<span class="hljs-attr">id_rsa</span>:<span class="hljs-regexp">/root/</span>.<span class="hljs-property">ssh</span>/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.<span class="hljs-property">ini</span> app/playbooks/docker.<span class="hljs-property">yml</span>
</code></pre>
<div class="content-ad"></div>
<h3>단계 2: Ansible 구성</h3>
<p>Ansible 작업을 실행하려는 기계의 IP 주소를 포함하는 inventory.ini 파일을 준비하십시오. 파일의 샘플 내용은 다음과 같습니다:</p>
<p>[all]</p>
<h1>이 경우, node1은 192.168.18.131 IP 주소를 가진 호스트명이며 garis는 sudo 사용자입니다.</h1>
<p>node1 ansible_host=192.168.18.131 ansible_user=garis ansible_ssh_common_args='-o StrictHostKeyChecking=no'</p>
<h3>단계 3: Docker 설치용 Ansible 플레이북 생성</h3>
<p>다음으로, playbooks라는 디렉토리 아래 docker.yml이라는 플레이북을 생성하십시오. 이 플레이북에는 원격 Ubuntu 서버에 Docker를 설치하는 데 필요한 모든 작업이 포함되어 있습니다. 플레이북은 다음과 같습니다:</p>
<hr>
<ul>
<li>
<p>name: Ubuntu에 Docker 설치
hosts: all
remote_user: garis  # 원격 사용자를 sudo 사용자로 변경하세요!
become: true
vars:
arch_mapping:  # Ansible 아키텍처 { ansible_architecture } 이름을 Docker 아키텍처 이름으로 매핑
x86_64: amd64
aarch64: arm64</p>
<p>tasks:</p>
<ul>
<li>
<p>name: 모든 패키지를 최신 버전으로 업데이트 및 업그레이드
ansible.builtin.apt:
update_cache: true
upgrade: dist
cache_valid_time: 3600</p>
</li>
<li>
<p>name: 필요한 패키지 설치
ansible.builtin.apt:
pkg:
- apt-transport-https
- ca-certificates
- curl
- gnupg
- software-properties-common</p>
</li>
<li>
<p>name: Docker의 GPG 키를 생성하기 위한 디렉터리 생성
ansible.builtin.file:
path: /etc/apt/keyrings
state: directory
mode: '0755'</p>
</li>
<li>
<p>name: Docker의 공식 GPG 키 추가
ansible.builtin.apt_key:
url: <a href="https://download.docker.com/linux/ubuntu/gpg" rel="nofollow" target="_blank">https://download.docker.com/linux/ubuntu/gpg</a>
keyring: /etc/apt/keyrings/docker.gpg
state: present</p>
</li>
<li>
<p>name: 아키텍처 변수 출력
ansible.builtin.debug:
msg: "아키텍처: { ansible_architecture }, Codename: { ansible_lsb.codename }"</p>
</li>
<li>
<p>name: Docker 저장소 추가
ansible.builtin.apt_repository:
repo: >-
deb [arch={ arch_mapping[ansible_architecture] | default(ansible_architecture) }
signed-by=/etc/apt/keyrings/docker.gpg]
<a href="https://download.docker.com/linux/ubuntu" rel="nofollow" target="_blank">https://download.docker.com/linux/ubuntu</a> { ansible_lsb.codename } stable
filename: docker
state: present</p>
</li>
<li>
<p>name: Docker 및 관련 패키지 설치
ansible.builtin.apt:
name: "{ item }"
state: present
update_cache: true
loop:</p>
<ul>
<li>docker-ce</li>
<li>docker-ce-cli</li>
<li>containerd.io</li>
<li>docker-buildx-plugin</li>
<li>docker-compose-plugin</li>
</ul>
</li>
<li>
<p>name: Docker 그룹 추가
ansible.builtin.group:
name: docker
state: present</p>
</li>
<li>
<p>name: 사용자를 Docker 그룹에 추가
ansible.builtin.user:
name: "{ ansible_user }"
groups: docker
append: true</p>
</li>
<li>
<p>name: Docker 서비스 활성화 및 시작
ansible.builtin.systemd:
name: "{ item }"
enabled: true
state: started
loop:</p>
<ul>
<li>docker.service</li>
<li>containerd.service</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="content-ad"></div>
<p>이 플레이북에는 패키지 업데이트, 필요한 종속성 설치, Docker의 GPG 키 추가, Docker 저장소 설정, Docker 및 관련 패키지 설치, Docker 그룹 추가, Docker 서비스가 활성화되고 실행되도록 하는 등 다양한 작업이 포함되어 있습니다.</p>
<p>단계 4: 플레이북 실행
마지막으로 다음 명령을 사용하여 플레이북을 실행할 수 있습니다:</p>
<pre><code class="hljs language-js">ansible-playbook -i inventory.<span class="hljs-property">ini</span> playbooks/docker.<span class="hljs-property">yml</span>

# 또는 도커 사용
docker run --rm -it -v <span class="hljs-attr">$PWD</span>:<span class="hljs-regexp">/app -v ~/</span>.<span class="hljs-property">ssh</span>/<span class="hljs-attr">id_rsa</span>:<span class="hljs-regexp">/root/</span>.<span class="hljs-property">ssh</span>/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.<span class="hljs-property">ini</span> app/playbooks/docker.<span class="hljs-property">yml</span>
</code></pre>
<p>이 명령은 inventory.ini 파일에서 지정된 호스트에 플레이북을 실행하여 Docker를 설치합니다.</p>
<div class="content-ad"></div>
<p>결론
위 단계를 따라서 macOS 노트북에 Ansible을 성공적으로 설치하고 원격 서버에 Docker 설치를 자동화했습니다. 이는 Ansible이 다양한 시스템 간 작업을 자동화하는 데 얼마나 강력하고 간단한지를 보여줍니다.</p>
</body>
</html>
</div></article></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"안녕하세요 Ansible을 사용하여 Docker 설치하는 방법에 관해 안내해 드리겠습니다 함께 시작해 보도록 하죠","description":"","date":"2024-06-19 18:18","slug":"2024-06-19-HowToInstallDockerUsingAnsible","content":"\n\n\u003cimg src=\"/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png\" /\u003e\n\n이 게시물에서는 macOS에 Ansible을 설치하고 Docker를 설치하는 방법을 살펴볼 것입니다. Ansible은 서버 및 응용 프로그램 구성을 조직화하고 반복 가능한 방식으로 관리할 수 있는 강력한 자동화 도구입니다.\n\n단계 1: macOS에 Ansible 설치하기\nmacOS에 Ansible을 설치하는 가장 간단한 방법은 macOS의 패키지 관리자 인 Homebrew를 사용하는 것입니다. 터미널을 열고 다음 명령어를 입력하세요:\n\n```js\nbrew install ansible\n\n# 또는 도커 이미지를 사용하여 플레이북 실행하기, 예시:\ndocker run --rm -it -v $PWD:/app -v ~/.ssh/id_rsa:/root/.ssh/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.ini app/playbooks/docker.yml\n```\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n### 단계 2: Ansible 구성\nAnsible 작업을 실행하려는 기계의 IP 주소를 포함하는 inventory.ini 파일을 준비하십시오. 파일의 샘플 내용은 다음과 같습니다:\n\n\n[all]\n# 이 경우, node1은 192.168.18.131 IP 주소를 가진 호스트명이며 garis는 sudo 사용자입니다.\nnode1 ansible_host=192.168.18.131 ansible_user=garis ansible_ssh_common_args='-o StrictHostKeyChecking=no'\n\n\n### 단계 3: Docker 설치용 Ansible 플레이북 생성\n다음으로, playbooks라는 디렉토리 아래 docker.yml이라는 플레이북을 생성하십시오. 이 플레이북에는 원격 Ubuntu 서버에 Docker를 설치하는 데 필요한 모든 작업이 포함되어 있습니다. 플레이북은 다음과 같습니다:\n\n\n---\n- name: Ubuntu에 Docker 설치\n  hosts: all\n  remote_user: garis  # 원격 사용자를 sudo 사용자로 변경하세요!\n  become: true\n  vars:\n    arch_mapping:  # Ansible 아키텍처 { ansible_architecture } 이름을 Docker 아키텍처 이름으로 매핑\n      x86_64: amd64\n      aarch64: arm64\n\n  tasks:\n    - name: 모든 패키지를 최신 버전으로 업데이트 및 업그레이드\n      ansible.builtin.apt:\n        update_cache: true\n        upgrade: dist\n        cache_valid_time: 3600\n\n    - name: 필요한 패키지 설치\n      ansible.builtin.apt:\n        pkg:\n          - apt-transport-https\n          - ca-certificates\n          - curl\n          - gnupg\n          - software-properties-common\n\n    - name: Docker의 GPG 키를 생성하기 위한 디렉터리 생성\n      ansible.builtin.file:\n        path: /etc/apt/keyrings\n        state: directory\n        mode: '0755'\n\n    - name: Docker의 공식 GPG 키 추가\n      ansible.builtin.apt_key:\n        url: https://download.docker.com/linux/ubuntu/gpg\n        keyring: /etc/apt/keyrings/docker.gpg\n        state: present\n\n    - name: 아키텍처 변수 출력\n      ansible.builtin.debug:\n        msg: \"아키텍처: { ansible_architecture }, Codename: { ansible_lsb.codename }\"\n\n    - name: Docker 저장소 추가\n      ansible.builtin.apt_repository:\n        repo: \u003e-\n          deb [arch={ arch_mapping[ansible_architecture] | default(ansible_architecture) }\n          signed-by=/etc/apt/keyrings/docker.gpg]\n          https://download.docker.com/linux/ubuntu { ansible_lsb.codename } stable\n        filename: docker\n        state: present\n\n    - name: Docker 및 관련 패키지 설치\n      ansible.builtin.apt:\n        name: \"{ item }\"\n        state: present\n        update_cache: true\n      loop:\n        - docker-ce\n        - docker-ce-cli\n        - containerd.io\n        - docker-buildx-plugin\n        - docker-compose-plugin\n\n    - name: Docker 그룹 추가\n      ansible.builtin.group:\n        name: docker\n        state: present\n\n    - name: 사용자를 Docker 그룹에 추가\n      ansible.builtin.user:\n        name: \"{ ansible_user }\"\n        groups: docker\n        append: true\n\n    - name: Docker 서비스 활성화 및 시작\n      ansible.builtin.systemd:\n        name: \"{ item }\"\n        enabled: true\n        state: started\n      loop:\n        - docker.service\n        - containerd.service\n\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n이 플레이북에는 패키지 업데이트, 필요한 종속성 설치, Docker의 GPG 키 추가, Docker 저장소 설정, Docker 및 관련 패키지 설치, Docker 그룹 추가, Docker 서비스가 활성화되고 실행되도록 하는 등 다양한 작업이 포함되어 있습니다.\n\n단계 4: 플레이북 실행\n마지막으로 다음 명령을 사용하여 플레이북을 실행할 수 있습니다:\n\n```js\nansible-playbook -i inventory.ini playbooks/docker.yml\n\n# 또는 도커 사용\ndocker run --rm -it -v $PWD:/app -v ~/.ssh/id_rsa:/root/.ssh/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.ini app/playbooks/docker.yml\n```\n\n이 명령은 inventory.ini 파일에서 지정된 호스트에 플레이북을 실행하여 Docker를 설치합니다.\n\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\n결론\n위 단계를 따라서 macOS 노트북에 Ansible을 성공적으로 설치하고 원격 서버에 Docker 설치를 자동화했습니다. 이는 Ansible이 다양한 시스템 간 작업을 자동화하는 데 얼마나 강력하고 간단한지를 보여줍니다.","ogImage":{"url":"/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png"},"coverImage":"/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png","tag":["Tech"],"readingTime":4},"content":"\u003c!doctype html\u003e\n\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n\u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta content=\"width=device-width, initial-scale=1\" name=\"viewport\"\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003cimg src=\"/assets/img/2024-06-19-HowToInstallDockerUsingAnsible_0.png\"\u003e\n\u003cp\u003e이 게시물에서는 macOS에 Ansible을 설치하고 Docker를 설치하는 방법을 살펴볼 것입니다. Ansible은 서버 및 응용 프로그램 구성을 조직화하고 반복 가능한 방식으로 관리할 수 있는 강력한 자동화 도구입니다.\u003c/p\u003e\n\u003cp\u003e단계 1: macOS에 Ansible 설치하기\nmacOS에 Ansible을 설치하는 가장 간단한 방법은 macOS의 패키지 관리자 인 Homebrew를 사용하는 것입니다. 터미널을 열고 다음 명령어를 입력하세요:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003ebrew install ansible\n\n# 또는 도커 이미지를 사용하여 플레이북 실행하기, 예시:\ndocker run --rm -it -v \u003cspan class=\"hljs-attr\"\u003e$PWD\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/app -v ~/\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003essh\u003c/span\u003e/\u003cspan class=\"hljs-attr\"\u003eid_rsa\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/root/\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003essh\u003c/span\u003e/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.\u003cspan class=\"hljs-property\"\u003eini\u003c/span\u003e app/playbooks/docker.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003ch3\u003e단계 2: Ansible 구성\u003c/h3\u003e\n\u003cp\u003eAnsible 작업을 실행하려는 기계의 IP 주소를 포함하는 inventory.ini 파일을 준비하십시오. 파일의 샘플 내용은 다음과 같습니다:\u003c/p\u003e\n\u003cp\u003e[all]\u003c/p\u003e\n\u003ch1\u003e이 경우, node1은 192.168.18.131 IP 주소를 가진 호스트명이며 garis는 sudo 사용자입니다.\u003c/h1\u003e\n\u003cp\u003enode1 ansible_host=192.168.18.131 ansible_user=garis ansible_ssh_common_args='-o StrictHostKeyChecking=no'\u003c/p\u003e\n\u003ch3\u003e단계 3: Docker 설치용 Ansible 플레이북 생성\u003c/h3\u003e\n\u003cp\u003e다음으로, playbooks라는 디렉토리 아래 docker.yml이라는 플레이북을 생성하십시오. 이 플레이북에는 원격 Ubuntu 서버에 Docker를 설치하는 데 필요한 모든 작업이 포함되어 있습니다. 플레이북은 다음과 같습니다:\u003c/p\u003e\n\u003chr\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ename: Ubuntu에 Docker 설치\nhosts: all\nremote_user: garis  # 원격 사용자를 sudo 사용자로 변경하세요!\nbecome: true\nvars:\narch_mapping:  # Ansible 아키텍처 { ansible_architecture } 이름을 Docker 아키텍처 이름으로 매핑\nx86_64: amd64\naarch64: arm64\u003c/p\u003e\n\u003cp\u003etasks:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ename: 모든 패키지를 최신 버전으로 업데이트 및 업그레이드\nansible.builtin.apt:\nupdate_cache: true\nupgrade: dist\ncache_valid_time: 3600\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: 필요한 패키지 설치\nansible.builtin.apt:\npkg:\n- apt-transport-https\n- ca-certificates\n- curl\n- gnupg\n- software-properties-common\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker의 GPG 키를 생성하기 위한 디렉터리 생성\nansible.builtin.file:\npath: /etc/apt/keyrings\nstate: directory\nmode: '0755'\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker의 공식 GPG 키 추가\nansible.builtin.apt_key:\nurl: \u003ca href=\"https://download.docker.com/linux/ubuntu/gpg\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://download.docker.com/linux/ubuntu/gpg\u003c/a\u003e\nkeyring: /etc/apt/keyrings/docker.gpg\nstate: present\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: 아키텍처 변수 출력\nansible.builtin.debug:\nmsg: \"아키텍처: { ansible_architecture }, Codename: { ansible_lsb.codename }\"\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker 저장소 추가\nansible.builtin.apt_repository:\nrepo: \u003e-\ndeb [arch={ arch_mapping[ansible_architecture] | default(ansible_architecture) }\nsigned-by=/etc/apt/keyrings/docker.gpg]\n\u003ca href=\"https://download.docker.com/linux/ubuntu\" rel=\"nofollow\" target=\"_blank\"\u003ehttps://download.docker.com/linux/ubuntu\u003c/a\u003e { ansible_lsb.codename } stable\nfilename: docker\nstate: present\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker 및 관련 패키지 설치\nansible.builtin.apt:\nname: \"{ item }\"\nstate: present\nupdate_cache: true\nloop:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edocker-ce\u003c/li\u003e\n\u003cli\u003edocker-ce-cli\u003c/li\u003e\n\u003cli\u003econtainerd.io\u003c/li\u003e\n\u003cli\u003edocker-buildx-plugin\u003c/li\u003e\n\u003cli\u003edocker-compose-plugin\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker 그룹 추가\nansible.builtin.group:\nname: docker\nstate: present\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: 사용자를 Docker 그룹에 추가\nansible.builtin.user:\nname: \"{ ansible_user }\"\ngroups: docker\nappend: true\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ename: Docker 서비스 활성화 및 시작\nansible.builtin.systemd:\nname: \"{ item }\"\nenabled: true\nstate: started\nloop:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edocker.service\u003c/li\u003e\n\u003cli\u003econtainerd.service\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e이 플레이북에는 패키지 업데이트, 필요한 종속성 설치, Docker의 GPG 키 추가, Docker 저장소 설정, Docker 및 관련 패키지 설치, Docker 그룹 추가, Docker 서비스가 활성화되고 실행되도록 하는 등 다양한 작업이 포함되어 있습니다.\u003c/p\u003e\n\u003cp\u003e단계 4: 플레이북 실행\n마지막으로 다음 명령을 사용하여 플레이북을 실행할 수 있습니다:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-js\"\u003eansible-playbook -i inventory.\u003cspan class=\"hljs-property\"\u003eini\u003c/span\u003e playbooks/docker.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e\n\n# 또는 도커 사용\ndocker run --rm -it -v \u003cspan class=\"hljs-attr\"\u003e$PWD\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/app -v ~/\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003essh\u003c/span\u003e/\u003cspan class=\"hljs-attr\"\u003eid_rsa\u003c/span\u003e:\u003cspan class=\"hljs-regexp\"\u003e/root/\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003essh\u003c/span\u003e/id_rsa alpinelinux/ansible ansible-playbook -i app/inventory.\u003cspan class=\"hljs-property\"\u003eini\u003c/span\u003e app/playbooks/docker.\u003cspan class=\"hljs-property\"\u003eyml\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이 명령은 inventory.ini 파일에서 지정된 호스트에 플레이북을 실행하여 Docker를 설치합니다.\u003c/p\u003e\n\u003cdiv class=\"content-ad\"\u003e\u003c/div\u003e\n\u003cp\u003e결론\n위 단계를 따라서 macOS 노트북에 Ansible을 성공적으로 설치하고 원격 서버에 Docker 설치를 자동화했습니다. 이는 Ansible이 다양한 시스템 간 작업을 자동화하는 데 얼마나 강력하고 간단한지를 보여줍니다.\u003c/p\u003e\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"2024-06-19-HowToInstallDockerUsingAnsible"},"buildId":"CYQjEY3HhSkRTiL0gewc0","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>